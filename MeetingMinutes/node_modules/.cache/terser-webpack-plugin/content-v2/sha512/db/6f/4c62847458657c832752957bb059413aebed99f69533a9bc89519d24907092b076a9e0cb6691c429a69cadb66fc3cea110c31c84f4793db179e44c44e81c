{"code":"!function(e,t){\"use strict\";\"object\"==typeof module&&\"object\"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error(\"jQuery requires a window with a document\");return t(e)}:t(e)}(\"undefined\"!=typeof window?window:this,(function(e,t){\"use strict\";var n=[],i=Object.getPrototypeOf,r=n.slice,o=n.flat?function(e){return n.flat.call(e)}:function(e){return n.concat.apply([],e)},a=n.push,s=n.indexOf,c={},l=c.toString,u=c.hasOwnProperty,d=u.toString,p=d.call(Object),h={},f=function(e){return\"function\"==typeof e&&\"number\"!=typeof e.nodeType},m=function(e){return null!=e&&e===e.window},g=e.document,v={type:!0,src:!0,nonce:!0,noModule:!0};function y(e,t,n){var i,r,o=(n=n||g).createElement(\"script\");if(o.text=e,t)for(i in v)(r=t[i]||t.getAttribute&&t.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function b(e){return null==e?e+\"\":\"object\"==typeof e||\"function\"==typeof e?c[l.call(e)]||\"object\":typeof e}var _=function(e,t){return new _.fn.init(e,t)};function E(e){var t=!!e&&\"length\"in e&&e.length,n=b(e);return!f(e)&&!m(e)&&(\"array\"===n||0===t||\"number\"==typeof t&&t>0&&t-1 in e)}_.fn=_.prototype={jquery:\"3.5.1\",constructor:_,length:0,toArray:function(){return r.call(this)},get:function(e){return null==e?r.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=_.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return _.each(this,e)},map:function(e){return this.pushStack(_.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(_.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(_.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},_.extend=_.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,c=arguments.length,l=!1;for(\"boolean\"==typeof a&&(l=a,a=arguments[s]||{},s++),\"object\"==typeof a||f(a)||(a={}),s===c&&(a=this,s--);s<c;s++)if(null!=(e=arguments[s]))for(t in e)i=e[t],\"__proto__\"!==t&&a!==i&&(l&&i&&(_.isPlainObject(i)||(r=Array.isArray(i)))?(n=a[t],o=r&&!Array.isArray(n)?[]:r||_.isPlainObject(n)?n:{},r=!1,a[t]=_.extend(l,o,i)):void 0!==i&&(a[t]=i));return a},_.extend({expando:\"jQuery\"+(\"3.5.1\"+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||\"[object Object]\"!==l.call(e)||(t=i(e))&&(\"function\"!=typeof(n=u.call(t,\"constructor\")&&t.constructor)||d.call(n)!==p))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){y(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(E(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(E(Object(e))?_.merge(n,\"string\"==typeof e?[e]:e):a.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:s.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;r<o;r++)!t(e[r],r)!==a&&i.push(e[r]);return i},map:function(e,t,n){var i,r,a=0,s=[];if(E(e))for(i=e.length;a<i;a++)null!=(r=t(e[a],a,n))&&s.push(r);else for(a in e)null!=(r=t(e[a],a,n))&&s.push(r);return o(s)},guid:1,support:h}),\"function\"==typeof Symbol&&(_.fn[Symbol.iterator]=n[Symbol.iterator]),_.each(\"Boolean Number String Function Array Date RegExp Object Error Symbol\".split(\" \"),(function(e,t){c[\"[object \"+t+\"]\"]=t.toLowerCase()}));var w=function(e){var t,n,i,r,o,a,s,c,l,u,d,p,h,f,m,g,v,y,b,_=\"sizzle\"+1*new Date,E=e.document,w=0,T=0,S=ce(),C=ce(),A=ce(),R=ce(),k=function(e,t){return e===t&&(d=!0),0},D={}.hasOwnProperty,x=[],I=x.pop,O=x.push,N=x.push,L=x.slice,M=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},P=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",j=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",F=\"(?:\\\\\\\\[\\\\da-fA-F]{1,6}\"+j+\"?|\\\\\\\\[^\\\\r\\\\n\\\\f]|[\\\\w-]|[^\\0-\\\\x7f])+\",U=\"\\\\[\"+j+\"*(\"+F+\")(?:\"+j+\"*([*^$|!~]?=)\"+j+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+F+\"))|)\"+j+\"*\\\\]\",B=\":(\"+F+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+U+\")*)|.*)\\\\)|)\",H=new RegExp(j+\"+\",\"g\"),J=new RegExp(\"^\"+j+\"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\"+j+\"+$\",\"g\"),G=new RegExp(\"^\"+j+\"*,\"+j+\"*\"),W=new RegExp(\"^\"+j+\"*([>+~]|\"+j+\")\"+j+\"*\"),V=new RegExp(j+\"|>\"),q=new RegExp(B),z=new RegExp(\"^\"+F+\"$\"),K={ID:new RegExp(\"^#(\"+F+\")\"),CLASS:new RegExp(\"^\\\\.(\"+F+\")\"),TAG:new RegExp(\"^(\"+F+\"|[*])\"),ATTR:new RegExp(\"^\"+U),PSEUDO:new RegExp(\"^\"+B),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\"+j+\"*(even|odd|(([+-]|)(\\\\d*)n|)\"+j+\"*(?:([+-]|)\"+j+\"*(\\\\d+)|))\"+j+\"*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:\"+P+\")$\",\"i\"),needsContext:new RegExp(\"^\"+j+\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\"+j+\"*((?:-\\\\d)?\\\\d*)\"+j+\"*\\\\)|)(?=[^-]|$)\",\"i\")},$=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,Q=/^h\\d$/i,Y=/^[^{]+\\{\\s*\\[native \\w/,Z=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,ee=/[+~]/,te=new RegExp(\"\\\\\\\\[\\\\da-fA-F]{1,6}\"+j+\"?|\\\\\\\\([^\\\\r\\\\n\\\\f])\",\"g\"),ne=function(e,t){var n=\"0x\"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},ie=/([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,re=function(e,t){return t?\"\\0\"===e?\"ï¿½\":e.slice(0,-1)+\"\\\\\"+e.charCodeAt(e.length-1).toString(16)+\" \":\"\\\\\"+e},oe=function(){p()},ae=_e((function(e){return!0===e.disabled&&\"fieldset\"===e.nodeName.toLowerCase()}),{dir:\"parentNode\",next:\"legend\"});try{N.apply(x=L.call(E.childNodes),E.childNodes)}catch(Ce){N={apply:x.length?function(e,t){O.apply(e,L.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function se(e,t,i,r){var o,s,l,u,d,f,v,y=t&&t.ownerDocument,E=t?t.nodeType:9;if(i=i||[],\"string\"!=typeof e||!e||1!==E&&9!==E&&11!==E)return i;if(!r&&(p(t),t=t||h,m)){if(11!==E&&(d=Z.exec(e)))if(o=d[1]){if(9===E){if(!(l=t.getElementById(o)))return i;if(l.id===o)return i.push(l),i}else if(y&&(l=y.getElementById(o))&&b(t,l)&&l.id===o)return i.push(l),i}else{if(d[2])return N.apply(i,t.getElementsByTagName(e)),i;if((o=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return N.apply(i,t.getElementsByClassName(o)),i}if(n.qsa&&!R[e+\" \"]&&(!g||!g.test(e))&&(1!==E||\"object\"!==t.nodeName.toLowerCase())){if(v=e,y=t,1===E&&(V.test(e)||W.test(e))){for((y=ee.test(e)&&ve(t.parentNode)||t)===t&&n.scope||((u=t.getAttribute(\"id\"))?u=u.replace(ie,re):t.setAttribute(\"id\",u=_)),s=(f=a(e)).length;s--;)f[s]=(u?\"#\"+u:\":scope\")+\" \"+be(f[s]);v=f.join(\",\")}try{return N.apply(i,y.querySelectorAll(v)),i}catch(w){R(e,!0)}finally{u===_&&t.removeAttribute(\"id\")}}}return c(e.replace(J,\"$1\"),t,i,r)}function ce(){var e=[];return function t(n,r){return e.push(n+\" \")>i.cacheLength&&delete t[e.shift()],t[n+\" \"]=r}}function le(e){return e[_]=!0,e}function ue(e){var t=h.createElement(\"fieldset\");try{return!!e(t)}catch(Ce){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var n=e.split(\"|\"),r=n.length;r--;)i.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(e){return function(t){return\"input\"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return(\"input\"===n||\"button\"===n)&&t.type===e}}function me(e){return function(t){return\"form\"in t?t.parentNode&&!1===t.disabled?\"label\"in t?\"label\"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:\"label\"in t&&t.disabled===e}}function ge(e){return le((function(t){return t=+t,le((function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))}))}))}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},o=se.isXML=function(e){var t=(e.ownerDocument||e).documentElement;return!$.test(e.namespaceURI||t&&t.nodeName||\"HTML\")},p=se.setDocument=function(e){var t,r,a=e?e.ownerDocument||e:E;return a!=h&&9===a.nodeType&&a.documentElement?(f=(h=a).documentElement,m=!o(h),E!=h&&(r=h.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener(\"unload\",oe,!1):r.attachEvent&&r.attachEvent(\"onunload\",oe)),n.scope=ue((function(e){return f.appendChild(e).appendChild(h.createElement(\"div\")),void 0!==e.querySelectorAll&&!e.querySelectorAll(\":scope fieldset div\").length})),n.attributes=ue((function(e){return e.className=\"i\",!e.getAttribute(\"className\")})),n.getElementsByTagName=ue((function(e){return e.appendChild(h.createComment(\"\")),!e.getElementsByTagName(\"*\").length})),n.getElementsByClassName=Y.test(h.getElementsByClassName),n.getById=ue((function(e){return f.appendChild(e).id=_,!h.getElementsByName||!h.getElementsByName(_).length})),n.getById?(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute(\"id\")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode(\"id\");return n&&n.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode(\"id\"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode(\"id\"))&&n.value===e)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if(\"*\"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},v=[],g=[],(n.qsa=Y.test(h.querySelectorAll))&&(ue((function(e){var t;f.appendChild(e).innerHTML=\"<a id='\"+_+\"'></a><select id='\"+_+\"-\\r\\\\' msallowcapture=''><option selected=''></option></select>\",e.querySelectorAll(\"[msallowcapture^='']\").length&&g.push(\"[*^$]=\"+j+\"*(?:''|\\\"\\\")\"),e.querySelectorAll(\"[selected]\").length||g.push(\"\\\\[\"+j+\"*(?:value|\"+P+\")\"),e.querySelectorAll(\"[id~=\"+_+\"-]\").length||g.push(\"~=\"),(t=h.createElement(\"input\")).setAttribute(\"name\",\"\"),e.appendChild(t),e.querySelectorAll(\"[name='']\").length||g.push(\"\\\\[\"+j+\"*name\"+j+\"*=\"+j+\"*(?:''|\\\"\\\")\"),e.querySelectorAll(\":checked\").length||g.push(\":checked\"),e.querySelectorAll(\"a#\"+_+\"+*\").length||g.push(\".#.+[+~]\"),e.querySelectorAll(\"\\\\\\f\"),g.push(\"[\\\\r\\\\n\\\\f]\")})),ue((function(e){e.innerHTML=\"<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>\";var t=h.createElement(\"input\");t.setAttribute(\"type\",\"hidden\"),e.appendChild(t).setAttribute(\"name\",\"D\"),e.querySelectorAll(\"[name=d]\").length&&g.push(\"name\"+j+\"*[*^$|!~]?=\"),2!==e.querySelectorAll(\":enabled\").length&&g.push(\":enabled\",\":disabled\"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(\":disabled\").length&&g.push(\":enabled\",\":disabled\"),e.querySelectorAll(\"*,:x\"),g.push(\",.*:\")}))),(n.matchesSelector=Y.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ue((function(e){n.disconnectedMatch=y.call(e,\"*\"),y.call(e,\"[s!='']:x\"),v.push(\"!=\",B)})),g=g.length&&new RegExp(g.join(\"|\")),v=v.length&&new RegExp(v.join(\"|\")),t=Y.test(f.compareDocumentPosition),b=t||Y.test(f.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},k=t?function(e,t){if(e===t)return d=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e==h||e.ownerDocument==E&&b(E,e)?-1:t==h||t.ownerDocument==E&&b(E,t)?1:u?M(u,e)-M(u,t):0:4&i?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!r||!o)return e==h?-1:t==h?1:r?-1:o?1:u?M(u,e)-M(u,t):0;if(r===o)return pe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?pe(a[i],s[i]):a[i]==E?-1:s[i]==E?1:0},h):h},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(p(e),n.matchesSelector&&m&&!R[t+\" \"]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var i=y.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(Ce){R(t,!0)}return se(t,h,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!=h&&p(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=h&&p(e);var r=i.attrHandle[t.toLowerCase()],o=r&&D.call(i.attrHandle,t.toLowerCase())?r(e,t,!m):void 0;return void 0!==o?o:n.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},se.escape=function(e){return(e+\"\").replace(ie,re)},se.error=function(e){throw new Error(\"Syntax error, unrecognized expression: \"+e)},se.uniqueSort=function(e){var t,i=[],r=0,o=0;if(d=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(k),d){for(;t=e[o++];)t===e[o]&&(r=i.push(o));for(;r--;)e.splice(i[r],1)}return u=null,e},r=se.getText=function(e){var t,n=\"\",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if(\"string\"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},(i=se.selectors={cacheLength:50,createPseudo:le,match:K,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||\"\").replace(te,ne),\"~=\"===e[2]&&(e[3]=\" \"+e[3]+\" \"),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),\"nth\"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(\"even\"===e[3]||\"odd\"===e[3])),e[5]=+(e[7]+e[8]||\"odd\"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||\"\":n&&q.test(n)&&(t=a(n,!0))&&(t=n.indexOf(\")\",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return\"*\"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+\" \"];return t||(t=new RegExp(\"(^|\"+j+\")\"+e+\"(\"+j+\"|$)\"))&&S(e,(function(e){return t.test(\"string\"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute(\"class\")||\"\")}))},ATTR:function(e,t,n){return function(i){var r=se.attr(i,e);return null==r?\"!=\"===t:!t||(r+=\"\",\"=\"===t?r===n:\"!=\"===t?r!==n:\"^=\"===t?n&&0===r.indexOf(n):\"*=\"===t?n&&r.indexOf(n)>-1:\"$=\"===t?n&&r.slice(-n.length)===n:\"~=\"===t?(\" \"+r.replace(H,\" \")+\" \").indexOf(n)>-1:\"|=\"===t&&(r===n||r.slice(0,n.length+1)===n+\"-\"))}},CHILD:function(e,t,n,i,r){var o=\"nth\"!==e.slice(0,3),a=\"last\"!==e.slice(-4),s=\"of-type\"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,c){var l,u,d,p,h,f,m=o!==a?\"nextSibling\":\"previousSibling\",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!c&&!s,b=!1;if(g){if(o){for(;m;){for(p=t;p=p[m];)if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;f=m=\"only\"===e&&!f&&\"nextSibling\"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&y){for(b=(h=(l=(u=(d=(p=g)[_]||(p[_]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]||[])[0]===w&&l[1])&&l[2],p=h&&g.childNodes[h];p=++h&&p&&p[m]||(b=h=0)||f.pop();)if(1===p.nodeType&&++b&&p===t){u[e]=[w,h,b];break}}else if(y&&(b=h=(l=(u=(d=(p=t)[_]||(p[_]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]||[])[0]===w&&l[1]),!1===b)for(;(p=++h&&p&&p[m]||(b=h=0)||f.pop())&&((s?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++b||(y&&((u=(d=p[_]||(p[_]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]=[w,b]),p!==t)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||se.error(\"unsupported pseudo: \"+e);return r[_]?r(t):r.length>1?(n=[e,e,\"\",t],i.setFilters.hasOwnProperty(e.toLowerCase())?le((function(e,n){for(var i,o=r(e,t),a=o.length;a--;)e[i=M(e,o[a])]=!(n[i]=o[a])})):function(e){return r(e,0,n)}):r}},pseudos:{not:le((function(e){var t=[],n=[],i=s(e.replace(J,\"$1\"));return i[_]?le((function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}})),has:le((function(e){return function(t){return se(e,t).length>0}})),contains:le((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||r(t)).indexOf(e)>-1}})),lang:le((function(e){return z.test(e||\"\")||se.error(\"unsupported lang: \"+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute(\"xml:lang\")||t.getAttribute(\"lang\"))return(n=n.toLowerCase())===e||0===n.indexOf(e+\"-\")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return\"input\"===t&&!!e.checked||\"option\"===t&&!!e.selected},selected:function(e){return!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return\"input\"===t&&\"button\"===e.type||\"button\"===t},text:function(e){var t;return\"input\"===e.nodeName.toLowerCase()&&\"text\"===e.type&&(null==(t=e.getAttribute(\"type\"))||\"text\"===t.toLowerCase())},first:ge((function(){return[0]})),last:ge((function(e,t){return[t-1]})),eq:ge((function(e,t,n){return[n<0?n+t:n]})),even:ge((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ge((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ge((function(e,t,n){for(var i=n<0?n+t:n>t?t:n;--i>=0;)e.push(i);return e})),gt:ge((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=he(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=fe(t);function ye(){}function be(e){for(var t=0,n=e.length,i=\"\";t<n;t++)i+=e[t].value;return i}function _e(e,t,n){var i=t.dir,r=t.next,o=r||i,a=n&&\"parentNode\"===o,s=T++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,r);return!1}:function(t,n,c){var l,u,d,p=[w,s];if(c){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,c))return!0}else for(;t=t[i];)if(1===t.nodeType||a)if(u=(d=t[_]||(t[_]={}))[t.uniqueID]||(d[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[i]||t;else{if((l=u[o])&&l[0]===w&&l[1]===s)return p[2]=l[2];if(u[o]=p,p[2]=e(t,n,c))return!0}return!1}}function Ee(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function we(e,t,n,i,r){for(var o,a=[],s=0,c=e.length,l=null!=t;s<c;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),l&&t.push(s)));return a}function Te(e,t,n,i,r,o){return i&&!i[_]&&(i=Te(i)),r&&!r[_]&&(r=Te(r,o)),le((function(o,a,s,c){var l,u,d,p=[],h=[],f=a.length,m=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)se(e,t[i],n);return n}(t||\"*\",s.nodeType?[s]:s,[]),g=!e||!o&&t?m:we(m,p,e,s,c),v=n?r||(o?e:f||i)?[]:a:g;if(n&&n(g,v,s,c),i)for(l=we(v,h),i(l,[],s,c),u=l.length;u--;)(d=l[u])&&(v[h[u]]=!(g[h[u]]=d));if(o){if(r||e){if(r){for(l=[],u=v.length;u--;)(d=v[u])&&l.push(g[u]=d);r(null,v=[],l,c)}for(u=v.length;u--;)(d=v[u])&&(l=r?M(o,d):p[u])>-1&&(o[l]=!(a[l]=d))}}else v=we(v===a?v.splice(f,v.length):v),r?r(null,a,v,c):N.apply(a,v)}))}function Se(e){for(var t,n,r,o=e.length,a=i.relative[e[0].type],s=a||i.relative[\" \"],c=a?1:0,u=_e((function(e){return e===t}),s,!0),d=_e((function(e){return M(t,e)>-1}),s,!0),p=[function(e,n,i){var r=!a&&(i||n!==l)||((t=n).nodeType?u(e,n,i):d(e,n,i));return t=null,r}];c<o;c++)if(n=i.relative[e[c].type])p=[_e(Ee(p),n)];else{if((n=i.filter[e[c].type].apply(null,e[c].matches))[_]){for(r=++c;r<o&&!i.relative[e[r].type];r++);return Te(c>1&&Ee(p),c>1&&be(e.slice(0,c-1).concat({value:\" \"===e[c-2].type?\"*\":\"\"})).replace(J,\"$1\"),n,c<r&&Se(e.slice(c,r)),r<o&&Se(e=e.slice(r)),r<o&&be(e))}p.push(n)}return Ee(p)}return ye.prototype=i.filters=i.pseudos,i.setFilters=new ye,a=se.tokenize=function(e,t){var n,r,o,a,s,c,l,u=C[e+\" \"];if(u)return t?0:u.slice(0);for(s=e,c=[],l=i.preFilter;s;){for(a in n&&!(r=G.exec(s))||(r&&(s=s.slice(r[0].length)||s),c.push(o=[])),n=!1,(r=W.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(J,\" \")}),s=s.slice(n.length)),i.filter)!(r=K[a].exec(s))||l[a]&&!(r=l[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):C(e,c).slice(0)},s=se.compile=function(e,t){var n,r=[],o=[],s=A[e+\" \"];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=Se(t[n]))[_]?r.push(s):o.push(s);(s=A(e,function(e,t){var n=t.length>0,r=e.length>0,o=function(o,a,s,c,u){var d,f,g,v=0,y=\"0\",b=o&&[],_=[],E=l,T=o||r&&i.find.TAG(\"*\",u),S=w+=null==E?1:Math.random()||.1,C=T.length;for(u&&(l=a==h||a||u);y!==C&&null!=(d=T[y]);y++){if(r&&d){for(f=0,a||d.ownerDocument==h||(p(d),s=!m);g=e[f++];)if(g(d,a||h,s)){c.push(d);break}u&&(w=S)}n&&((d=!g&&d)&&v--,o&&b.push(d))}if(v+=y,n&&y!==v){for(f=0;g=t[f++];)g(b,_,a,s);if(o){if(v>0)for(;y--;)b[y]||_[y]||(_[y]=I.call(c));_=we(_)}N.apply(c,_),u&&!o&&_.length>0&&v+t.length>1&&se.uniqueSort(c)}return u&&(w=S,l=E),b};return n?le(o):o}(o,r))).selector=e}return s},c=se.select=function(e,t,n,r){var o,c,l,u,d,p=\"function\"==typeof e&&e,h=!r&&a(e=p.selector||e);if(n=n||[],1===h.length){if((c=h[0]=h[0].slice(0)).length>2&&\"ID\"===(l=c[0]).type&&9===t.nodeType&&m&&i.relative[c[1].type]){if(!(t=(i.find.ID(l.matches[0].replace(te,ne),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(o=K.needsContext.test(e)?0:c.length;o--&&!i.relative[u=(l=c[o]).type];)if((d=i.find[u])&&(r=d(l.matches[0].replace(te,ne),ee.test(c[0].type)&&ve(t.parentNode)||t))){if(c.splice(o,1),!(e=r.length&&be(c)))return N.apply(n,r),n;break}}return(p||s(e,h))(r,t,!m,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},n.sortStable=_.split(\"\").sort(k).join(\"\")===_,n.detectDuplicates=!!d,p(),n.sortDetached=ue((function(e){return 1&e.compareDocumentPosition(h.createElement(\"fieldset\"))})),ue((function(e){return e.innerHTML=\"<a href='#'></a>\",\"#\"===e.firstChild.getAttribute(\"href\")}))||de(\"type|href|height|width\",(function(e,t,n){if(!n)return e.getAttribute(t,\"type\"===t.toLowerCase()?1:2)})),n.attributes&&ue((function(e){return e.innerHTML=\"<input/>\",e.firstChild.setAttribute(\"value\",\"\"),\"\"===e.firstChild.getAttribute(\"value\")}))||de(\"value\",(function(e,t,n){if(!n&&\"input\"===e.nodeName.toLowerCase())return e.defaultValue})),ue((function(e){return null==e.getAttribute(\"disabled\")}))||de(P,(function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null})),se}(e);_.find=w,_.expr=w.selectors,_.expr[\":\"]=_.expr.pseudos,_.uniqueSort=_.unique=w.uniqueSort,_.text=w.getText,_.isXMLDoc=w.isXML,_.contains=w.contains,_.escapeSelector=w.escape;var T=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&_(e).is(n))break;i.push(e)}return i},S=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},C=_.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var R=/^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i;function k(e,t,n){return f(t)?_.grep(e,(function(e,i){return!!t.call(e,i,e)!==n})):t.nodeType?_.grep(e,(function(e){return e===t!==n})):\"string\"!=typeof t?_.grep(e,(function(e){return s.call(t,e)>-1!==n})):_.filter(t,e,n)}_.filter=function(e,t,n){var i=t[0];return n&&(e=\":not(\"+e+\")\"),1===t.length&&1===i.nodeType?_.find.matchesSelector(i,e)?[i]:[]:_.find.matches(e,_.grep(t,(function(e){return 1===e.nodeType})))},_.fn.extend({find:function(e){var t,n,i=this.length,r=this;if(\"string\"!=typeof e)return this.pushStack(_(e).filter((function(){for(t=0;t<i;t++)if(_.contains(r[t],this))return!0})));for(n=this.pushStack([]),t=0;t<i;t++)_.find(e,r[t],n);return i>1?_.uniqueSort(n):n},filter:function(e){return this.pushStack(k(this,e||[],!1))},not:function(e){return this.pushStack(k(this,e||[],!0))},is:function(e){return!!k(this,\"string\"==typeof e&&C.test(e)?_(e):e||[],!1).length}});var D,x=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/;(_.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||D,\"string\"==typeof e){if(!(i=\"<\"===e[0]&&\">\"===e[e.length-1]&&e.length>=3?[null,e,null]:x.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(_.merge(this,_.parseHTML(i[1],(t=t instanceof _?t[0]:t)&&t.nodeType?t.ownerDocument||t:g,!0)),R.test(i[1])&&_.isPlainObject(t))for(i in t)f(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=g.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):f(e)?void 0!==n.ready?n.ready(e):e(_):_.makeArray(e,this)}).prototype=_.fn,D=_(g);var I=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};function N(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}_.fn.extend({has:function(e){var t=_(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(_.contains(this,t[e]))return!0}))},closest:function(e,t){var n,i=0,r=this.length,o=[],a=\"string\"!=typeof e&&_(e);if(!C.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&_.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?_.uniqueSort(o):o)},index:function(e){return e?\"string\"==typeof e?s.call(_(e),this[0]):s.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(_.uniqueSort(_.merge(this.get(),_(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),_.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return T(e,\"parentNode\")},parentsUntil:function(e,t,n){return T(e,\"parentNode\",n)},next:function(e){return N(e,\"nextSibling\")},prev:function(e){return N(e,\"previousSibling\")},nextAll:function(e){return T(e,\"nextSibling\")},prevAll:function(e){return T(e,\"previousSibling\")},nextUntil:function(e,t,n){return T(e,\"nextSibling\",n)},prevUntil:function(e,t,n){return T(e,\"previousSibling\",n)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return null!=e.contentDocument&&i(e.contentDocument)?e.contentDocument:(A(e,\"template\")&&(e=e.content||e),_.merge([],e.childNodes))}},(function(e,t){_.fn[e]=function(n,i){var r=_.map(this,t,n);return\"Until\"!==e.slice(-5)&&(i=n),i&&\"string\"==typeof i&&(r=_.filter(i,r)),this.length>1&&(O[e]||_.uniqueSort(r),I.test(e)&&r.reverse()),this.pushStack(r)}}));var L=/[^\\x20\\t\\r\\n\\f]+/g;function M(e){return e}function P(e){throw e}function j(e,t,n,i){var r;try{e&&f(r=e.promise)?r.call(e).done(t).fail(n):e&&f(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}_.Callbacks=function(e){e=\"string\"==typeof e?function(e){var t={};return _.each(e.match(L)||[],(function(e,n){t[n]=!0})),t}(e):_.extend({},e);var t,n,i,r,o=[],a=[],s=-1,c=function(){for(r=r||e.once,i=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,r&&(o=n?[]:\"\")},l={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){_.each(n,(function(n,i){f(i)?e.unique&&l.has(i)||o.push(i):i&&i.length&&\"string\"!==b(i)&&t(i)}))}(arguments),n&&!t&&c()),this},remove:function(){return _.each(arguments,(function(e,t){for(var n;(n=_.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--})),this},has:function(e){return e?_.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n=\"\",this},disabled:function(){return!o},lock:function(){return r=a=[],n||t||(o=n=\"\"),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},_.extend({Deferred:function(t){var n=[[\"notify\",\"progress\",_.Callbacks(\"memory\"),_.Callbacks(\"memory\"),2],[\"resolve\",\"done\",_.Callbacks(\"once memory\"),_.Callbacks(\"once memory\"),0,\"resolved\"],[\"reject\",\"fail\",_.Callbacks(\"once memory\"),_.Callbacks(\"once memory\"),1,\"rejected\"]],i=\"pending\",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return _.Deferred((function(t){_.each(n,(function(n,i){var r=f(e[i[4]])&&e[i[4]];o[i[1]]((function(){var e=r&&r.apply(this,arguments);e&&f(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[i[0]+\"With\"](this,r?[e]:arguments)}))})),e=null})).promise()},then:function(t,i,r){var o=0;function a(t,n,i,r){return function(){var s=this,c=arguments,l=function(){var e,l;if(!(t<o)){if((e=i.apply(s,c))===n.promise())throw new TypeError(\"Thenable self-resolution\");f(l=e&&(\"object\"==typeof e||\"function\"==typeof e)&&e.then)?r?l.call(e,a(o,n,M,r),a(o,n,P,r)):(o++,l.call(e,a(o,n,M,r),a(o,n,P,r),a(o,n,M,n.notifyWith))):(i!==M&&(s=void 0,c=[e]),(r||n.resolveWith)(s,c))}},u=r?l:function(){try{l()}catch(e){_.Deferred.exceptionHook&&_.Deferred.exceptionHook(e,u.stackTrace),t+1>=o&&(i!==P&&(s=void 0,c=[e]),n.rejectWith(s,c))}};t?u():(_.Deferred.getStackHook&&(u.stackTrace=_.Deferred.getStackHook()),e.setTimeout(u))}}return _.Deferred((function(e){n[0][3].add(a(0,e,f(r)?r:M,e.notifyWith)),n[1][3].add(a(0,e,f(t)?t:M)),n[2][3].add(a(0,e,f(i)?i:P))})).promise()},promise:function(e){return null!=e?_.extend(e,r):r}},o={};return _.each(n,(function(e,t){var a=t[2],s=t[5];r[t[1]]=a.add,s&&a.add((function(){i=s}),n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+\"With\"](this===o?void 0:this,arguments),this},o[t[0]+\"With\"]=a.fireWith})),r.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),o=r.call(arguments),a=_.Deferred(),s=function(e){return function(n){i[e]=this,o[e]=arguments.length>1?r.call(arguments):n,--t||a.resolveWith(i,o)}};if(t<=1&&(j(e,a.done(s(n)).resolve,a.reject,!t),\"pending\"===a.state()||f(o[n]&&o[n].then)))return a.then();for(;n--;)j(o[n],s(n),a.reject);return a.promise()}});var F=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;_.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&F.test(t.name)&&e.console.warn(\"jQuery.Deferred exception: \"+t.message,t.stack,n)},_.readyException=function(t){e.setTimeout((function(){throw t}))};var U=_.Deferred();function B(){g.removeEventListener(\"DOMContentLoaded\",B),e.removeEventListener(\"load\",B),_.ready()}_.fn.ready=function(e){return U.then(e).catch((function(e){_.readyException(e)})),this},_.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--_.readyWait:_.isReady)||(_.isReady=!0,!0!==e&&--_.readyWait>0||U.resolveWith(g,[_]))}}),_.ready.then=U.then,\"complete\"===g.readyState||\"loading\"!==g.readyState&&!g.documentElement.doScroll?e.setTimeout(_.ready):(g.addEventListener(\"DOMContentLoaded\",B),e.addEventListener(\"load\",B));var H=function(e,t,n,i,r,o,a){var s=0,c=e.length,l=null==n;if(\"object\"===b(n))for(s in r=!0,n)H(e,t,s,n[s],!0,o,a);else if(void 0!==i&&(r=!0,f(i)||(a=!0),l&&(a?(t.call(e,i),t=null):(l=t,t=function(e,t,n){return l.call(_(e),n)})),t))for(;s<c;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:l?t.call(e):c?t(e[0],n):o},J=/^-ms-/,G=/-([a-z])/g;function W(e,t){return t.toUpperCase()}function V(e){return e.replace(J,\"ms-\").replace(G,W)}var q=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function z(){this.expando=_.expando+z.uid++}z.uid=1,z.prototype={cache:function(e){var t=e[this.expando];return t||(t={},q(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if(\"string\"==typeof t)r[V(t)]=n;else for(i in t)r[V(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][V(t)]},access:function(e,t,n){return void 0===t||t&&\"string\"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(V):(t=V(t))in i?[t]:t.match(L)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||_.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!_.isEmptyObject(t)}};var K=new z,$=new z,X=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,Q=/[A-Z]/g;function Y(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i=\"data-\"+t.replace(Q,\"-$&\").toLowerCase(),\"string\"==typeof(n=e.getAttribute(i))){try{n=function(e){return\"true\"===e||\"false\"!==e&&(\"null\"===e?null:e===+e+\"\"?+e:X.test(e)?JSON.parse(e):e)}(n)}catch(r){}$.set(e,t,n)}else n=void 0;return n}_.extend({hasData:function(e){return $.hasData(e)||K.hasData(e)},data:function(e,t,n){return $.access(e,t,n)},removeData:function(e,t){$.remove(e,t)},_data:function(e,t,n){return K.access(e,t,n)},_removeData:function(e,t){K.remove(e,t)}}),_.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=$.get(o),1===o.nodeType&&!K.get(o,\"hasDataAttrs\"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf(\"data-\")&&(i=V(i.slice(5)),Y(o,i,r[i]));K.set(o,\"hasDataAttrs\",!0)}return r}return\"object\"==typeof e?this.each((function(){$.set(this,e)})):H(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=$.get(o,e))?n:void 0!==(n=Y(o,e))?n:void 0;this.each((function(){$.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){$.remove(this,e)}))}}),_.extend({queue:function(e,t,n){var i;if(e)return i=K.get(e,t=(t||\"fx\")+\"queue\"),n&&(!i||Array.isArray(n)?i=K.access(e,t,_.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){var n=_.queue(e,t=t||\"fx\"),i=n.length,r=n.shift(),o=_._queueHooks(e,t);\"inprogress\"===r&&(r=n.shift(),i--),r&&(\"fx\"===t&&n.unshift(\"inprogress\"),delete o.stop,r.call(e,(function(){_.dequeue(e,t)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+\"queueHooks\";return K.get(e,n)||K.access(e,n,{empty:_.Callbacks(\"once memory\").add((function(){K.remove(e,[t+\"queue\",n])}))})}}),_.fn.extend({queue:function(e,t){var n=2;return\"string\"!=typeof e&&(t=e,e=\"fx\",n--),arguments.length<n?_.queue(this[0],e):void 0===t?this:this.each((function(){var n=_.queue(this,e,t);_._queueHooks(this,e),\"fx\"===e&&\"inprogress\"!==n[0]&&_.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){_.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||\"fx\",[])},promise:function(e,t){var n,i=1,r=_.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for(\"string\"!=typeof e&&(t=e,e=void 0),e=e||\"fx\";a--;)(n=K.get(o[a],e+\"queueHooks\"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var Z=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,ee=new RegExp(\"^(?:([+-])=|)(\"+Z+\")([a-z%]*)$\",\"i\"),te=[\"Top\",\"Right\",\"Bottom\",\"Left\"],ne=g.documentElement,ie=function(e){return _.contains(e.ownerDocument,e)},re={composed:!0};ne.getRootNode&&(ie=function(e){return _.contains(e.ownerDocument,e)||e.getRootNode(re)===e.ownerDocument});var oe=function(e,t){return\"none\"===(e=t||e).style.display||\"\"===e.style.display&&ie(e)&&\"none\"===_.css(e,\"display\")};function ae(e,t,n,i){var r,o,a=20,s=i?function(){return i.cur()}:function(){return _.css(e,t,\"\")},c=s(),l=n&&n[3]||(_.cssNumber[t]?\"\":\"px\"),u=e.nodeType&&(_.cssNumber[t]||\"px\"!==l&&+c)&&ee.exec(_.css(e,t));if(u&&u[3]!==l){for(l=l||u[3],u=+(c/=2)||1;a--;)_.style(e,t,u+l),(1-o)*(1-(o=s()/c||.5))<=0&&(a=0),u/=o;_.style(e,t,(u*=2)+l),n=n||[]}return n&&(u=+u||+c||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=u,i.end=r)),r}var se={};function ce(e){var t,n=e.ownerDocument,i=e.nodeName,r=se[i];return r||(t=n.body.appendChild(n.createElement(i)),r=_.css(t,\"display\"),t.parentNode.removeChild(t),\"none\"===r&&(r=\"block\"),se[i]=r,r)}function le(e,t){for(var n,i,r=[],o=0,a=e.length;o<a;o++)(i=e[o]).style&&(n=i.style.display,t?(\"none\"===n&&(r[o]=K.get(i,\"display\")||null,r[o]||(i.style.display=\"\")),\"\"===i.style.display&&oe(i)&&(r[o]=ce(i))):\"none\"!==n&&(r[o]=\"none\",K.set(i,\"display\",n)));for(o=0;o<a;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}_.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return\"boolean\"==typeof e?e?this.show():this.hide():this.each((function(){oe(this)?_(this).show():_(this).hide()}))}});var ue,de,pe=/^(?:checkbox|radio)$/i,he=/<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i,fe=/^$|^module$|\\/(?:java|ecma)script/i;ue=g.createDocumentFragment().appendChild(g.createElement(\"div\")),(de=g.createElement(\"input\")).setAttribute(\"type\",\"radio\"),de.setAttribute(\"checked\",\"checked\"),de.setAttribute(\"name\",\"t\"),ue.appendChild(de),h.checkClone=ue.cloneNode(!0).cloneNode(!0).lastChild.checked,ue.innerHTML=\"<textarea>x</textarea>\",h.noCloneChecked=!!ue.cloneNode(!0).lastChild.defaultValue,ue.innerHTML=\"<option></option>\",h.option=!!ue.lastChild;var me={thead:[1,\"<table>\",\"</table>\"],col:[2,\"<table><colgroup>\",\"</colgroup></table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:[0,\"\",\"\"]};function ge(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||\"*\"):void 0!==e.querySelectorAll?e.querySelectorAll(t||\"*\"):[],void 0===t||t&&A(e,t)?_.merge([e],n):n}function ve(e,t){for(var n=0,i=e.length;n<i;n++)K.set(e[n],\"globalEval\",!t||K.get(t[n],\"globalEval\"))}me.tbody=me.tfoot=me.colgroup=me.caption=me.thead,me.th=me.td,h.option||(me.optgroup=me.option=[1,\"<select multiple='multiple'>\",\"</select>\"]);var ye=/<|&#?\\w+;/;function be(e,t,n,i,r){for(var o,a,s,c,l,u,d=t.createDocumentFragment(),p=[],h=0,f=e.length;h<f;h++)if((o=e[h])||0===o)if(\"object\"===b(o))_.merge(p,o.nodeType?[o]:o);else if(ye.test(o)){for(a=a||d.appendChild(t.createElement(\"div\")),s=(he.exec(o)||[\"\",\"\"])[1].toLowerCase(),a.innerHTML=(c=me[s]||me._default)[1]+_.htmlPrefilter(o)+c[2],u=c[0];u--;)a=a.lastChild;_.merge(p,a.childNodes),(a=d.firstChild).textContent=\"\"}else p.push(t.createTextNode(o));for(d.textContent=\"\",h=0;o=p[h++];)if(i&&_.inArray(o,i)>-1)r&&r.push(o);else if(l=ie(o),a=ge(d.appendChild(o),\"script\"),l&&ve(a),n)for(u=0;o=a[u++];)fe.test(o.type||\"\")&&n.push(o);return d}var _e=/^key/,Ee=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,we=/^([^.]*)(?:\\.(.+)|)/;function Te(){return!0}function Se(){return!1}function Ce(e,t){return e===function(){try{return g.activeElement}catch(e){}}()==(\"focus\"===t)}function Ae(e,t,n,i,r,o){var a,s;if(\"object\"==typeof t){for(s in\"string\"!=typeof n&&(i=i||n,n=void 0),t)Ae(e,s,n,i,t[s],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&(\"string\"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Se;else if(!r)return e;return 1===o&&(a=r,(r=function(e){return _().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=_.guid++)),e.each((function(){_.event.add(this,t,r,i,n)}))}function Re(e,t,n){n?(K.set(e,t,!1),_.event.add(e,t,{namespace:!1,handler:function(e){var i,o,a=K.get(this,t);if(1&e.isTrigger&&this[t]){if(a.length)(_.event.special[t]||{}).delegateType&&e.stopPropagation();else if(a=r.call(arguments),K.set(this,t,a),i=n(this,t),this[t](),a!==(o=K.get(this,t))||i?K.set(this,t,!1):o={},a!==o)return e.stopImmediatePropagation(),e.preventDefault(),o.value}else a.length&&(K.set(this,t,{value:_.event.trigger(_.extend(a[0],_.Event.prototype),a.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===K.get(e,t)&&_.event.add(e,t,Te)}_.event={global:{},add:function(e,t,n,i,r){var o,a,s,c,l,u,d,p,h,f,m,g=K.get(e);if(q(e))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&_.find.matchesSelector(ne,r),n.guid||(n.guid=_.guid++),(c=g.events)||(c=g.events=Object.create(null)),(a=g.handle)||(a=g.handle=function(t){return void 0!==_&&_.event.triggered!==t.type?_.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||\"\").match(L)||[\"\"]).length;l--;)h=m=(s=we.exec(t[l])||[])[1],f=(s[2]||\"\").split(\".\").sort(),h&&(d=_.event.special[h]||{},d=_.event.special[h=(r?d.delegateType:d.bindType)||h]||{},u=_.extend({type:h,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&_.expr.match.needsContext.test(r),namespace:f.join(\".\")},o),(p=c[h])||((p=c[h]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,f,a)||e.addEventListener&&e.addEventListener(h,a)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,u):p.push(u),_.event.global[h]=!0)},remove:function(e,t,n,i,r){var o,a,s,c,l,u,d,p,h,f,m,g=K.hasData(e)&&K.get(e);if(g&&(c=g.events)){for(l=(t=(t||\"\").match(L)||[\"\"]).length;l--;)if(h=m=(s=we.exec(t[l])||[])[1],f=(s[2]||\"\").split(\".\").sort(),h){for(d=_.event.special[h]||{},p=c[h=(i?d.delegateType:d.bindType)||h]||[],s=s[2]&&new RegExp(\"(^|\\\\.)\"+f.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),a=o=p.length;o--;)u=p[o],!r&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&(\"**\"!==i||!u.selector)||(p.splice(o,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(e,u));a&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||_.removeEvent(e,h,g.handle),delete c[h])}else for(h in c)_.event.remove(e,h+t[l],n,i,!0);_.isEmptyObject(c)&&K.remove(e,\"handle events\")}},dispatch:function(e){var t,n,i,r,o,a,s=new Array(arguments.length),c=_.event.fix(e),l=(K.get(this,\"events\")||Object.create(null))[c.type]||[],u=_.event.special[c.type]||{};for(s[0]=c,t=1;t<arguments.length;t++)s[t]=arguments[t];if(c.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,c)){for(a=_.event.handlers.call(this,c,l),t=0;(r=a[t++])&&!c.isPropagationStopped();)for(c.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==o.namespace&&!c.rnamespace.test(o.namespace)||(c.handleObj=o,c.data=o.data,void 0!==(i=((_.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s))&&!1===(c.result=i)&&(c.preventDefault(),c.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,c),c.result}},handlers:function(e,t){var n,i,r,o,a,s=[],c=t.delegateCount,l=e.target;if(c&&l.nodeType&&!(\"click\"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(\"click\"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<c;n++)void 0===a[r=(i=t[n]).selector+\" \"]&&(a[r]=i.needsContext?_(r,this).index(l)>-1:_.find(r,this,null,[l]).length),a[r]&&o.push(i);o.length&&s.push({elem:l,handlers:o})}return l=this,c<t.length&&s.push({elem:l,handlers:t.slice(c)}),s},addProp:function(e,t){Object.defineProperty(_.Event.prototype,e,{enumerable:!0,configurable:!0,get:f(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[_.expando]?e:new _.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,\"input\")&&Re(t,\"click\",Te),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,\"input\")&&Re(t,\"click\"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,\"input\")&&K.get(t,\"click\")||A(t,\"a\")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},_.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},_.Event=function(e,t){if(!(this instanceof _.Event))return new _.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Te:Se,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&_.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[_.expando]=!0},_.Event.prototype={constructor:_.Event,isDefaultPrevented:Se,isPropagationStopped:Se,isImmediatePropagationStopped:Se,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Te,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Te,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Te,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},_.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&_e.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ee.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},_.event.addProp),_.each({focus:\"focusin\",blur:\"focusout\"},(function(e,t){_.event.special[e]={setup:function(){return Re(this,e,Ce),!1},trigger:function(){return Re(this,e),!0},delegateType:t}})),_.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\",pointerenter:\"pointerover\",pointerleave:\"pointerout\"},(function(e,t){_.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return r&&(r===i||_.contains(i,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),_.fn.extend({on:function(e,t,n,i){return Ae(this,e,t,n,i)},one:function(e,t,n,i){return Ae(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,_(e.delegateTarget).off(i.namespace?i.origType+\".\"+i.namespace:i.origType,i.selector,i.handler),this;if(\"object\"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&\"function\"!=typeof t||(n=t,t=void 0),!1===n&&(n=Se),this.each((function(){_.event.remove(this,e,n,t)}))}});var ke=/<script|<style|<link/i,De=/checked\\s*(?:[^=]|=\\s*.checked.)/i,xe=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;function Ie(e,t){return A(e,\"table\")&&A(11!==t.nodeType?t:t.firstChild,\"tr\")&&_(e).children(\"tbody\")[0]||e}function Oe(e){return e.type=(null!==e.getAttribute(\"type\"))+\"/\"+e.type,e}function Ne(e){return\"true/\"===(e.type||\"\").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute(\"type\"),e}function Le(e,t){var n,i,r,o,a,s;if(1===t.nodeType){if(K.hasData(e)&&(s=K.get(e).events))for(r in K.remove(t,\"handle events\"),s)for(n=0,i=s[r].length;n<i;n++)_.event.add(t,r,s[r][n]);$.hasData(e)&&(o=$.access(e),a=_.extend({},o),$.set(t,a))}}function Me(e,t){var n=t.nodeName.toLowerCase();\"input\"===n&&pe.test(e.type)?t.checked=e.checked:\"input\"!==n&&\"textarea\"!==n||(t.defaultValue=e.defaultValue)}function Pe(e,t,n,i){t=o(t);var r,a,s,c,l,u,d=0,p=e.length,m=p-1,g=t[0],v=f(g);if(v||p>1&&\"string\"==typeof g&&!h.checkClone&&De.test(g))return e.each((function(r){var o=e.eq(r);v&&(t[0]=g.call(this,r,o.html())),Pe(o,t,n,i)}));if(p&&(a=(r=be(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=a),a||i)){for(c=(s=_.map(ge(r,\"script\"),Oe)).length;d<p;d++)l=r,d!==m&&(l=_.clone(l,!0,!0),c&&_.merge(s,ge(l,\"script\"))),n.call(e[d],l,d);if(c)for(u=s[s.length-1].ownerDocument,_.map(s,Ne),d=0;d<c;d++)fe.test((l=s[d]).type||\"\")&&!K.access(l,\"globalEval\")&&_.contains(u,l)&&(l.src&&\"module\"!==(l.type||\"\").toLowerCase()?_._evalUrl&&!l.noModule&&_._evalUrl(l.src,{nonce:l.nonce||l.getAttribute(\"nonce\")},u):y(l.textContent.replace(xe,\"\"),l,u))}return e}function je(e,t,n){for(var i,r=t?_.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||_.cleanData(ge(i)),i.parentNode&&(n&&ie(i)&&ve(ge(i,\"script\")),i.parentNode.removeChild(i));return e}_.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,r,o,a,s=e.cloneNode(!0),c=ie(e);if(!(h.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||_.isXMLDoc(e)))for(a=ge(s),i=0,r=(o=ge(e)).length;i<r;i++)Me(o[i],a[i]);if(t)if(n)for(o=o||ge(e),a=a||ge(s),i=0,r=o.length;i<r;i++)Le(o[i],a[i]);else Le(e,s);return(a=ge(s,\"script\")).length>0&&ve(a,!c&&ge(e,\"script\")),s},cleanData:function(e){for(var t,n,i,r=_.event.special,o=0;void 0!==(n=e[o]);o++)if(q(n)){if(t=n[K.expando]){if(t.events)for(i in t.events)r[i]?_.event.remove(n,i):_.removeEvent(n,i,t.handle);n[K.expando]=void 0}n[$.expando]&&(n[$.expando]=void 0)}}}),_.fn.extend({detach:function(e){return je(this,e,!0)},remove:function(e){return je(this,e)},text:function(e){return H(this,(function(e){return void 0===e?_.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Pe(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ie(this,e).appendChild(e)}))},prepend:function(){return Pe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ie(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Pe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Pe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(_.cleanData(ge(e,!1)),e.textContent=\"\");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return _.clone(this,e,t)}))},html:function(e){return H(this,(function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if(\"string\"==typeof e&&!ke.test(e)&&!me[(he.exec(e)||[\"\",\"\"])[1].toLowerCase()]){e=_.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(_.cleanData(ge(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Pe(this,arguments,(function(t){var n=this.parentNode;_.inArray(this,e)<0&&(_.cleanData(ge(this)),n&&n.replaceChild(t,this))}),e)}}),_.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},(function(e,t){_.fn[e]=function(e){for(var n,i=[],r=_(e),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),_(r[s])[t](n),a.apply(i,n.get());return this.pushStack(i)}}));var Fe=new RegExp(\"^(\"+Z+\")(?!px)[a-z%]+$\",\"i\"),Ue=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Be=function(e,t,n){var i,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];for(r in i=n.call(e),t)e.style[r]=o[r];return i},He=new RegExp(te.join(\"|\"),\"i\");function Je(e,t,n){var i,r,o,a,s=e.style;return(n=n||Ue(e))&&(\"\"!==(a=n.getPropertyValue(t)||n[t])||ie(e)||(a=_.style(e,t)),!h.pixelBoxStyles()&&Fe.test(a)&&He.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+\"\":a}function Ge(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){l.style.cssText=\"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0\",u.style.cssText=\"position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%\",ne.appendChild(l).appendChild(u);var t=e.getComputedStyle(u);i=\"1%\"!==t.top,c=12===n(t.marginLeft),u.style.right=\"60%\",a=36===n(t.right),r=36===n(t.width),u.style.position=\"absolute\",o=12===n(u.offsetWidth/3),ne.removeChild(l),u=null}}function n(e){return Math.round(parseFloat(e))}var i,r,o,a,s,c,l=g.createElement(\"div\"),u=g.createElement(\"div\");u.style&&(u.style.backgroundClip=\"content-box\",u.cloneNode(!0).style.backgroundClip=\"\",h.clearCloneStyle=\"content-box\"===u.style.backgroundClip,_.extend(h,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),c},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,n,i,r;return null==s&&(t=g.createElement(\"table\"),n=g.createElement(\"tr\"),i=g.createElement(\"div\"),t.style.cssText=\"position:absolute;left:-11111px\",n.style.height=\"1px\",i.style.height=\"9px\",ne.appendChild(t).appendChild(n).appendChild(i),r=e.getComputedStyle(n),s=parseInt(r.height)>3,ne.removeChild(t)),s}}))}();var We=[\"Webkit\",\"Moz\",\"ms\"],Ve=g.createElement(\"div\").style,qe={};function ze(e){return _.cssProps[e]||qe[e]||(e in Ve?e:qe[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=We.length;n--;)if((e=We[n]+t)in Ve)return e}(e)||e)}var Ke=/^(none|table(?!-c[ea]).+)/,$e=/^--/,Xe={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Qe={letterSpacing:\"0\",fontWeight:\"400\"};function Ye(e,t,n){var i=ee.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||\"px\"):t}function Ze(e,t,n,i,r,o){var a=\"width\"===t?1:0,s=0,c=0;if(n===(i?\"border\":\"content\"))return 0;for(;a<4;a+=2)\"margin\"===n&&(c+=_.css(e,n+te[a],!0,r)),i?(\"content\"===n&&(c-=_.css(e,\"padding\"+te[a],!0,r)),\"margin\"!==n&&(c-=_.css(e,\"border\"+te[a]+\"Width\",!0,r))):(c+=_.css(e,\"padding\"+te[a],!0,r),\"padding\"!==n?c+=_.css(e,\"border\"+te[a]+\"Width\",!0,r):s+=_.css(e,\"border\"+te[a]+\"Width\",!0,r));return!i&&o>=0&&(c+=Math.max(0,Math.ceil(e[\"offset\"+t[0].toUpperCase()+t.slice(1)]-o-c-s-.5))||0),c}function et(e,t,n){var i=Ue(e),r=(!h.boxSizingReliable()||n)&&\"border-box\"===_.css(e,\"boxSizing\",!1,i),o=r,a=Je(e,t,i),s=\"offset\"+t[0].toUpperCase()+t.slice(1);if(Fe.test(a)){if(!n)return a;a=\"auto\"}return(!h.boxSizingReliable()&&r||!h.reliableTrDimensions()&&A(e,\"tr\")||\"auto\"===a||!parseFloat(a)&&\"inline\"===_.css(e,\"display\",!1,i))&&e.getClientRects().length&&(r=\"border-box\"===_.css(e,\"boxSizing\",!1,i),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Ze(e,t,n||(r?\"border\":\"content\"),o,i,a)+\"px\"}function tt(e,t,n,i,r){return new tt.prototype.init(e,t,n,i,r)}_.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Je(e,\"opacity\");return\"\"===n?\"1\":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=V(t),c=$e.test(t),l=e.style;if(c||(t=ze(s)),a=_.cssHooks[t]||_.cssHooks[s],void 0===n)return a&&\"get\"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t];\"string\"==(o=typeof n)&&(r=ee.exec(n))&&r[1]&&(n=ae(e,t,r),o=\"number\"),null!=n&&n==n&&(\"number\"!==o||c||(n+=r&&r[3]||(_.cssNumber[s]?\"\":\"px\")),h.clearCloneStyle||\"\"!==n||0!==t.indexOf(\"background\")||(l[t]=\"inherit\"),a&&\"set\"in a&&void 0===(n=a.set(e,n,i))||(c?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,i){var r,o,a,s=V(t);return $e.test(t)||(t=ze(s)),(a=_.cssHooks[t]||_.cssHooks[s])&&\"get\"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=Je(e,t,i)),\"normal\"===r&&t in Qe&&(r=Qe[t]),\"\"===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),_.each([\"height\",\"width\"],(function(e,t){_.cssHooks[t]={get:function(e,n,i){if(n)return!Ke.test(_.css(e,\"display\"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,i):Be(e,Xe,(function(){return et(e,t,i)}))},set:function(e,n,i){var r,o=Ue(e),a=!h.scrollboxSize()&&\"absolute\"===o.position,s=(a||i)&&\"border-box\"===_.css(e,\"boxSizing\",!1,o),c=i?Ze(e,t,i,s,o):0;return s&&a&&(c-=Math.ceil(e[\"offset\"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Ze(e,t,\"border\",!1,o)-.5)),c&&(r=ee.exec(n))&&\"px\"!==(r[3]||\"px\")&&(e.style[t]=n,n=_.css(e,t)),Ye(0,n,c)}}})),_.cssHooks.marginLeft=Ge(h.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Je(e,\"marginLeft\"))||e.getBoundingClientRect().left-Be(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+\"px\"})),_.each({margin:\"\",padding:\"\",border:\"Width\"},(function(e,t){_.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o=\"string\"==typeof n?n.split(\" \"):[n];i<4;i++)r[e+te[i]+t]=o[i]||o[i-2]||o[0];return r}},\"margin\"!==e&&(_.cssHooks[e+t].set=Ye)})),_.fn.extend({css:function(e,t){return H(this,(function(e,t,n){var i,r,o={},a=0;if(Array.isArray(t)){for(i=Ue(e),r=t.length;a<r;a++)o[t[a]]=_.css(e,t[a],!1,i);return o}return void 0!==n?_.style(e,t,n):_.css(e,t)}),e,t,arguments.length>1)}}),_.Tween=tt,(tt.prototype={constructor:tt,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||_.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(_.cssNumber[n]?\"\":\"px\")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,n=tt.propHooks[this.prop];return this.pos=t=this.options.duration?_.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):tt.propHooks._default.set(this),this}}).init.prototype=tt.prototype,(tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=_.css(e.elem,e.prop,\"\"))&&\"auto\"!==t?t:0},set:function(e){_.fx.step[e.prop]?_.fx.step[e.prop](e):1!==e.elem.nodeType||!_.cssHooks[e.prop]&&null==e.elem.style[ze(e.prop)]?e.elem[e.prop]=e.now:_.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},_.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:\"swing\"},_.fx=tt.prototype.init,_.fx.step={};var nt,it,rt=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function at(){it&&(!1===g.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(at):e.setTimeout(at,_.fx.interval),_.fx.tick())}function st(){return e.setTimeout((function(){nt=void 0})),nt=Date.now()}function ct(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r[\"margin\"+(n=te[i])]=r[\"padding\"+n]=e;return t&&(r.opacity=r.width=e),r}function lt(e,t,n){for(var i,r=(ut.tweeners[t]||[]).concat(ut.tweeners[\"*\"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function ut(e,t,n){var i,r,o=0,a=ut.prefilters.length,s=_.Deferred().always((function(){delete c.elem})),c=function(){if(r)return!1;for(var t=nt||st(),n=Math.max(0,l.startTime+l.duration-t),i=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(i);return s.notifyWith(e,[l,i,n]),i<1&&a?n:(a||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:_.extend({},t),opts:_.extend(!0,{specialEasing:{},easing:_.easing._default},n),originalProperties:t,originalOptions:n,startTime:nt||st(),duration:n.duration,tweens:[],createTween:function(t,n){var i=_.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(i),i},stop:function(t){var n=0,i=t?l.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),u=l.props;for(function(e,t){var n,i,r,o,a;for(n in e)if(r=t[i=V(n)],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=_.cssHooks[i])&&\"expand\"in a)for(n in o=a.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(u,l.opts.specialEasing);o<a;o++)if(i=ut.prefilters[o].call(l,e,u,l.opts))return f(i.stop)&&(_._queueHooks(l.elem,l.opts.queue).stop=i.stop.bind(i)),i;return _.map(u,lt,l),f(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),_.fx.timer(_.extend(c,{elem:e,anim:l,queue:l.opts.queue})),l}_.Animation=_.extend(ut,{tweeners:{\"*\":[function(e,t){var n=this.createTween(e,t);return ae(n.elem,e,ee.exec(t),n),n}]},tweener:function(e,t){f(e)?(t=e,e=[\"*\"]):e=e.match(L);for(var n,i=0,r=e.length;i<r;i++)(ut.tweeners[n=e[i]]=ut.tweeners[n]||[]).unshift(t)},prefilters:[function(e,t,n){var i,r,o,a,s,c,l,u,d=\"width\"in t||\"height\"in t,p=this,h={},f=e.style,m=e.nodeType&&oe(e),g=K.get(e,\"fxshow\");for(i in n.queue||(null==(a=_._queueHooks(e,\"fx\")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always((function(){p.always((function(){a.unqueued--,_.queue(e,\"fx\").length||a.empty.fire()}))}))),t)if(rt.test(r=t[i])){if(delete t[i],o=o||\"toggle\"===r,r===(m?\"hide\":\"show\")){if(\"show\"!==r||!g||void 0===g[i])continue;m=!0}h[i]=g&&g[i]||_.style(e,i)}if((c=!_.isEmptyObject(t))||!_.isEmptyObject(h))for(i in d&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(l=g&&g.display)&&(l=K.get(e,\"display\")),\"none\"===(u=_.css(e,\"display\"))&&(l?u=l:(le([e],!0),l=e.style.display||l,u=_.css(e,\"display\"),le([e]))),(\"inline\"===u||\"inline-block\"===u&&null!=l)&&\"none\"===_.css(e,\"float\")&&(c||(p.done((function(){f.display=l})),null==l&&(l=\"none\"===(u=f.display)?\"\":u)),f.display=\"inline-block\")),n.overflow&&(f.overflow=\"hidden\",p.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),c=!1,h)c||(g?\"hidden\"in g&&(m=g.hidden):g=K.access(e,\"fxshow\",{display:l}),o&&(g.hidden=!m),m&&le([e],!0),p.done((function(){for(i in m||le([e]),K.remove(e,\"fxshow\"),h)_.style(e,i,h[i])}))),c=lt(m?g[i]:0,i,p),i in g||(g[i]=c.start,m&&(c.end=c.start,c.start=0))}],prefilter:function(e,t){t?ut.prefilters.unshift(e):ut.prefilters.push(e)}}),_.speed=function(e,t,n){var i=e&&\"object\"==typeof e?_.extend({},e):{complete:n||!n&&t||f(e)&&e,duration:e,easing:n&&t||t&&!f(t)&&t};return _.fx.off?i.duration=0:\"number\"!=typeof i.duration&&(i.duration=i.duration in _.fx.speeds?_.fx.speeds[i.duration]:_.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue=\"fx\"),i.old=i.complete,i.complete=function(){f(i.old)&&i.old.call(this),i.queue&&_.dequeue(this,i.queue)},i},_.fn.extend({fadeTo:function(e,t,n,i){return this.filter(oe).css(\"opacity\",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=_.isEmptyObject(e),o=_.speed(t,n,i),a=function(){var t=ut(this,_.extend({},e),o);(r||K.get(this,\"finish\"))&&t.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return\"string\"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||\"fx\",[]),this.each((function(){var t=!0,r=null!=e&&e+\"queueHooks\",o=_.timers,a=K.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&ot.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||_.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||\"fx\"),this.each((function(){var t,n=K.get(this),i=n[e+\"queue\"],r=n[e+\"queueHooks\"],o=_.timers,a=i?i.length:0;for(n.finish=!0,_.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish}))}}),_.each([\"toggle\",\"show\",\"hide\"],(function(e,t){var n=_.fn[t];_.fn[t]=function(e,i,r){return null==e||\"boolean\"==typeof e?n.apply(this,arguments):this.animate(ct(t,!0),e,i,r)}})),_.each({slideDown:ct(\"show\"),slideUp:ct(\"hide\"),slideToggle:ct(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},(function(e,t){_.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}})),_.timers=[],_.fx.tick=function(){var e,t=0,n=_.timers;for(nt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||_.fx.stop(),nt=void 0},_.fx.timer=function(e){_.timers.push(e),_.fx.start()},_.fx.interval=13,_.fx.start=function(){it||(it=!0,at())},_.fx.stop=function(){it=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(t,n){return t=_.fx&&_.fx.speeds[t]||t,this.queue(n=n||\"fx\",(function(n,i){var r=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(r)}}))},function(){var e=g.createElement(\"input\"),t=g.createElement(\"select\").appendChild(g.createElement(\"option\"));e.type=\"checkbox\",h.checkOn=\"\"!==e.value,h.optSelected=t.selected,(e=g.createElement(\"input\")).value=\"t\",e.type=\"radio\",h.radioValue=\"t\"===e.value}();var dt,pt=_.expr.attrHandle;_.fn.extend({attr:function(e,t){return H(this,_.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){_.removeAttr(this,e)}))}}),_.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?_.prop(e,t,n):(1===o&&_.isXMLDoc(e)||(r=_.attrHooks[t.toLowerCase()]||(_.expr.match.bool.test(t)?dt:void 0)),void 0!==n?null===n?void _.removeAttr(e,t):r&&\"set\"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+\"\"),n):r&&\"get\"in r&&null!==(i=r.get(e,t))?i:null==(i=_.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!h.radioValue&&\"radio\"===t&&A(e,\"input\")){var n=e.value;return e.setAttribute(\"type\",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(L);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),dt={set:function(e,t,n){return!1===t?_.removeAttr(e,n):e.setAttribute(n,n),n}},_.each(_.expr.match.bool.source.match(/\\w+/g),(function(e,t){var n=pt[t]||_.find.attr;pt[t]=function(e,t,i){var r,o,a=t.toLowerCase();return i||(o=pt[a],pt[a]=r,r=null!=n(e,t,i)?a:null,pt[a]=o),r}}));var ht=/^(?:input|select|textarea|button)$/i,ft=/^(?:a|area)$/i;function mt(e){return(e.match(L)||[]).join(\" \")}function gt(e){return e.getAttribute&&e.getAttribute(\"class\")||\"\"}function vt(e){return Array.isArray(e)?e:\"string\"==typeof e&&e.match(L)||[]}_.fn.extend({prop:function(e,t){return H(this,_.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[_.propFix[e]||e]}))}}),_.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&_.isXMLDoc(e)||(r=_.propHooks[t=_.propFix[t]||t]),void 0!==n?r&&\"set\"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&\"get\"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=_.find.attr(e,\"tabindex\");return t?parseInt(t,10):ht.test(e.nodeName)||ft.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:\"htmlFor\",class:\"className\"}}),h.optSelected||(_.propHooks.selected={get:function(e){return null},set:function(e){}}),_.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],(function(){_.propFix[this.toLowerCase()]=this})),_.fn.extend({addClass:function(e){var t,n,i,r,o,a,s,c=0;if(f(e))return this.each((function(t){_(this).addClass(e.call(this,t,gt(this)))}));if((t=vt(e)).length)for(;n=this[c++];)if(r=gt(n),i=1===n.nodeType&&\" \"+mt(r)+\" \"){for(a=0;o=t[a++];)i.indexOf(\" \"+o+\" \")<0&&(i+=o+\" \");r!==(s=mt(i))&&n.setAttribute(\"class\",s)}return this},removeClass:function(e){var t,n,i,r,o,a,s,c=0;if(f(e))return this.each((function(t){_(this).removeClass(e.call(this,t,gt(this)))}));if(!arguments.length)return this.attr(\"class\",\"\");if((t=vt(e)).length)for(;n=this[c++];)if(r=gt(n),i=1===n.nodeType&&\" \"+mt(r)+\" \"){for(a=0;o=t[a++];)for(;i.indexOf(\" \"+o+\" \")>-1;)i=i.replace(\" \"+o+\" \",\" \");r!==(s=mt(i))&&n.setAttribute(\"class\",s)}return this},toggleClass:function(e,t){var n=typeof e,i=\"string\"===n||Array.isArray(e);return\"boolean\"==typeof t&&i?t?this.addClass(e):this.removeClass(e):f(e)?this.each((function(n){_(this).toggleClass(e.call(this,n,gt(this),t),t)})):this.each((function(){var t,r,o,a;if(i)for(r=0,o=_(this),a=vt(e);t=a[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&\"boolean\"!==n||((t=gt(this))&&K.set(this,\"__className__\",t),this.setAttribute&&this.setAttribute(\"class\",t||!1===e?\"\":K.get(this,\"__className__\")||\"\"))}))},hasClass:function(e){var t,n,i=0;for(t=\" \"+e+\" \";n=this[i++];)if(1===n.nodeType&&(\" \"+mt(gt(n))+\" \").indexOf(t)>-1)return!0;return!1}});var yt=/\\r/g;_.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=f(e),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,_(this).val()):e)?r=\"\":\"number\"==typeof r?r+=\"\":Array.isArray(r)&&(r=_.map(r,(function(e){return null==e?\"\":e+\"\"}))),(t=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()])&&\"set\"in t&&void 0!==t.set(this,r,\"value\")||(this.value=r))}))):r?(t=_.valHooks[r.type]||_.valHooks[r.nodeName.toLowerCase()])&&\"get\"in t&&void 0!==(n=t.get(r,\"value\"))?n:\"string\"==typeof(n=r.value)?n.replace(yt,\"\"):null==n?\"\":n:void 0}}),_.extend({valHooks:{option:{get:function(e){var t=_.find.attr(e,\"value\");return null!=t?t:mt(_.text(e))}},select:{get:function(e){var t,n,i,r=e.options,o=e.selectedIndex,a=\"select-one\"===e.type,s=a?null:[],c=a?o+1:r.length;for(i=o<0?c:a?o:0;i<c;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,\"optgroup\"))){if(t=_(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=_.makeArray(t),a=r.length;a--;)((i=r[a]).selected=_.inArray(_.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),_.each([\"radio\",\"checkbox\"],(function(){_.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=_.inArray(_(e).val(),t)>-1}},h.checkOn||(_.valHooks[this].get=function(e){return null===e.getAttribute(\"value\")?\"on\":e.value})})),h.focusin=\"onfocusin\"in e;var bt=/^(?:focusinfocus|focusoutblur)$/,_t=function(e){e.stopPropagation()};_.extend(_.event,{trigger:function(t,n,i,r){var o,a,s,c,l,d,p,h,v=[i||g],y=u.call(t,\"type\")?t.type:t,b=u.call(t,\"namespace\")?t.namespace.split(\".\"):[];if(a=h=s=i=i||g,3!==i.nodeType&&8!==i.nodeType&&!bt.test(y+_.event.triggered)&&(y.indexOf(\".\")>-1&&(b=y.split(\".\"),y=b.shift(),b.sort()),l=y.indexOf(\":\")<0&&\"on\"+y,(t=t[_.expando]?t:new _.Event(y,\"object\"==typeof t&&t)).isTrigger=r?2:3,t.namespace=b.join(\".\"),t.rnamespace=t.namespace?new RegExp(\"(^|\\\\.)\"+b.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:_.makeArray(n,[t]),p=_.event.special[y]||{},r||!p.trigger||!1!==p.trigger.apply(i,n))){if(!r&&!p.noBubble&&!m(i)){for(bt.test((c=p.delegateType||y)+y)||(a=a.parentNode);a;a=a.parentNode)v.push(a),s=a;s===(i.ownerDocument||g)&&v.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=v[o++])&&!t.isPropagationStopped();)h=a,t.type=o>1?c:p.bindType||y,(d=(K.get(a,\"events\")||Object.create(null))[t.type]&&K.get(a,\"handle\"))&&d.apply(a,n),(d=l&&a[l])&&d.apply&&q(a)&&(t.result=d.apply(a,n),!1===t.result&&t.preventDefault());return t.type=y,r||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(v.pop(),n)||!q(i)||l&&f(i[y])&&!m(i)&&((s=i[l])&&(i[l]=null),_.event.triggered=y,t.isPropagationStopped()&&h.addEventListener(y,_t),i[y](),t.isPropagationStopped()&&h.removeEventListener(y,_t),_.event.triggered=void 0,s&&(i[l]=s)),t.result}},simulate:function(e,t,n){var i=_.extend(new _.Event,n,{type:e,isSimulated:!0});_.event.trigger(i,null,t)}}),_.fn.extend({trigger:function(e,t){return this.each((function(){_.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return _.event.trigger(e,t,n,!0)}}),h.focusin||_.each({focus:\"focusin\",blur:\"focusout\"},(function(e,t){var n=function(e){_.event.simulate(t,e.target,_.event.fix(e))};_.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,r=K.access(i,t);r||i.addEventListener(e,n,!0),K.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=K.access(i,t)-1;r?K.access(i,t,r):(i.removeEventListener(e,n,!0),K.remove(i,t))}}}));var Et=e.location,wt={guid:Date.now()},Tt=/\\?/;_.parseXML=function(t){var n;if(!t||\"string\"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,\"text/xml\")}catch(i){n=void 0}return n&&!n.getElementsByTagName(\"parsererror\").length||_.error(\"Invalid XML: \"+t),n};var St=/\\[\\]$/,Ct=/\\r?\\n/g,At=/^(?:submit|button|image|reset|file)$/i,Rt=/^(?:input|select|textarea|keygen)/i;function kt(e,t,n,i){var r;if(Array.isArray(t))_.each(t,(function(t,r){n||St.test(e)?i(e,r):kt(e+\"[\"+(\"object\"==typeof r&&null!=r?t:\"\")+\"]\",r,n,i)}));else if(n||\"object\"!==b(t))i(e,t);else for(r in t)kt(e+\"[\"+r+\"]\",t[r],n,i)}_.param=function(e,t){var n,i=[],r=function(e,t){var n=f(t)?t():t;i[i.length]=encodeURIComponent(e)+\"=\"+encodeURIComponent(null==n?\"\":n)};if(null==e)return\"\";if(Array.isArray(e)||e.jquery&&!_.isPlainObject(e))_.each(e,(function(){r(this.name,this.value)}));else for(n in e)kt(n,e[n],t,r);return i.join(\"&\")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=_.prop(this,\"elements\");return e?_.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!_(this).is(\":disabled\")&&Rt.test(this.nodeName)&&!At.test(e)&&(this.checked||!pe.test(e))})).map((function(e,t){var n=_(this).val();return null==n?null:Array.isArray(n)?_.map(n,(function(e){return{name:t.name,value:e.replace(Ct,\"\\r\\n\")}})):{name:t.name,value:n.replace(Ct,\"\\r\\n\")}})).get()}});var Dt=/%20/g,xt=/#.*$/,It=/([?&])_=[^&]*/,Ot=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,Nt=/^(?:GET|HEAD)$/,Lt=/^\\/\\//,Mt={},Pt={},jt=\"*/\".concat(\"*\"),Ft=g.createElement(\"a\");function Ut(e){return function(t,n){\"string\"!=typeof t&&(n=t,t=\"*\");var i,r=0,o=t.toLowerCase().match(L)||[];if(f(n))for(;i=o[r++];)\"+\"===i[0]?(i=i.slice(1)||\"*\",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Bt(e,t,n,i){var r={},o=e===Pt;function a(s){var c;return r[s]=!0,_.each(e[s]||[],(function(e,s){var l=s(t,n,i);return\"string\"!=typeof l||o||r[l]?o?!(c=l):void 0:(t.dataTypes.unshift(l),a(l),!1)})),c}return a(t.dataTypes[0])||!r[\"*\"]&&a(\"*\")}function Ht(e,t){var n,i,r=_.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&_.extend(!0,e,i),e}Ft.href=Et.href,_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:\"GET\",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":jt,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/\\bxml\\b/,html:/\\bhtml/,json:/\\bjson\\b/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":JSON.parse,\"text xml\":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ht(Ht(e,_.ajaxSettings),t):Ht(_.ajaxSettings,e)},ajaxPrefilter:Ut(Mt),ajaxTransport:Ut(Pt),ajax:function(t,n){\"object\"==typeof t&&(n=t,t=void 0);var i,r,o,a,s,c,l,u,d,p,h=_.ajaxSetup({},n=n||{}),f=h.context||h,m=h.context&&(f.nodeType||f.jquery)?_(f):_.event,v=_.Deferred(),y=_.Callbacks(\"once memory\"),b=h.statusCode||{},E={},w={},T=\"canceled\",S={readyState:0,getResponseHeader:function(e){var t;if(l){if(!a)for(a={};t=Ot.exec(o);)a[t[1].toLowerCase()+\" \"]=(a[t[1].toLowerCase()+\" \"]||[]).concat(t[2]);t=a[e.toLowerCase()+\" \"]}return null==t?null:t.join(\", \")},getAllResponseHeaders:function(){return l?o:null},setRequestHeader:function(e,t){return null==l&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,E[e]=t),this},overrideMimeType:function(e){return null==l&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)S.always(e[S.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||T;return i&&i.abort(t),C(0,t),this}};if(v.promise(S),h.url=((t||h.url||Et.href)+\"\").replace(Lt,Et.protocol+\"//\"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||\"*\").toLowerCase().match(L)||[\"\"],null==h.crossDomain){c=g.createElement(\"a\");try{c.href=h.url,c.href=c.href,h.crossDomain=Ft.protocol+\"//\"+Ft.host!=c.protocol+\"//\"+c.host}catch(A){h.crossDomain=!0}}if(h.data&&h.processData&&\"string\"!=typeof h.data&&(h.data=_.param(h.data,h.traditional)),Bt(Mt,h,n,S),l)return S;for(d in(u=_.event&&h.global)&&0==_.active++&&_.event.trigger(\"ajaxStart\"),h.type=h.type.toUpperCase(),h.hasContent=!Nt.test(h.type),r=h.url.replace(xt,\"\"),h.hasContent?h.data&&h.processData&&0===(h.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&(h.data=h.data.replace(Dt,\"+\")):(p=h.url.slice(r.length),h.data&&(h.processData||\"string\"==typeof h.data)&&(r+=(Tt.test(r)?\"&\":\"?\")+h.data,delete h.data),!1===h.cache&&(r=r.replace(It,\"$1\"),p=(Tt.test(r)?\"&\":\"?\")+\"_=\"+wt.guid+++p),h.url=r+p),h.ifModified&&(_.lastModified[r]&&S.setRequestHeader(\"If-Modified-Since\",_.lastModified[r]),_.etag[r]&&S.setRequestHeader(\"If-None-Match\",_.etag[r])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&S.setRequestHeader(\"Content-Type\",h.contentType),S.setRequestHeader(\"Accept\",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+(\"*\"!==h.dataTypes[0]?\", \"+jt+\"; q=0.01\":\"\"):h.accepts[\"*\"]),h.headers)S.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(!1===h.beforeSend.call(f,S,h)||l))return S.abort();if(T=\"abort\",y.add(h.complete),S.done(h.success),S.fail(h.error),i=Bt(Pt,h,n,S)){if(S.readyState=1,u&&m.trigger(\"ajaxSend\",[S,h]),l)return S;h.async&&h.timeout>0&&(s=e.setTimeout((function(){S.abort(\"timeout\")}),h.timeout));try{l=!1,i.send(E,C)}catch(A){if(l)throw A;C(-1,A)}}else C(-1,\"No Transport\");function C(t,n,a,c){var d,p,g,E,w,T=n;l||(l=!0,s&&e.clearTimeout(s),i=void 0,o=c||\"\",S.readyState=t>0?4:0,d=t>=200&&t<300||304===t,a&&(E=function(e,t,n){for(var i,r,o,a,s=e.contents,c=e.dataTypes;\"*\"===c[0];)c.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader(\"Content-Type\"));if(i)for(r in s)if(s[r]&&s[r].test(i)){c.unshift(r);break}if(c[0]in n)o=c[0];else{for(r in n){if(!c[0]||e.converters[r+\" \"+c[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==c[0]&&c.unshift(o),n[o]}(h,S,a)),!d&&_.inArray(\"script\",h.dataTypes)>-1&&(h.converters[\"text script\"]=function(){}),E=function(e,t,n,i){var r,o,a,s,c,l={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!c&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=o,o=u.shift())if(\"*\"===o)o=c;else if(\"*\"!==c&&c!==o){if(!(a=l[c+\" \"+o]||l[\"* \"+o]))for(r in l)if((s=r.split(\" \"))[1]===o&&(a=l[c+\" \"+s[0]]||l[\"* \"+s[0]])){!0===a?a=l[r]:!0!==l[r]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(A){return{state:\"parsererror\",error:a?A:\"No conversion from \"+c+\" to \"+o}}}return{state:\"success\",data:t}}(h,E,S,d),d?(h.ifModified&&((w=S.getResponseHeader(\"Last-Modified\"))&&(_.lastModified[r]=w),(w=S.getResponseHeader(\"etag\"))&&(_.etag[r]=w)),204===t||\"HEAD\"===h.type?T=\"nocontent\":304===t?T=\"notmodified\":(T=E.state,p=E.data,d=!(g=E.error))):(g=T,!t&&T||(T=\"error\",t<0&&(t=0))),S.status=t,S.statusText=(n||T)+\"\",d?v.resolveWith(f,[p,T,S]):v.rejectWith(f,[S,T,g]),S.statusCode(b),b=void 0,u&&m.trigger(d?\"ajaxSuccess\":\"ajaxError\",[S,h,d?p:g]),y.fireWith(f,[S,T]),u&&(m.trigger(\"ajaxComplete\",[S,h]),--_.active||_.event.trigger(\"ajaxStop\")))}return S},getJSON:function(e,t,n){return _.get(e,t,n,\"json\")},getScript:function(e,t){return _.get(e,void 0,t,\"script\")}}),_.each([\"get\",\"post\"],(function(e,t){_[t]=function(e,n,i,r){return f(n)&&(r=r||i,i=n,n=void 0),_.ajax(_.extend({url:e,type:t,dataType:r,data:n,success:i},_.isPlainObject(e)&&e))}})),_.ajaxPrefilter((function(e){var t;for(t in e.headers)\"content-type\"===t.toLowerCase()&&(e.contentType=e.headers[t]||\"\")})),_._evalUrl=function(e,t,n){return _.ajax({url:e,type:\"GET\",dataType:\"script\",cache:!0,async:!1,global:!1,converters:{\"text script\":function(){}},dataFilter:function(e){_.globalEval(e,t,n)}})},_.fn.extend({wrapAll:function(e){var t;return this[0]&&(f(e)&&(e=e.call(this[0])),t=_(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return f(e)?this.each((function(t){_(this).wrapInner(e.call(this,t))})):this.each((function(){var t=_(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=f(e);return this.each((function(n){_(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not(\"body\").each((function(){_(this).replaceWith(this.childNodes)})),this}}),_.expr.pseudos.hidden=function(e){return!_.expr.pseudos.visible(e)},_.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},_.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Jt={0:200,1223:204},Gt=_.ajaxSettings.xhr();h.cors=!!Gt&&\"withCredentials\"in Gt,h.ajax=Gt=!!Gt,_.ajaxTransport((function(t){var n,i;if(h.cors||Gt&&!t.crossDomain)return{send:function(r,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r[\"X-Requested-With\"]||(r[\"X-Requested-With\"]=\"XMLHttpRequest\"),r)s.setRequestHeader(a,r[a]);n=function(e){return function(){n&&(n=i=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,\"abort\"===e?s.abort():\"error\"===e?\"number\"!=typeof s.status?o(0,\"error\"):o(s.status,s.statusText):o(Jt[s.status]||s.status,s.statusText,\"text\"!==(s.responseType||\"text\")||\"string\"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),i=s.onerror=s.ontimeout=n(\"error\"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout((function(){n&&i()}))},n=n(\"abort\");try{s.send(t.hasContent&&t.data||null)}catch(c){if(n)throw c}},abort:function(){n&&n()}}})),_.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),_.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/\\b(?:java|ecma)script\\b/},converters:{\"text script\":function(e){return _.globalEval(e),e}}}),_.ajaxPrefilter(\"script\",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type=\"GET\")})),_.ajaxTransport(\"script\",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,r){t=_(\"<script>\").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on(\"load error\",n=function(e){t.remove(),n=null,e&&r(\"error\"===e.type?404:200,e.type)}),g.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Wt,Vt=[],qt=/(=)\\?(?=&|$)|\\?\\?/;_.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var e=Vt.pop()||_.expando+\"_\"+wt.guid++;return this[e]=!0,e}}),_.ajaxPrefilter(\"json jsonp\",(function(t,n,i){var r,o,a,s=!1!==t.jsonp&&(qt.test(t.url)?\"url\":\"string\"==typeof t.data&&0===(t.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&qt.test(t.data)&&\"data\");if(s||\"jsonp\"===t.dataTypes[0])return r=t.jsonpCallback=f(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(qt,\"$1\"+r):!1!==t.jsonp&&(t.url+=(Tt.test(t.url)?\"&\":\"?\")+t.jsonp+\"=\"+r),t.converters[\"script json\"]=function(){return a||_.error(r+\" was not called\"),a[0]},t.dataTypes[0]=\"json\",o=e[r],e[r]=function(){a=arguments},i.always((function(){void 0===o?_(e).removeProp(r):e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,Vt.push(r)),a&&f(o)&&o(a[0]),a=o=void 0})),\"script\"})),h.createHTMLDocument=((Wt=g.implementation.createHTMLDocument(\"\").body).innerHTML=\"<form></form><form></form>\",2===Wt.childNodes.length),_.parseHTML=function(e,t,n){return\"string\"!=typeof e?[]:(\"boolean\"==typeof t&&(n=t,t=!1),t||(h.createHTMLDocument?((i=(t=g.implementation.createHTMLDocument(\"\")).createElement(\"base\")).href=g.location.href,t.head.appendChild(i)):t=g),o=!n&&[],(r=R.exec(e))?[t.createElement(r[1])]:(r=be([e],t,o),o&&o.length&&_(o).remove(),_.merge([],r.childNodes)));var i,r,o},_.fn.load=function(e,t,n){var i,r,o,a=this,s=e.indexOf(\" \");return s>-1&&(i=mt(e.slice(s)),e=e.slice(0,s)),f(t)?(n=t,t=void 0):t&&\"object\"==typeof t&&(r=\"POST\"),a.length>0&&_.ajax({url:e,type:r||\"GET\",dataType:\"html\",data:t}).done((function(e){o=arguments,a.html(i?_(\"<div>\").append(_.parseHTML(e)).find(i):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},_.expr.pseudos.animated=function(e){return _.grep(_.timers,(function(t){return e===t.elem})).length},_.offset={setOffset:function(e,t,n){var i,r,o,a,s,c,l=_.css(e,\"position\"),u=_(e),d={};\"static\"===l&&(e.style.position=\"relative\"),s=u.offset(),o=_.css(e,\"top\"),c=_.css(e,\"left\"),(\"absolute\"===l||\"fixed\"===l)&&(o+c).indexOf(\"auto\")>-1?(a=(i=u.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(c)||0),f(t)&&(t=t.call(e,n,_.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+r),\"using\"in t?t.using.call(e,d):(\"number\"==typeof d.top&&(d.top+=\"px\"),\"number\"==typeof d.left&&(d.left+=\"px\"),u.css(d))}},_.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){_.offset.setOffset(this,e,t)}));var t,n,i=this[0];return i?i.getClientRects().length?{top:(t=i.getBoundingClientRect()).top+(n=i.ownerDocument.defaultView).pageYOffset,left:t.left+n.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if(\"fixed\"===_.css(i,\"position\"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&\"static\"===_.css(e,\"position\");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=_(e).offset()).top+=_.css(e,\"borderTopWidth\",!0),r.left+=_.css(e,\"borderLeftWidth\",!0))}return{top:t.top-r.top-_.css(i,\"marginTop\",!0),left:t.left-r.left-_.css(i,\"marginLeft\",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&\"static\"===_.css(e,\"position\");)e=e.offsetParent;return e||ne}))}}),_.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},(function(e,t){var n=\"pageYOffset\"===t;_.fn[e]=function(i){return H(this,(function(e,i,r){var o;if(m(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r}),e,i,arguments.length)}})),_.each([\"top\",\"left\"],(function(e,t){_.cssHooks[t]=Ge(h.pixelPosition,(function(e,n){if(n)return n=Je(e,t),Fe.test(n)?_(e).position()[t]+\"px\":n}))})),_.each({Height:\"height\",Width:\"width\"},(function(e,t){_.each({padding:\"inner\"+e,content:t,\"\":\"outer\"+e},(function(n,i){_.fn[i]=function(r,o){var a=arguments.length&&(n||\"boolean\"!=typeof r),s=n||(!0===r||!0===o?\"margin\":\"border\");return H(this,(function(t,n,r){var o;return m(t)?0===i.indexOf(\"outer\")?t[\"inner\"+e]:t.document.documentElement[\"client\"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body[\"scroll\"+e],o[\"scroll\"+e],t.body[\"offset\"+e],o[\"offset\"+e],o[\"client\"+e])):void 0===r?_.css(t,n,s):_.style(t,n,r,s)}),t,a?r:void 0,a)}}))})),_.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],(function(e,t){_.fn[t]=function(e){return this.on(t,e)}})),_.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,\"**\"):this.off(t,e||\"**\",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),_.each(\"blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu\".split(\" \"),(function(e,t){_.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var zt=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;_.proxy=function(e,t){var n,i,o;if(\"string\"==typeof t&&(n=e[t],t=e,e=n),f(e))return i=r.call(arguments,2),(o=function(){return e.apply(t||this,i.concat(r.call(arguments)))}).guid=e.guid=e.guid||_.guid++,o},_.holdReady=function(e){e?_.readyWait++:_.ready(!0)},_.isArray=Array.isArray,_.parseJSON=JSON.parse,_.nodeName=A,_.isFunction=f,_.isWindow=m,_.camelCase=V,_.type=b,_.now=Date.now,_.isNumeric=function(e){var t=_.type(e);return(\"number\"===t||\"string\"===t)&&!isNaN(e-parseFloat(e))},_.trim=function(e){return null==e?\"\":(e+\"\").replace(zt,\"\")},\"function\"==typeof define&&define.amd&&define(\"jquery\",[],(function(){return _}));var Kt=e.jQuery,$t=e.$;return _.noConflict=function(t){return e.$===_&&(e.$=$t),t&&e.jQuery===_&&(e.jQuery=Kt),_},void 0===t&&(e.jQuery=e.$=_),_})),function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t(exports,require(\"jquery\"),require(\"popper.js\")):\"function\"==typeof define&&define.amd?define([\"exports\",\"jquery\",\"popper.js\"],t):t((e=e||self).bootstrap={},e.jQuery,e.Popper)}(this,(function(e,t,n){\"use strict\";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t=t&&t.hasOwnProperty(\"default\")?t.default:t,n=n&&n.hasOwnProperty(\"default\")?n.default:n;var c={TRANSITION_END:\"bsTransitionEnd\",getUID:function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},getSelectorFromElement:function(e){var t=e.getAttribute(\"data-target\");if(!t||\"#\"===t){var n=e.getAttribute(\"href\");t=n&&\"#\"!==n?n.trim():\"\"}try{return document.querySelector(t)?t:null}catch(i){return null}},getTransitionDurationFromElement:function(e){if(!e)return 0;var n=t(e).css(\"transition-duration\"),i=t(e).css(\"transition-delay\"),r=parseFloat(n),o=parseFloat(i);return r||o?(n=n.split(\",\")[0],i=i.split(\",\")[0],1e3*(parseFloat(n)+parseFloat(i))):0},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(e){t(e).trigger(\"transitionend\")},supportsTransitionEnd:function(){return Boolean(\"transitionend\")},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,t,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i],o=t[i],a=o&&c.isElement(o)?\"element\":{}.toString.call(o).match(/\\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(r).test(a))throw new Error(e.toUpperCase()+': Option \"'+i+'\" provided type \"'+a+'\" but expected type \"'+r+'\".')}},findShadowRoot:function(e){if(!document.documentElement.attachShadow)return null;if(\"function\"==typeof e.getRootNode){var t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?c.findShadowRoot(e.parentNode):null},jQueryDetection:function(){if(void 0===t)throw new TypeError(\"Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.\");var e=t.fn.jquery.split(\" \")[0].split(\".\");if(e[0]<2&&e[1]<9||1===e[0]&&9===e[1]&&e[2]<1||e[0]>=4)throw new Error(\"Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0\")}};c.jQueryDetection(),t.fn.emulateTransitionEnd=function(e){var n=this,i=!1;return t(this).one(c.TRANSITION_END,(function(){i=!0})),setTimeout((function(){i||c.triggerTransitionEnd(n)}),e),this},t.event.special[c.TRANSITION_END]={bindType:\"transitionend\",delegateType:\"transitionend\",handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}};var l=t.fn.alert,u=function(){function e(e){this._element=e}var n=e.prototype;return n.close=function(e){var t=this._element;e&&(t=this._getRootElement(e)),this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)},n.dispose=function(){t.removeData(this._element,\"bs.alert\"),this._element=null},n._getRootElement=function(e){var n=c.getSelectorFromElement(e),i=!1;return n&&(i=document.querySelector(n)),i||(i=t(e).closest(\".alert\")[0]),i},n._triggerCloseEvent=function(e){var n=t.Event(\"close.bs.alert\");return t(e).trigger(n),n},n._removeElement=function(e){var n=this;if(t(e).removeClass(\"show\"),t(e).hasClass(\"fade\")){var i=c.getTransitionDurationFromElement(e);t(e).one(c.TRANSITION_END,(function(t){return n._destroyElement(e,t)})).emulateTransitionEnd(i)}else this._destroyElement(e)},n._destroyElement=function(e){t(e).detach().trigger(\"closed.bs.alert\").remove()},e._jQueryInterface=function(n){return this.each((function(){var i=t(this),r=i.data(\"bs.alert\");r||(r=new e(this),i.data(\"bs.alert\",r)),\"close\"===n&&r[n](this)}))},e._handleDismiss=function(e){return function(t){t&&t.preventDefault(),e.close(this)}},r(e,null,[{key:\"VERSION\",get:function(){return\"4.4.1\"}}]),e}();t(document).on(\"click.bs.alert.data-api\",'[data-dismiss=\"alert\"]',u._handleDismiss(new u)),t.fn.alert=u._jQueryInterface,t.fn.alert.Constructor=u,t.fn.alert.noConflict=function(){return t.fn.alert=l,u._jQueryInterface};var d=t.fn.button,p=function(){function e(e){this._element=e}var n=e.prototype;return n.toggle=function(){var e=!0,n=!0,i=t(this._element).closest('[data-toggle=\"buttons\"]')[0];if(i){var r=this._element.querySelector('input:not([type=\"hidden\"])');if(r){if(\"radio\"===r.type)if(r.checked&&this._element.classList.contains(\"active\"))e=!1;else{var o=i.querySelector(\".active\");o&&t(o).removeClass(\"active\")}else\"checkbox\"===r.type?\"LABEL\"===this._element.tagName&&r.checked===this._element.classList.contains(\"active\")&&(e=!1):e=!1;e&&(r.checked=!this._element.classList.contains(\"active\"),t(r).trigger(\"change\")),r.focus(),n=!1}}this._element.hasAttribute(\"disabled\")||this._element.classList.contains(\"disabled\")||(n&&this._element.setAttribute(\"aria-pressed\",!this._element.classList.contains(\"active\")),e&&t(this._element).toggleClass(\"active\"))},n.dispose=function(){t.removeData(this._element,\"bs.button\"),this._element=null},e._jQueryInterface=function(n){return this.each((function(){var i=t(this).data(\"bs.button\");i||(i=new e(this),t(this).data(\"bs.button\",i)),\"toggle\"===n&&i[n]()}))},r(e,null,[{key:\"VERSION\",get:function(){return\"4.4.1\"}}]),e}();t(document).on(\"click.bs.button.data-api\",'[data-toggle^=\"button\"]',(function(e){var n=e.target;if(t(n).hasClass(\"btn\")||(n=t(n).closest(\".btn\")[0]),!n||n.hasAttribute(\"disabled\")||n.classList.contains(\"disabled\"))e.preventDefault();else{var i=n.querySelector('input:not([type=\"hidden\"])');if(i&&(i.hasAttribute(\"disabled\")||i.classList.contains(\"disabled\")))return void e.preventDefault();p._jQueryInterface.call(t(n),\"toggle\")}})).on(\"focus.bs.button.data-api blur.bs.button.data-api\",'[data-toggle^=\"button\"]',(function(e){var n=t(e.target).closest(\".btn\")[0];t(n).toggleClass(\"focus\",/^focus(in)?$/.test(e.type))})),t(window).on(\"load.bs.button.data-api\",(function(){for(var e=[].slice.call(document.querySelectorAll('[data-toggle=\"buttons\"] .btn')),t=0,n=e.length;t<n;t++){var i=e[t],r=i.querySelector('input:not([type=\"hidden\"])');r.checked||r.hasAttribute(\"checked\")?i.classList.add(\"active\"):i.classList.remove(\"active\")}for(var o=0,a=(e=[].slice.call(document.querySelectorAll('[data-toggle=\"button\"]'))).length;o<a;o++){var s=e[o];\"true\"===s.getAttribute(\"aria-pressed\")?s.classList.add(\"active\"):s.classList.remove(\"active\")}})),t.fn.button=p._jQueryInterface,t.fn.button.Constructor=p,t.fn.button.noConflict=function(){return t.fn.button=d,p._jQueryInterface};var h=\"carousel\",f=t.fn[h],m={interval:5e3,keyboard:!0,slide:!1,pause:\"hover\",wrap:!0,touch:!0},g={interval:\"(number|boolean)\",keyboard:\"boolean\",slide:\"(boolean|string)\",pause:\"(string|boolean)\",wrap:\"boolean\",touch:\"boolean\"},v={TOUCH:\"touch\",PEN:\"pen\"},y=function(){function e(e,t){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(t),this._element=e,this._indicatorsElement=this._element.querySelector(\".carousel-indicators\"),this._touchSupported=\"ontouchstart\"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var n=e.prototype;return n.next=function(){this._isSliding||this._slide(\"next\")},n.nextWhenVisible=function(){!document.hidden&&t(this._element).is(\":visible\")&&\"hidden\"!==t(this._element).css(\"visibility\")&&this.next()},n.prev=function(){this._isSliding||this._slide(\"prev\")},n.pause=function(e){e||(this._isPaused=!0),this._element.querySelector(\".carousel-item-next, .carousel-item-prev\")&&(c.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},n.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},n.to=function(e){var n=this;this._activeElement=this._element.querySelector(\".active.carousel-item\");var i=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)t(this._element).one(\"slid.bs.carousel\",(function(){return n.to(e)}));else{if(i===e)return this.pause(),void this.cycle();this._slide(e>i?\"next\":\"prev\",this._items[e])}},n.dispose=function(){t(this._element).off(\".bs.carousel\"),t.removeData(this._element,\"bs.carousel\"),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},n._getConfig=function(e){return e=s({},m,{},e),c.typeCheckConfig(h,e,g),e},n._handleSwipe=function(){var e=Math.abs(this.touchDeltaX);if(!(e<=40)){var t=e/this.touchDeltaX;this.touchDeltaX=0,t>0&&this.prev(),t<0&&this.next()}},n._addEventListeners=function(){var e=this;this._config.keyboard&&t(this._element).on(\"keydown.bs.carousel\",(function(t){return e._keydown(t)})),\"hover\"===this._config.pause&&t(this._element).on(\"mouseenter.bs.carousel\",(function(t){return e.pause(t)})).on(\"mouseleave.bs.carousel\",(function(t){return e.cycle(t)})),this._config.touch&&this._addTouchEventListeners()},n._addTouchEventListeners=function(){var e=this;if(this._touchSupported){var n=function(t){e._pointerEvent&&v[t.originalEvent.pointerType.toUpperCase()]?e.touchStartX=t.originalEvent.clientX:e._pointerEvent||(e.touchStartX=t.originalEvent.touches[0].clientX)},i=function(t){e._pointerEvent&&v[t.originalEvent.pointerType.toUpperCase()]&&(e.touchDeltaX=t.originalEvent.clientX-e.touchStartX),e._handleSwipe(),\"hover\"===e._config.pause&&(e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout((function(t){return e.cycle(t)}),500+e._config.interval))};t(this._element.querySelectorAll(\".carousel-item img\")).on(\"dragstart.bs.carousel\",(function(e){return e.preventDefault()})),this._pointerEvent?(t(this._element).on(\"pointerdown.bs.carousel\",(function(e){return n(e)})),t(this._element).on(\"pointerup.bs.carousel\",(function(e){return i(e)})),this._element.classList.add(\"pointer-event\")):(t(this._element).on(\"touchstart.bs.carousel\",(function(e){return n(e)})),t(this._element).on(\"touchmove.bs.carousel\",(function(t){return function(t){e.touchDeltaX=t.originalEvent.touches&&t.originalEvent.touches.length>1?0:t.originalEvent.touches[0].clientX-e.touchStartX}(t)})),t(this._element).on(\"touchend.bs.carousel\",(function(e){return i(e)})))}},n._keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next()}},n._getItemIndex=function(e){return this._items=e&&e.parentNode?[].slice.call(e.parentNode.querySelectorAll(\".carousel-item\")):[],this._items.indexOf(e)},n._getItemByDirection=function(e,t){var n=\"next\"===e,i=\"prev\"===e,r=this._getItemIndex(t);if((i&&0===r||n&&r===this._items.length-1)&&!this._config.wrap)return t;var o=(r+(\"prev\"===e?-1:1))%this._items.length;return-1===o?this._items[this._items.length-1]:this._items[o]},n._triggerSlideEvent=function(e,n){var i=this._getItemIndex(e),r=this._getItemIndex(this._element.querySelector(\".active.carousel-item\")),o=t.Event(\"slide.bs.carousel\",{relatedTarget:e,direction:n,from:r,to:i});return t(this._element).trigger(o),o},n._setActiveIndicatorElement=function(e){if(this._indicatorsElement){var n=[].slice.call(this._indicatorsElement.querySelectorAll(\".active\"));t(n).removeClass(\"active\");var i=this._indicatorsElement.children[this._getItemIndex(e)];i&&t(i).addClass(\"active\")}},n._slide=function(e,n){var i,r,o,a=this,s=this._element.querySelector(\".active.carousel-item\"),l=this._getItemIndex(s),u=n||s&&this._getItemByDirection(e,s),d=this._getItemIndex(u),p=Boolean(this._interval);if(\"next\"===e?(i=\"carousel-item-left\",r=\"carousel-item-next\",o=\"left\"):(i=\"carousel-item-right\",r=\"carousel-item-prev\",o=\"right\"),u&&t(u).hasClass(\"active\"))this._isSliding=!1;else if(!this._triggerSlideEvent(u,o).isDefaultPrevented()&&s&&u){this._isSliding=!0,p&&this.pause(),this._setActiveIndicatorElement(u);var h=t.Event(\"slid.bs.carousel\",{relatedTarget:u,direction:o,from:l,to:d});if(t(this._element).hasClass(\"slide\")){t(u).addClass(r),c.reflow(u),t(s).addClass(i),t(u).addClass(i);var f=parseInt(u.getAttribute(\"data-interval\"),10);f?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=f):this._config.interval=this._config.defaultInterval||this._config.interval;var m=c.getTransitionDurationFromElement(s);t(s).one(c.TRANSITION_END,(function(){t(u).removeClass(i+\" \"+r).addClass(\"active\"),t(s).removeClass(\"active \"+r+\" \"+i),a._isSliding=!1,setTimeout((function(){return t(a._element).trigger(h)}),0)})).emulateTransitionEnd(m)}else t(s).removeClass(\"active\"),t(u).addClass(\"active\"),this._isSliding=!1,t(this._element).trigger(h);p&&this.cycle()}},e._jQueryInterface=function(n){return this.each((function(){var i=t(this).data(\"bs.carousel\"),r=s({},m,{},t(this).data());\"object\"==typeof n&&(r=s({},r,{},n));var o=\"string\"==typeof n?n:r.slide;if(i||(i=new e(this,r),t(this).data(\"bs.carousel\",i)),\"number\"==typeof n)i.to(n);else if(\"string\"==typeof o){if(void 0===i[o])throw new TypeError('No method named \"'+o+'\"');i[o]()}else r.interval&&r.ride&&(i.pause(),i.cycle())}))},e._dataApiClickHandler=function(n){var i=c.getSelectorFromElement(this);if(i){var r=t(i)[0];if(r&&t(r).hasClass(\"carousel\")){var o=s({},t(r).data(),{},t(this).data()),a=this.getAttribute(\"data-slide-to\");a&&(o.interval=!1),e._jQueryInterface.call(t(r),o),a&&t(r).data(\"bs.carousel\").to(a),n.preventDefault()}}},r(e,null,[{key:\"VERSION\",get:function(){return\"4.4.1\"}},{key:\"Default\",get:function(){return m}}]),e}();t(document).on(\"click.bs.carousel.data-api\",\"[data-slide], [data-slide-to]\",y._dataApiClickHandler),t(window).on(\"load.bs.carousel.data-api\",(function(){for(var e=[].slice.call(document.querySelectorAll('[data-ride=\"carousel\"]')),n=0,i=e.length;n<i;n++){var r=t(e[n]);y._jQueryInterface.call(r,r.data())}})),t.fn[h]=y._jQueryInterface,t.fn[h].Constructor=y,t.fn[h].noConflict=function(){return t.fn[h]=f,y._jQueryInterface};var b=\"collapse\",_=t.fn[b],E={toggle:!0,parent:\"\"},w={toggle:\"boolean\",parent:\"(string|element)\"},T=function(){function e(e,t){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(t),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle=\"collapse\"][href=\"#'+e.id+'\"],[data-toggle=\"collapse\"][data-target=\"#'+e.id+'\"]'));for(var n=[].slice.call(document.querySelectorAll('[data-toggle=\"collapse\"]')),i=0,r=n.length;i<r;i++){var o=n[i],a=c.getSelectorFromElement(o),s=[].slice.call(document.querySelectorAll(a)).filter((function(t){return t===e}));null!==a&&s.length>0&&(this._selector=a,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var n=e.prototype;return n.toggle=function(){t(this._element).hasClass(\"show\")?this.hide():this.show()},n.show=function(){var n,i,r=this;if(!(this._isTransitioning||t(this._element).hasClass(\"show\")||(this._parent&&0===(n=[].slice.call(this._parent.querySelectorAll(\".show, .collapsing\")).filter((function(e){return\"string\"==typeof r._config.parent?e.getAttribute(\"data-parent\")===r._config.parent:e.classList.contains(\"collapse\")}))).length&&(n=null),n&&(i=t(n).not(this._selector).data(\"bs.collapse\"))&&i._isTransitioning))){var o=t.Event(\"show.bs.collapse\");if(t(this._element).trigger(o),!o.isDefaultPrevented()){n&&(e._jQueryInterface.call(t(n).not(this._selector),\"hide\"),i||t(n).data(\"bs.collapse\",null));var a=this._getDimension();t(this._element).removeClass(\"collapse\").addClass(\"collapsing\"),this._element.style[a]=0,this._triggerArray.length&&t(this._triggerArray).removeClass(\"collapsed\").attr(\"aria-expanded\",!0),this.setTransitioning(!0);var s=\"scroll\"+(a[0].toUpperCase()+a.slice(1)),l=c.getTransitionDurationFromElement(this._element);t(this._element).one(c.TRANSITION_END,(function(){t(r._element).removeClass(\"collapsing\").addClass(\"collapse\").addClass(\"show\"),r._element.style[a]=\"\",r.setTransitioning(!1),t(r._element).trigger(\"shown.bs.collapse\")})).emulateTransitionEnd(l),this._element.style[a]=this._element[s]+\"px\"}}},n.hide=function(){var e=this;if(!this._isTransitioning&&t(this._element).hasClass(\"show\")){var n=t.Event(\"hide.bs.collapse\");if(t(this._element).trigger(n),!n.isDefaultPrevented()){var i=this._getDimension();this._element.style[i]=this._element.getBoundingClientRect()[i]+\"px\",c.reflow(this._element),t(this._element).addClass(\"collapsing\").removeClass(\"collapse\").removeClass(\"show\");var r=this._triggerArray.length;if(r>0)for(var o=0;o<r;o++){var a=this._triggerArray[o],s=c.getSelectorFromElement(a);null!==s&&(t([].slice.call(document.querySelectorAll(s))).hasClass(\"show\")||t(a).addClass(\"collapsed\").attr(\"aria-expanded\",!1))}this.setTransitioning(!0),this._element.style[i]=\"\";var l=c.getTransitionDurationFromElement(this._element);t(this._element).one(c.TRANSITION_END,(function(){e.setTransitioning(!1),t(e._element).removeClass(\"collapsing\").addClass(\"collapse\").trigger(\"hidden.bs.collapse\")})).emulateTransitionEnd(l)}}},n.setTransitioning=function(e){this._isTransitioning=e},n.dispose=function(){t.removeData(this._element,\"bs.collapse\"),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},n._getConfig=function(e){return(e=s({},E,{},e)).toggle=Boolean(e.toggle),c.typeCheckConfig(b,e,w),e},n._getDimension=function(){return t(this._element).hasClass(\"width\")?\"width\":\"height\"},n._getParent=function(){var n,i=this;c.isElement(this._config.parent)?(n=this._config.parent,void 0!==this._config.parent.jquery&&(n=this._config.parent[0])):n=document.querySelector(this._config.parent);var r=[].slice.call(n.querySelectorAll('[data-toggle=\"collapse\"][data-parent=\"'+this._config.parent+'\"]'));return t(r).each((function(t,n){i._addAriaAndCollapsedClass(e._getTargetFromElement(n),[n])})),n},n._addAriaAndCollapsedClass=function(e,n){var i=t(e).hasClass(\"show\");n.length&&t(n).toggleClass(\"collapsed\",!i).attr(\"aria-expanded\",i)},e._getTargetFromElement=function(e){var t=c.getSelectorFromElement(e);return t?document.querySelector(t):null},e._jQueryInterface=function(n){return this.each((function(){var i=t(this),r=i.data(\"bs.collapse\"),o=s({},E,{},i.data(),{},\"object\"==typeof n&&n?n:{});if(!r&&o.toggle&&/show|hide/.test(n)&&(o.toggle=!1),r||(r=new e(this,o),i.data(\"bs.collapse\",r)),\"string\"==typeof n){if(void 0===r[n])throw new TypeError('No method named \"'+n+'\"');r[n]()}}))},r(e,null,[{key:\"VERSION\",get:function(){return\"4.4.1\"}},{key:\"Default\",get:function(){return E}}]),e}();t(document).on(\"click.bs.collapse.data-api\",'[data-toggle=\"collapse\"]',(function(e){\"A\"===e.currentTarget.tagName&&e.preventDefault();var n=t(this),i=c.getSelectorFromElement(this),r=[].slice.call(document.querySelectorAll(i));t(r).each((function(){var e=t(this),i=e.data(\"bs.collapse\")?\"toggle\":n.data();T._jQueryInterface.call(e,i)}))})),t.fn[b]=T._jQueryInterface,t.fn[b].Constructor=T,t.fn[b].noConflict=function(){return t.fn[b]=_,T._jQueryInterface};var S=\"dropdown\",C=t.fn[S],A=new RegExp(\"38|40|27\"),R={offset:0,flip:!0,boundary:\"scrollParent\",reference:\"toggle\",display:\"dynamic\",popperConfig:null},k={offset:\"(number|string|function)\",flip:\"boolean\",boundary:\"(string|element)\",reference:\"(string|element)\",display:\"string\",popperConfig:\"(null|object)\"},D=function(){function e(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var i=e.prototype;return i.toggle=function(){if(!this._element.disabled&&!t(this._element).hasClass(\"disabled\")){var n=t(this._menu).hasClass(\"show\");e._clearMenus(),n||this.show(!0)}},i.show=function(i){if(void 0===i&&(i=!1),!(this._element.disabled||t(this._element).hasClass(\"disabled\")||t(this._menu).hasClass(\"show\"))){var r={relatedTarget:this._element},o=t.Event(\"show.bs.dropdown\",r),a=e._getParentFromElement(this._element);if(t(a).trigger(o),!o.isDefaultPrevented()){if(!this._inNavbar&&i){if(void 0===n)throw new TypeError(\"Bootstrap's dropdowns require Popper.js (https://popper.js.org/)\");var s=this._element;\"parent\"===this._config.reference?s=a:c.isElement(this._config.reference)&&(s=this._config.reference,void 0!==this._config.reference.jquery&&(s=this._config.reference[0])),\"scrollParent\"!==this._config.boundary&&t(a).addClass(\"position-static\"),this._popper=new n(s,this._menu,this._getPopperConfig())}\"ontouchstart\"in document.documentElement&&0===t(a).closest(\".navbar-nav\").length&&t(document.body).children().on(\"mouseover\",null,t.noop),this._element.focus(),this._element.setAttribute(\"aria-expanded\",!0),t(this._menu).toggleClass(\"show\"),t(a).toggleClass(\"show\").trigger(t.Event(\"shown.bs.dropdown\",r))}}},i.hide=function(){if(!this._element.disabled&&!t(this._element).hasClass(\"disabled\")&&t(this._menu).hasClass(\"show\")){var n={relatedTarget:this._element},i=t.Event(\"hide.bs.dropdown\",n),r=e._getParentFromElement(this._element);t(r).trigger(i),i.isDefaultPrevented()||(this._popper&&this._popper.destroy(),t(this._menu).toggleClass(\"show\"),t(r).toggleClass(\"show\").trigger(t.Event(\"hidden.bs.dropdown\",n)))}},i.dispose=function(){t.removeData(this._element,\"bs.dropdown\"),t(this._element).off(\".bs.dropdown\"),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},i.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},i._addEventListeners=function(){var e=this;t(this._element).on(\"click.bs.dropdown\",(function(t){t.preventDefault(),t.stopPropagation(),e.toggle()}))},i._getConfig=function(e){return e=s({},this.constructor.Default,{},t(this._element).data(),{},e),c.typeCheckConfig(S,e,this.constructor.DefaultType),e},i._getMenuElement=function(){if(!this._menu){var t=e._getParentFromElement(this._element);t&&(this._menu=t.querySelector(\".dropdown-menu\"))}return this._menu},i._getPlacement=function(){var e=t(this._element.parentNode),n=\"bottom-start\";return e.hasClass(\"dropup\")?(n=\"top-start\",t(this._menu).hasClass(\"dropdown-menu-right\")&&(n=\"top-end\")):e.hasClass(\"dropright\")?n=\"right-start\":e.hasClass(\"dropleft\")?n=\"left-start\":t(this._menu).hasClass(\"dropdown-menu-right\")&&(n=\"bottom-end\"),n},i._detectNavbar=function(){return t(this._element).closest(\".navbar\").length>0},i._getOffset=function(){var e=this,t={};return\"function\"==typeof this._config.offset?t.fn=function(t){return t.offsets=s({},t.offsets,{},e._config.offset(t.offsets,e._element)||{}),t}:t.offset=this._config.offset,t},i._getPopperConfig=function(){var e={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return\"static\"===this._config.display&&(e.modifiers.applyStyle={enabled:!1}),s({},e,{},this._config.popperConfig)},e._jQueryInterface=function(n){return this.each((function(){var i=t(this).data(\"bs.dropdown\");if(i||(i=new e(this,\"object\"==typeof n?n:null),t(this).data(\"bs.dropdown\",i)),\"string\"==typeof n){if(void 0===i[n])throw new TypeError('No method named \"'+n+'\"');i[n]()}}))},e._clearMenus=function(n){if(!n||3!==n.which&&(\"keyup\"!==n.type||9===n.which))for(var i=[].slice.call(document.querySelectorAll('[data-toggle=\"dropdown\"]')),r=0,o=i.length;r<o;r++){var a=e._getParentFromElement(i[r]),s=t(i[r]).data(\"bs.dropdown\"),c={relatedTarget:i[r]};if(n&&\"click\"===n.type&&(c.clickEvent=n),s){var l=s._menu;if(t(a).hasClass(\"show\")&&!(n&&(\"click\"===n.type&&/input|textarea/i.test(n.target.tagName)||\"keyup\"===n.type&&9===n.which)&&t.contains(a,n.target))){var u=t.Event(\"hide.bs.dropdown\",c);t(a).trigger(u),u.isDefaultPrevented()||(\"ontouchstart\"in document.documentElement&&t(document.body).children().off(\"mouseover\",null,t.noop),i[r].setAttribute(\"aria-expanded\",\"false\"),s._popper&&s._popper.destroy(),t(l).removeClass(\"show\"),t(a).removeClass(\"show\").trigger(t.Event(\"hidden.bs.dropdown\",c)))}}}},e._getParentFromElement=function(e){var t,n=c.getSelectorFromElement(e);return n&&(t=document.querySelector(n)),t||e.parentNode},e._dataApiKeydownHandler=function(n){if((/input|textarea/i.test(n.target.tagName)?!(32===n.which||27!==n.which&&(40!==n.which&&38!==n.which||t(n.target).closest(\".dropdown-menu\").length)):A.test(n.which))&&(n.preventDefault(),n.stopPropagation(),!this.disabled&&!t(this).hasClass(\"disabled\"))){var i=e._getParentFromElement(this),r=t(i).hasClass(\"show\");if(r||27!==n.which)if(r&&(!r||27!==n.which&&32!==n.which)){var o=[].slice.call(i.querySelectorAll(\".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)\")).filter((function(e){return t(e).is(\":visible\")}));if(0!==o.length){var a=o.indexOf(n.target);38===n.which&&a>0&&a--,40===n.which&&a<o.length-1&&a++,a<0&&(a=0),o[a].focus()}}else{if(27===n.which){var s=i.querySelector('[data-toggle=\"dropdown\"]');t(s).trigger(\"focus\")}t(this).trigger(\"click\")}}},r(e,null,[{key:\"VERSION\",get:function(){return\"4.4.1\"}},{key:\"Default\",get:function(){return R}},{key:\"DefaultType\",get:function(){return k}}]),e}();t(document).on(\"keydown.bs.dropdown.data-api\",'[data-toggle=\"dropdown\"]',D._dataApiKeydownHandler).on(\"keydown.bs.dropdown.data-api\",\".dropdown-menu\",D._dataApiKeydownHandler).on(\"click.bs.dropdown.data-api keyup.bs.dropdown.data-api\",D._clearMenus).on(\"click.bs.dropdown.data-api\",'[data-toggle=\"dropdown\"]',(function(e){e.preventDefault(),e.stopPropagation(),D._jQueryInterface.call(t(this),\"toggle\")})).on(\"click.bs.dropdown.data-api\",\".dropdown form\",(function(e){e.stopPropagation()})),t.fn[S]=D._jQueryInterface,t.fn[S].Constructor=D,t.fn[S].noConflict=function(){return t.fn[S]=C,D._jQueryInterface};var x=t.fn.modal,I={backdrop:!0,keyboard:!0,focus:!0,show:!0},O={backdrop:\"(boolean|string)\",keyboard:\"boolean\",focus:\"boolean\",show:\"boolean\"},N=function(){function e(e,t){this._config=this._getConfig(t),this._element=e,this._dialog=e.querySelector(\".modal-dialog\"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var n=e.prototype;return n.toggle=function(e){return this._isShown?this.hide():this.show(e)},n.show=function(e){var n=this;if(!this._isShown&&!this._isTransitioning){t(this._element).hasClass(\"fade\")&&(this._isTransitioning=!0);var i=t.Event(\"show.bs.modal\",{relatedTarget:e});t(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),t(this._element).on(\"click.dismiss.bs.modal\",'[data-dismiss=\"modal\"]',(function(e){return n.hide(e)})),t(this._dialog).on(\"mousedown.dismiss.bs.modal\",(function(){t(n._element).one(\"mouseup.dismiss.bs.modal\",(function(e){t(e.target).is(n._element)&&(n._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return n._showElement(e)})))}},n.hide=function(e){var n=this;if(e&&e.preventDefault(),this._isShown&&!this._isTransitioning){var i=t.Event(\"hide.bs.modal\");if(t(this._element).trigger(i),this._isShown&&!i.isDefaultPrevented()){this._isShown=!1;var r=t(this._element).hasClass(\"fade\");if(r&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),t(document).off(\"focusin.bs.modal\"),t(this._element).removeClass(\"show\"),t(this._element).off(\"click.dismiss.bs.modal\"),t(this._dialog).off(\"mousedown.dismiss.bs.modal\"),r){var o=c.getTransitionDurationFromElement(this._element);t(this._element).one(c.TRANSITION_END,(function(e){return n._hideModal(e)})).emulateTransitionEnd(o)}else this._hideModal()}}},n.dispose=function(){[window,this._element,this._dialog].forEach((function(e){return t(e).off(\".bs.modal\")})),t(document).off(\"focusin.bs.modal\"),t.removeData(this._element,\"bs.modal\"),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},n.handleUpdate=function(){this._adjustDialog()},n._getConfig=function(e){return e=s({},I,{},e),c.typeCheckConfig(\"modal\",e,O),e},n._triggerBackdropTransition=function(){var e=this;if(\"static\"===this._config.backdrop){var n=t.Event(\"hidePrevented.bs.modal\");if(t(this._element).trigger(n),n.defaultPrevented)return;this._element.classList.add(\"modal-static\");var i=c.getTransitionDurationFromElement(this._element);t(this._element).one(c.TRANSITION_END,(function(){e._element.classList.remove(\"modal-static\")})).emulateTransitionEnd(i),this._element.focus()}else this.hide()},n._showElement=function(e){var n=this,i=t(this._element).hasClass(\"fade\"),r=this._dialog?this._dialog.querySelector(\".modal-body\"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display=\"block\",this._element.removeAttribute(\"aria-hidden\"),this._element.setAttribute(\"aria-modal\",!0),t(this._dialog).hasClass(\"modal-dialog-scrollable\")&&r?r.scrollTop=0:this._element.scrollTop=0,i&&c.reflow(this._element),t(this._element).addClass(\"show\"),this._config.focus&&this._enforceFocus();var o=t.Event(\"shown.bs.modal\",{relatedTarget:e}),a=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,t(n._element).trigger(o)};if(i){var s=c.getTransitionDurationFromElement(this._dialog);t(this._dialog).one(c.TRANSITION_END,a).emulateTransitionEnd(s)}else a()},n._enforceFocus=function(){var e=this;t(document).off(\"focusin.bs.modal\").on(\"focusin.bs.modal\",(function(n){document!==n.target&&e._element!==n.target&&0===t(e._element).has(n.target).length&&e._element.focus()}))},n._setEscapeEvent=function(){var e=this;this._isShown&&this._config.keyboard?t(this._element).on(\"keydown.dismiss.bs.modal\",(function(t){27===t.which&&e._triggerBackdropTransition()})):this._isShown||t(this._element).off(\"keydown.dismiss.bs.modal\")},n._setResizeEvent=function(){var e=this;this._isShown?t(window).on(\"resize.bs.modal\",(function(t){return e.handleUpdate(t)})):t(window).off(\"resize.bs.modal\")},n._hideModal=function(){var e=this;this._element.style.display=\"none\",this._element.setAttribute(\"aria-hidden\",!0),this._element.removeAttribute(\"aria-modal\"),this._isTransitioning=!1,this._showBackdrop((function(){t(document.body).removeClass(\"modal-open\"),e._resetAdjustments(),e._resetScrollbar(),t(e._element).trigger(\"hidden.bs.modal\")}))},n._removeBackdrop=function(){this._backdrop&&(t(this._backdrop).remove(),this._backdrop=null)},n._showBackdrop=function(e){var n=this,i=t(this._element).hasClass(\"fade\")?\"fade\":\"\";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement(\"div\"),this._backdrop.className=\"modal-backdrop\",i&&this._backdrop.classList.add(i),t(this._backdrop).appendTo(document.body),t(this._element).on(\"click.dismiss.bs.modal\",(function(e){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:e.target===e.currentTarget&&n._triggerBackdropTransition()})),i&&c.reflow(this._backdrop),t(this._backdrop).addClass(\"show\"),!e)return;if(!i)return void e();var r=c.getTransitionDurationFromElement(this._backdrop);t(this._backdrop).one(c.TRANSITION_END,e).emulateTransitionEnd(r)}else if(!this._isShown&&this._backdrop){t(this._backdrop).removeClass(\"show\");var o=function(){n._removeBackdrop(),e&&e()};if(t(this._element).hasClass(\"fade\")){var a=c.getTransitionDurationFromElement(this._backdrop);t(this._backdrop).one(c.TRANSITION_END,o).emulateTransitionEnd(a)}else o()}else e&&e()},n._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+\"px\"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+\"px\")},n._resetAdjustments=function(){this._element.style.paddingLeft=\"\",this._element.style.paddingRight=\"\"},n._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=e.left+e.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},n._setScrollbar=function(){var e=this;if(this._isBodyOverflowing){var n=[].slice.call(document.querySelectorAll(\".fixed-top, .fixed-bottom, .is-fixed, .sticky-top\")),i=[].slice.call(document.querySelectorAll(\".sticky-top\"));t(n).each((function(n,i){var r=i.style.paddingRight,o=t(i).css(\"padding-right\");t(i).data(\"padding-right\",r).css(\"padding-right\",parseFloat(o)+e._scrollbarWidth+\"px\")})),t(i).each((function(n,i){var r=i.style.marginRight,o=t(i).css(\"margin-right\");t(i).data(\"margin-right\",r).css(\"margin-right\",parseFloat(o)-e._scrollbarWidth+\"px\")}));var r=document.body.style.paddingRight,o=t(document.body).css(\"padding-right\");t(document.body).data(\"padding-right\",r).css(\"padding-right\",parseFloat(o)+this._scrollbarWidth+\"px\")}t(document.body).addClass(\"modal-open\")},n._resetScrollbar=function(){var e=[].slice.call(document.querySelectorAll(\".fixed-top, .fixed-bottom, .is-fixed, .sticky-top\"));t(e).each((function(e,n){var i=t(n).data(\"padding-right\");t(n).removeData(\"padding-right\"),n.style.paddingRight=i||\"\"}));var n=[].slice.call(document.querySelectorAll(\".sticky-top\"));t(n).each((function(e,n){var i=t(n).data(\"margin-right\");void 0!==i&&t(n).css(\"margin-right\",i).removeData(\"margin-right\")}));var i=t(document.body).data(\"padding-right\");t(document.body).removeData(\"padding-right\"),document.body.style.paddingRight=i||\"\"},n._getScrollbarWidth=function(){var e=document.createElement(\"div\");e.className=\"modal-scrollbar-measure\",document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},e._jQueryInterface=function(n,i){return this.each((function(){var r=t(this).data(\"bs.modal\"),o=s({},I,{},t(this).data(),{},\"object\"==typeof n&&n?n:{});if(r||(r=new e(this,o),t(this).data(\"bs.modal\",r)),\"string\"==typeof n){if(void 0===r[n])throw new TypeError('No method named \"'+n+'\"');r[n](i)}else o.show&&r.show(i)}))},r(e,null,[{key:\"VERSION\",get:function(){return\"4.4.1\"}},{key:\"Default\",get:function(){return I}}]),e}();t(document).on(\"click.bs.modal.data-api\",'[data-toggle=\"modal\"]',(function(e){var n,i=this,r=c.getSelectorFromElement(this);r&&(n=document.querySelector(r));var o=t(n).data(\"bs.modal\")?\"toggle\":s({},t(n).data(),{},t(this).data());\"A\"!==this.tagName&&\"AREA\"!==this.tagName||e.preventDefault();var a=t(n).one(\"show.bs.modal\",(function(e){e.isDefaultPrevented()||a.one(\"hidden.bs.modal\",(function(){t(i).is(\":visible\")&&i.focus()}))}));N._jQueryInterface.call(t(n),o,this)})),t.fn.modal=N._jQueryInterface,t.fn.modal.Constructor=N,t.fn.modal.noConflict=function(){return t.fn.modal=x,N._jQueryInterface};var L=[\"background\",\"cite\",\"href\",\"itemtype\",\"longdesc\",\"poster\",\"src\",\"xlink:href\"],M=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,P=/^data:(?:image\\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\\/(?:mpeg|mp4|ogg|webm)|audio\\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function j(e,t,n){if(0===e.length)return e;if(n&&\"function\"==typeof n)return n(e);for(var i=(new window.DOMParser).parseFromString(e,\"text/html\"),r=Object.keys(t),o=[].slice.call(i.body.querySelectorAll(\"*\")),a=function(e,n){var i=o[e],a=i.nodeName.toLowerCase();if(-1===r.indexOf(i.nodeName.toLowerCase()))return i.parentNode.removeChild(i),\"continue\";var s=[].slice.call(i.attributes),c=[].concat(t[\"*\"]||[],t[a]||[]);s.forEach((function(e){(function(e,t){var n=e.nodeName.toLowerCase();if(-1!==t.indexOf(n))return-1===L.indexOf(n)||Boolean(e.nodeValue.match(M)||e.nodeValue.match(P));for(var i=t.filter((function(e){return e instanceof RegExp})),r=0,o=i.length;r<o;r++)if(n.match(i[r]))return!0;return!1})(e,c)||i.removeAttribute(e.nodeName)}))},s=0,c=o.length;s<c;s++)a(s);return i.body.innerHTML}var F=t.fn.tooltip,U=new RegExp(\"(^|\\\\s)bs-tooltip\\\\S+\",\"g\"),B=[\"sanitize\",\"whiteList\",\"sanitizeFn\"],H={animation:\"boolean\",template:\"string\",title:\"(string|element|function)\",trigger:\"string\",delay:\"(number|object)\",html:\"boolean\",selector:\"(string|boolean)\",placement:\"(string|function)\",offset:\"(number|string|function)\",container:\"(string|element|boolean)\",fallbackPlacement:\"(string|array)\",boundary:\"(string|element)\",sanitize:\"boolean\",sanitizeFn:\"(null|function)\",whiteList:\"object\",popperConfig:\"(null|object)\"},J={AUTO:\"auto\",TOP:\"top\",RIGHT:\"right\",BOTTOM:\"bottom\",LEFT:\"left\"},G={animation:!0,template:'<div class=\"tooltip\" role=\"tooltip\"><div class=\"arrow\"></div><div class=\"tooltip-inner\"></div></div>',trigger:\"hover focus\",title:\"\",delay:0,html:!1,selector:!1,placement:\"top\",offset:0,container:!1,fallbackPlacement:\"flip\",boundary:\"scrollParent\",sanitize:!0,sanitizeFn:null,whiteList:{\"*\":[\"class\",\"dir\",\"id\",\"lang\",\"role\",/^aria-[\\w-]*$/i],a:[\"target\",\"href\",\"title\",\"rel\"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:[\"src\",\"alt\",\"title\",\"width\",\"height\"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},W={HIDE:\"hide.bs.tooltip\",HIDDEN:\"hidden.bs.tooltip\",SHOW:\"show.bs.tooltip\",SHOWN:\"shown.bs.tooltip\",INSERTED:\"inserted.bs.tooltip\",CLICK:\"click.bs.tooltip\",FOCUSIN:\"focusin.bs.tooltip\",FOCUSOUT:\"focusout.bs.tooltip\",MOUSEENTER:\"mouseenter.bs.tooltip\",MOUSELEAVE:\"mouseleave.bs.tooltip\"},V=function(){function e(e,t){if(void 0===n)throw new TypeError(\"Bootstrap's tooltips require Popper.js (https://popper.js.org/)\");this._isEnabled=!0,this._timeout=0,this._hoverState=\"\",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}var i=e.prototype;return i.enable=function(){this._isEnabled=!0},i.disable=function(){this._isEnabled=!1},i.toggleEnabled=function(){this._isEnabled=!this._isEnabled},i.toggle=function(e){if(this._isEnabled)if(e){var n=this.constructor.DATA_KEY,i=t(e.currentTarget).data(n);i||(i=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(n,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(t(this.getTipElement()).hasClass(\"show\"))return void this._leave(null,this);this._enter(null,this)}},i.dispose=function(){clearTimeout(this._timeout),t.removeData(this.element,this.constructor.DATA_KEY),t(this.element).off(this.constructor.EVENT_KEY),t(this.element).closest(\".modal\").off(\"hide.bs.modal\",this._hideModalHandler),this.tip&&t(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},i.show=function(){var e=this;if(\"none\"===t(this.element).css(\"display\"))throw new Error(\"Please use show on visible elements\");var i=t.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){t(this.element).trigger(i);var r=c.findShadowRoot(this.element),o=t.contains(null!==r?r:this.element.ownerDocument.documentElement,this.element);if(i.isDefaultPrevented()||!o)return;var a=this.getTipElement(),s=c.getUID(this.constructor.NAME);a.setAttribute(\"id\",s),this.element.setAttribute(\"aria-describedby\",s),this.setContent(),this.config.animation&&t(a).addClass(\"fade\");var l=\"function\"==typeof this.config.placement?this.config.placement.call(this,a,this.element):this.config.placement,u=this._getAttachment(l);this.addAttachmentClass(u);var d=this._getContainer();t(a).data(this.constructor.DATA_KEY,this),t.contains(this.element.ownerDocument.documentElement,this.tip)||t(a).appendTo(d),t(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new n(this.element,a,this._getPopperConfig(u)),t(a).addClass(\"show\"),\"ontouchstart\"in document.documentElement&&t(document.body).children().on(\"mouseover\",null,t.noop);var p=function(){e.config.animation&&e._fixTransition();var n=e._hoverState;e._hoverState=null,t(e.element).trigger(e.constructor.Event.SHOWN),\"out\"===n&&e._leave(null,e)};if(t(this.tip).hasClass(\"fade\")){var h=c.getTransitionDurationFromElement(this.tip);t(this.tip).one(c.TRANSITION_END,p).emulateTransitionEnd(h)}else p()}},i.hide=function(e){var n=this,i=this.getTipElement(),r=t.Event(this.constructor.Event.HIDE),o=function(){\"show\"!==n._hoverState&&i.parentNode&&i.parentNode.removeChild(i),n._cleanTipClass(),n.element.removeAttribute(\"aria-describedby\"),t(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),e&&e()};if(t(this.element).trigger(r),!r.isDefaultPrevented()){if(t(i).removeClass(\"show\"),\"ontouchstart\"in document.documentElement&&t(document.body).children().off(\"mouseover\",null,t.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,t(this.tip).hasClass(\"fade\")){var a=c.getTransitionDurationFromElement(i);t(i).one(c.TRANSITION_END,o).emulateTransitionEnd(a)}else o();this._hoverState=\"\"}},i.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},i.isWithContent=function(){return Boolean(this.getTitle())},i.addAttachmentClass=function(e){t(this.getTipElement()).addClass(\"bs-tooltip-\"+e)},i.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0],this.tip},i.setContent=function(){var e=this.getTipElement();this.setElementContent(t(e.querySelectorAll(\".tooltip-inner\")),this.getTitle()),t(e).removeClass(\"fade show\")},i.setElementContent=function(e,n){\"object\"!=typeof n||!n.nodeType&&!n.jquery?this.config.html?(this.config.sanitize&&(n=j(n,this.config.whiteList,this.config.sanitizeFn)),e.html(n)):e.text(n):this.config.html?t(n).parent().is(e)||e.empty().append(n):e.text(t(n).text())},i.getTitle=function(){var e=this.element.getAttribute(\"data-original-title\");return e||(e=\"function\"==typeof this.config.title?this.config.title.call(this.element):this.config.title),e},i._getPopperConfig=function(e){var t=this;return s({},{placement:e,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:\".arrow\"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){return t._handlePopperPlacementChange(e)}},{},this.config.popperConfig)},i._getOffset=function(){var e=this,t={};return\"function\"==typeof this.config.offset?t.fn=function(t){return t.offsets=s({},t.offsets,{},e.config.offset(t.offsets,e.element)||{}),t}:t.offset=this.config.offset,t},i._getContainer=function(){return!1===this.config.container?document.body:c.isElement(this.config.container)?t(this.config.container):t(document).find(this.config.container)},i._getAttachment=function(e){return J[e.toUpperCase()]},i._setListeners=function(){var e=this;this.config.trigger.split(\" \").forEach((function(n){if(\"click\"===n)t(e.element).on(e.constructor.Event.CLICK,e.config.selector,(function(t){return e.toggle(t)}));else if(\"manual\"!==n){var i=\"hover\"===n?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,r=\"hover\"===n?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;t(e.element).on(i,e.config.selector,(function(t){return e._enter(t)})).on(r,e.config.selector,(function(t){return e._leave(t)}))}})),this._hideModalHandler=function(){e.element&&e.hide()},t(this.element).closest(\".modal\").on(\"hide.bs.modal\",this._hideModalHandler),this.config.selector?this.config=s({},this.config,{trigger:\"manual\",selector:\"\"}):this._fixTitle()},i._fixTitle=function(){var e=typeof this.element.getAttribute(\"data-original-title\");(this.element.getAttribute(\"title\")||\"string\"!==e)&&(this.element.setAttribute(\"data-original-title\",this.element.getAttribute(\"title\")||\"\"),this.element.setAttribute(\"title\",\"\"))},i._enter=function(e,n){var i=this.constructor.DATA_KEY;(n=n||t(e.currentTarget).data(i))||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(i,n)),e&&(n._activeTrigger[\"focusin\"===e.type?\"focus\":\"hover\"]=!0),t(n.getTipElement()).hasClass(\"show\")||\"show\"===n._hoverState?n._hoverState=\"show\":(clearTimeout(n._timeout),n._hoverState=\"show\",n.config.delay&&n.config.delay.show?n._timeout=setTimeout((function(){\"show\"===n._hoverState&&n.show()}),n.config.delay.show):n.show())},i._leave=function(e,n){var i=this.constructor.DATA_KEY;(n=n||t(e.currentTarget).data(i))||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(i,n)),e&&(n._activeTrigger[\"focusout\"===e.type?\"focus\":\"hover\"]=!1),n._isWithActiveTrigger()||(clearTimeout(n._timeout),n._hoverState=\"out\",n.config.delay&&n.config.delay.hide?n._timeout=setTimeout((function(){\"out\"===n._hoverState&&n.hide()}),n.config.delay.hide):n.hide())},i._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},i._getConfig=function(e){var n=t(this.element).data();return Object.keys(n).forEach((function(e){-1!==B.indexOf(e)&&delete n[e]})),\"number\"==typeof(e=s({},this.constructor.Default,{},n,{},\"object\"==typeof e&&e?e:{})).delay&&(e.delay={show:e.delay,hide:e.delay}),\"number\"==typeof e.title&&(e.title=e.title.toString()),\"number\"==typeof e.content&&(e.content=e.content.toString()),c.typeCheckConfig(\"tooltip\",e,this.constructor.DefaultType),e.sanitize&&(e.template=j(e.template,e.whiteList,e.sanitizeFn)),e},i._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},i._cleanTipClass=function(){var e=t(this.getTipElement()),n=e.attr(\"class\").match(U);null!==n&&n.length&&e.removeClass(n.join(\"\"))},i._handlePopperPlacementChange=function(e){this.tip=e.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},i._fixTransition=function(){var e=this.getTipElement(),n=this.config.animation;null===e.getAttribute(\"x-placement\")&&(t(e).removeClass(\"fade\"),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},e._jQueryInterface=function(n){return this.each((function(){var i=t(this).data(\"bs.tooltip\"),r=\"object\"==typeof n&&n;if((i||!/dispose|hide/.test(n))&&(i||(i=new e(this,r),t(this).data(\"bs.tooltip\",i)),\"string\"==typeof n)){if(void 0===i[n])throw new TypeError('No method named \"'+n+'\"');i[n]()}}))},r(e,null,[{key:\"VERSION\",get:function(){return\"4.4.1\"}},{key:\"Default\",get:function(){return G}},{key:\"NAME\",get:function(){return\"tooltip\"}},{key:\"DATA_KEY\",get:function(){return\"bs.tooltip\"}},{key:\"Event\",get:function(){return W}},{key:\"EVENT_KEY\",get:function(){return\".bs.tooltip\"}},{key:\"DefaultType\",get:function(){return H}}]),e}();t.fn.tooltip=V._jQueryInterface,t.fn.tooltip.Constructor=V,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=F,V._jQueryInterface};var q=t.fn.popover,z=new RegExp(\"(^|\\\\s)bs-popover\\\\S+\",\"g\"),K=s({},V.Default,{placement:\"right\",trigger:\"click\",content:\"\",template:'<div class=\"popover\" role=\"tooltip\"><div class=\"arrow\"></div><h3 class=\"popover-header\"></h3><div class=\"popover-body\"></div></div>'}),$=s({},V.DefaultType,{content:\"(string|element|function)\"}),X={HIDE:\"hide.bs.popover\",HIDDEN:\"hidden.bs.popover\",SHOW:\"show.bs.popover\",SHOWN:\"shown.bs.popover\",INSERTED:\"inserted.bs.popover\",CLICK:\"click.bs.popover\",FOCUSIN:\"focusin.bs.popover\",FOCUSOUT:\"focusout.bs.popover\",MOUSEENTER:\"mouseenter.bs.popover\",MOUSELEAVE:\"mouseleave.bs.popover\"},Q=function(e){var n,i;function o(){return e.apply(this,arguments)||this}i=e,(n=o).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i;var a=o.prototype;return a.isWithContent=function(){return this.getTitle()||this._getContent()},a.addAttachmentClass=function(e){t(this.getTipElement()).addClass(\"bs-popover-\"+e)},a.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0],this.tip},a.setContent=function(){var e=t(this.getTipElement());this.setElementContent(e.find(\".popover-header\"),this.getTitle());var n=this._getContent();\"function\"==typeof n&&(n=n.call(this.element)),this.setElementContent(e.find(\".popover-body\"),n),e.removeClass(\"fade show\")},a._getContent=function(){return this.element.getAttribute(\"data-content\")||this.config.content},a._cleanTipClass=function(){var e=t(this.getTipElement()),n=e.attr(\"class\").match(z);null!==n&&n.length>0&&e.removeClass(n.join(\"\"))},o._jQueryInterface=function(e){return this.each((function(){var n=t(this).data(\"bs.popover\"),i=\"object\"==typeof e?e:null;if((n||!/dispose|hide/.test(e))&&(n||(n=new o(this,i),t(this).data(\"bs.popover\",n)),\"string\"==typeof e)){if(void 0===n[e])throw new TypeError('No method named \"'+e+'\"');n[e]()}}))},r(o,null,[{key:\"VERSION\",get:function(){return\"4.4.1\"}},{key:\"Default\",get:function(){return K}},{key:\"NAME\",get:function(){return\"popover\"}},{key:\"DATA_KEY\",get:function(){return\"bs.popover\"}},{key:\"Event\",get:function(){return X}},{key:\"EVENT_KEY\",get:function(){return\".bs.popover\"}},{key:\"DefaultType\",get:function(){return $}}]),o}(V);t.fn.popover=Q._jQueryInterface,t.fn.popover.Constructor=Q,t.fn.popover.noConflict=function(){return t.fn.popover=q,Q._jQueryInterface};var Y=\"scrollspy\",Z=t.fn[Y],ee={offset:10,method:\"auto\",target:\"\"},te={offset:\"number\",method:\"string\",target:\"(string|element)\"},ne=function(){function e(e,n){var i=this;this._element=e,this._scrollElement=\"BODY\"===e.tagName?window:e,this._config=this._getConfig(n),this._selector=this._config.target+\" .nav-link,\"+this._config.target+\" .list-group-item,\"+this._config.target+\" .dropdown-item\",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,t(this._scrollElement).on(\"scroll.bs.scrollspy\",(function(e){return i._process(e)})),this.refresh(),this._process()}var n=e.prototype;return n.refresh=function(){var e=this,n=\"auto\"===this._config.method?this._scrollElement===this._scrollElement.window?\"offset\":\"position\":this._config.method,i=\"position\"===n?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map((function(e){var r,o=c.getSelectorFromElement(e);if(o&&(r=document.querySelector(o)),r){var a=r.getBoundingClientRect();if(a.width||a.height)return[t(r)[n]().top+i,o]}return null})).filter((function(e){return e})).sort((function(e,t){return e[0]-t[0]})).forEach((function(t){e._offsets.push(t[0]),e._targets.push(t[1])}))},n.dispose=function(){t.removeData(this._element,\"bs.scrollspy\"),t(this._scrollElement).off(\".bs.scrollspy\"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},n._getConfig=function(e){if(\"string\"!=typeof(e=s({},ee,{},\"object\"==typeof e&&e?e:{})).target){var n=t(e.target).attr(\"id\");n||(n=c.getUID(Y),t(e.target).attr(\"id\",n)),e.target=\"#\"+n}return c.typeCheckConfig(Y,e,te),e},n._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},n._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},n._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},n._process=function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=n){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var r=this._offsets.length;r--;)this._activeTarget!==this._targets[r]&&e>=this._offsets[r]&&(void 0===this._offsets[r+1]||e<this._offsets[r+1])&&this._activate(this._targets[r])}},n._activate=function(e){this._activeTarget=e,this._clear();var n=this._selector.split(\",\").map((function(t){return t+'[data-target=\"'+e+'\"],'+t+'[href=\"'+e+'\"]'})),i=t([].slice.call(document.querySelectorAll(n.join(\",\"))));i.hasClass(\"dropdown-item\")?(i.closest(\".dropdown\").find(\".dropdown-toggle\").addClass(\"active\"),i.addClass(\"active\")):(i.addClass(\"active\"),i.parents(\".nav, .list-group\").prev(\".nav-link, .list-group-item\").addClass(\"active\"),i.parents(\".nav, .list-group\").prev(\".nav-item\").children(\".nav-link\").addClass(\"active\")),t(this._scrollElement).trigger(\"activate.bs.scrollspy\",{relatedTarget:e})},n._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter((function(e){return e.classList.contains(\"active\")})).forEach((function(e){return e.classList.remove(\"active\")}))},e._jQueryInterface=function(n){return this.each((function(){var i=t(this).data(\"bs.scrollspy\");if(i||(i=new e(this,\"object\"==typeof n&&n),t(this).data(\"bs.scrollspy\",i)),\"string\"==typeof n){if(void 0===i[n])throw new TypeError('No method named \"'+n+'\"');i[n]()}}))},r(e,null,[{key:\"VERSION\",get:function(){return\"4.4.1\"}},{key:\"Default\",get:function(){return ee}}]),e}();t(window).on(\"load.bs.scrollspy.data-api\",(function(){for(var e=[].slice.call(document.querySelectorAll('[data-spy=\"scroll\"]')),n=e.length;n--;){var i=t(e[n]);ne._jQueryInterface.call(i,i.data())}})),t.fn[Y]=ne._jQueryInterface,t.fn[Y].Constructor=ne,t.fn[Y].noConflict=function(){return t.fn[Y]=Z,ne._jQueryInterface};var ie=t.fn.tab,re=function(){function e(e){this._element=e}var n=e.prototype;return n.show=function(){var e=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&t(this._element).hasClass(\"active\")||t(this._element).hasClass(\"disabled\"))){var n,i,r=t(this._element).closest(\".nav, .list-group\")[0],o=c.getSelectorFromElement(this._element);if(r){var a=\"UL\"===r.nodeName||\"OL\"===r.nodeName?\"> li > .active\":\".active\";i=(i=t.makeArray(t(r).find(a)))[i.length-1]}var s=t.Event(\"hide.bs.tab\",{relatedTarget:this._element}),l=t.Event(\"show.bs.tab\",{relatedTarget:i});if(i&&t(i).trigger(s),t(this._element).trigger(l),!l.isDefaultPrevented()&&!s.isDefaultPrevented()){o&&(n=document.querySelector(o)),this._activate(this._element,r);var u=function(){var n=t.Event(\"hidden.bs.tab\",{relatedTarget:e._element}),r=t.Event(\"shown.bs.tab\",{relatedTarget:i});t(i).trigger(n),t(e._element).trigger(r)};n?this._activate(n,n.parentNode,u):u()}}},n.dispose=function(){t.removeData(this._element,\"bs.tab\"),this._element=null},n._activate=function(e,n,i){var r=this,o=(!n||\"UL\"!==n.nodeName&&\"OL\"!==n.nodeName?t(n).children(\".active\"):t(n).find(\"> li > .active\"))[0],a=i&&o&&t(o).hasClass(\"fade\"),s=function(){return r._transitionComplete(e,o,i)};if(o&&a){var l=c.getTransitionDurationFromElement(o);t(o).removeClass(\"show\").one(c.TRANSITION_END,s).emulateTransitionEnd(l)}else s()},n._transitionComplete=function(e,n,i){if(n){t(n).removeClass(\"active\");var r=t(n.parentNode).find(\"> .dropdown-menu .active\")[0];r&&t(r).removeClass(\"active\"),\"tab\"===n.getAttribute(\"role\")&&n.setAttribute(\"aria-selected\",!1)}if(t(e).addClass(\"active\"),\"tab\"===e.getAttribute(\"role\")&&e.setAttribute(\"aria-selected\",!0),c.reflow(e),e.classList.contains(\"fade\")&&e.classList.add(\"show\"),e.parentNode&&t(e.parentNode).hasClass(\"dropdown-menu\")){var o=t(e).closest(\".dropdown\")[0];if(o){var a=[].slice.call(o.querySelectorAll(\".dropdown-toggle\"));t(a).addClass(\"active\")}e.setAttribute(\"aria-expanded\",!0)}i&&i()},e._jQueryInterface=function(n){return this.each((function(){var i=t(this),r=i.data(\"bs.tab\");if(r||(r=new e(this),i.data(\"bs.tab\",r)),\"string\"==typeof n){if(void 0===r[n])throw new TypeError('No method named \"'+n+'\"');r[n]()}}))},r(e,null,[{key:\"VERSION\",get:function(){return\"4.4.1\"}}]),e}();t(document).on(\"click.bs.tab.data-api\",'[data-toggle=\"tab\"], [data-toggle=\"pill\"], [data-toggle=\"list\"]',(function(e){e.preventDefault(),re._jQueryInterface.call(t(this),\"show\")})),t.fn.tab=re._jQueryInterface,t.fn.tab.Constructor=re,t.fn.tab.noConflict=function(){return t.fn.tab=ie,re._jQueryInterface};var oe=t.fn.toast,ae={animation:\"boolean\",autohide:\"boolean\",delay:\"number\"},se={animation:!0,autohide:!0,delay:500},ce=function(){function e(e,t){this._element=e,this._config=this._getConfig(t),this._timeout=null,this._setListeners()}var n=e.prototype;return n.show=function(){var e=this,n=t.Event(\"show.bs.toast\");if(t(this._element).trigger(n),!n.isDefaultPrevented()){this._config.animation&&this._element.classList.add(\"fade\");var i=function(){e._element.classList.remove(\"showing\"),e._element.classList.add(\"show\"),t(e._element).trigger(\"shown.bs.toast\"),e._config.autohide&&(e._timeout=setTimeout((function(){e.hide()}),e._config.delay))};if(this._element.classList.remove(\"hide\"),c.reflow(this._element),this._element.classList.add(\"showing\"),this._config.animation){var r=c.getTransitionDurationFromElement(this._element);t(this._element).one(c.TRANSITION_END,i).emulateTransitionEnd(r)}else i()}},n.hide=function(){if(this._element.classList.contains(\"show\")){var e=t.Event(\"hide.bs.toast\");t(this._element).trigger(e),e.isDefaultPrevented()||this._close()}},n.dispose=function(){clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains(\"show\")&&this._element.classList.remove(\"show\"),t(this._element).off(\"click.dismiss.bs.toast\"),t.removeData(this._element,\"bs.toast\"),this._element=null,this._config=null},n._getConfig=function(e){return e=s({},se,{},t(this._element).data(),{},\"object\"==typeof e&&e?e:{}),c.typeCheckConfig(\"toast\",e,this.constructor.DefaultType),e},n._setListeners=function(){var e=this;t(this._element).on(\"click.dismiss.bs.toast\",'[data-dismiss=\"toast\"]',(function(){return e.hide()}))},n._close=function(){var e=this,n=function(){e._element.classList.add(\"hide\"),t(e._element).trigger(\"hidden.bs.toast\")};if(this._element.classList.remove(\"show\"),this._config.animation){var i=c.getTransitionDurationFromElement(this._element);t(this._element).one(c.TRANSITION_END,n).emulateTransitionEnd(i)}else n()},e._jQueryInterface=function(n){return this.each((function(){var i=t(this),r=i.data(\"bs.toast\");if(r||(r=new e(this,\"object\"==typeof n&&n),i.data(\"bs.toast\",r)),\"string\"==typeof n){if(void 0===r[n])throw new TypeError('No method named \"'+n+'\"');r[n](this)}}))},r(e,null,[{key:\"VERSION\",get:function(){return\"4.4.1\"}},{key:\"DefaultType\",get:function(){return ae}},{key:\"Default\",get:function(){return se}}]),e}();t.fn.toast=ce._jQueryInterface,t.fn.toast.Constructor=ce,t.fn.toast.noConflict=function(){return t.fn.toast=oe,ce._jQueryInterface},e.Alert=u,e.Button=p,e.Carousel=y,e.Collapse=T,e.Dropdown=D,e.Modal=N,e.Popover=Q,e.Scrollspy=ne,e.Tab=re,e.Toast=ce,e.Tooltip=V,e.Util=c,Object.defineProperty(e,\"__esModule\",{value:!0})})),function(e,t){var n=function(){return window.JitsiMeetJS=function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p=\"\",t(0)}([function(e,t,n){(function(t){\"use strict\";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){return-1!==t.devices.indexOf(\"audio\")&&(e+=\".audio\"),-1!==t.devices.indexOf(\"desktop\")&&(e+=\".desktop\"),-1!==t.devices.indexOf(\"video\")&&(e+=\".video.\"+t.resolution),e}var o=i(n(1)),a=i(n(2)),s=i(n(3)),c=i(n(4)),l=i(n(5)),u=function(e){return e&&e.__esModule?e:{default:e}}(n(6)),d=i(n(7)),p=i(n(8)),h=n(9).getLogger(t),f=n(11),m=n(12),g=n(154),v=n(41),y=n(9),b=n(36),_=n(48),E=n(155),w=n(59),T=n(51),S=n(114),C=n(39),A=n(32),R={version:\"development\",JitsiConnection:m,events:{conference:a,connection:c,track:p,mediaDevices:l},errors:{conference:o,connection:s,recorder:v,track:d},errorTypes:{JitsiTrackError:u.default},logLevels:y.levels,mediaDevices:g,analytics:null,init:function(e){var t=void 0,n=void 0;if(w.init(e),this.analytics=w.analytics,e.enableWindowOnErrorHandler&&C.addHandler(this.getGlobalOnErrorHandler.bind(this)),window.jitsiRegionInfo&&Object.keys(window.jitsiRegionInfo).length>0){for(n in t={},window.jitsiRegionInfo)window.jitsiRegionInfo.hasOwnProperty(n)&&(t[n]=window.jitsiRegionInfo[n]);t.id=\"deployment_info\",w.sendLog(JSON.stringify(t))}return this.version&&(t={id:\"component_version\",component:\"lib-jitsi-meet\",version:this.version},w.sendLog(JSON.stringify(t))),_.init(e||{})},isDesktopSharingEnabled:function(){return _.isDesktopSharingEnabled()},setLogLevel:function(e){y.setLogLevel(e)},createLocalTracks:function(e,t){var n=!1;return!0===t&&window.setTimeout((function(){n||g.emitEvent(l.PERMISSION_PROMPT_IS_SHOWN,A.getBrowserName())}),500),window.connectionTimes||(window.connectionTimes={}),window.connectionTimes[\"obtainPermissions.start\"]=window.performance.now(),_.obtainAudioAndVideoPermissions(e||{}).then((function(t){if(n=!0,window.connectionTimes[\"obtainPermissions.end\"]=window.performance.now(),w.analytics.sendEvent(r(\"getUserMedia.success\",e),{value:e}),!_.options.disableAudioLevels)for(var i=0;i<t.length;i++){var o=t[i],a=o.getOriginalStream();o.getType()===b.AUDIO&&(w.startLocalStats(a,o.setAudioLevel.bind(o)),o.addEventListener(p.LOCAL_TRACK_STOPPED,(function(){w.stopLocalStats(a)})))}var s=_.getCurrentlyAvailableMediaDevices();if(s)for(var c=0;c<t.length;c++)t[c]._setRealDeviceIdFromDeviceList(s);return t})).catch((function(t){if(n=!0,t.name===d.UNSUPPORTED_RESOLUTION){var i=e.resolution||\"360\",o=function(e){if(!T[e])return null;var t=T[e].order,n=null,i=null;for(var r in T){var o=T[r];(!n||n.order<o.order&&o.order<t)&&(i=r,n=o)}return i}(i);if(null!==o)return e.resolution=o,h.debug(\"Retry createLocalTracks with resolution\",o),w.analytics.sendEvent(\"getUserMedia.fail.resolution.\"+i),R.createLocalTracks(e)}return d.CHROME_EXTENSION_USER_CANCELED===t.name?(w.sendLog(JSON.stringify({id:\"chrome_extension_user_canceled\",message:t.message})),w.analytics.sendEvent(\"getUserMedia.userCancel.extensionInstall\")):d.NOT_FOUND===t.name?(w.sendLog(JSON.stringify({id:\"usermedia_missing_device\",status:t.gum.devices})),w.analytics.sendEvent(\"getUserMedia.deviceNotFound.\"+t.gum.devices.join(\".\"))):(w.sendGetUserMediaFailed(t),w.analytics.sendEvent(r(\"getUserMedia.failed\",e)+\".\"+t.name,{value:e})),window.connectionTimes[\"obtainPermissions.end\"]=window.performance.now(),Promise.reject(t)}).bind(this))},isDeviceListAvailable:function(){return h.warn(\"This method is deprecated, use JitsiMeetJS.mediaDevices.isDeviceListAvailable instead\"),this.mediaDevices.isDeviceListAvailable()},isDeviceChangeAvailable:function(e){return h.warn(\"This method is deprecated, use JitsiMeetJS.mediaDevices.isDeviceChangeAvailable instead\"),this.mediaDevices.isDeviceChangeAvailable(e)},enumerateDevices:function(e){h.warn(\"This method is deprecated, use JitsiMeetJS.mediaDevices.enumerateDevices instead\"),this.mediaDevices.enumerateDevices(e)},getGlobalOnErrorHandler:function(e,t,n,i,r){h.error(\"UnhandledError: \"+e,\"Script: \"+t,\"Line: \"+n,\"Column: \"+i,\"StackTrace: \",r),w.reportGlobalError(r)},util:{ScriptUtil:S,RTCUIHelper:E,AuthUtil:f}};e.exports=R}).call(t,\"JitsiMeetJS.js\")},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.AUTHENTICATION_REQUIRED=\"conference.authenticationRequired\",t.CHAT_ERROR=\"conference.chatError\",t.CONFERENCE_DESTROYED=\"conference.destroyed\",t.CONFERENCE_MAX_USERS=\"conference.max_users\",t.CONNECTION_ERROR=\"conference.connectionError\",t.NOT_ALLOWED_ERROR=\"conference.connectionError.notAllowed\",t.FOCUS_DISCONNECTED=\"conference.focusDisconnected\",t.FOCUS_LEFT=\"conference.focusLeft\",t.GRACEFUL_SHUTDOWN=\"conference.gracefulShutdown\",t.INCOMPATIBLE_SERVER_VERSIONS=\"conference.incompatible_server_versions\",t.JINGLE_FATAL_ERROR=\"conference.jingleFatalError\",t.PASSWORD_NOT_SUPPORTED=\"conference.passwordNotSupported\",t.PASSWORD_REQUIRED=\"conference.passwordRequired\",t.RESERVATION_ERROR=\"conference.reservationError\",t.SETUP_FAILED=\"conference.setup_failed\",t.VIDEOBRIDGE_NOT_AVAILABLE=\"conference.videobridgeNotAvailable\"},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.AUTH_STATUS_CHANGED=\"conference.auth_status_changed\",t.AVAILABLE_DEVICES_CHANGED=\"conference.availableDevicesChanged\",t.AVATAR_CHANGED=\"conference.avatarChanged\",t.CONFERENCE_ERROR=\"conference.error\",t.CONFERENCE_FAILED=\"conference.failed\",t.CONFERENCE_JOINED=\"conference.joined\",t.CONFERENCE_LEFT=\"conference.left\",t.CONNECTION_INTERRUPTED=\"conference.connectionInterrupted\",t.CONNECTION_RESTORED=\"conference.connectionRestored\",t.CONNECTION_STATS=\"conference.connectionStats\",t.DISPLAY_NAME_CHANGED=\"conference.displayNameChanged\",t.DOMINANT_SPEAKER_CHANGED=\"conference.dominantSpeaker\",t.DTMF_SUPPORT_CHANGED=\"conference.dtmfSupportChanged\",t.ENDPOINT_MESSAGE_RECEIVED=\"conference.endpoint_message_received\",t.IN_LAST_N_CHANGED=\"conference.inLastNChanged\",t.KICKED=\"conferenece.kicked\",t.LAST_N_ENDPOINTS_CHANGED=\"conference.lastNEndpointsChanged\",t.LOCK_STATE_CHANGED=\"conference.lock_state_changed\",t.MESSAGE_RECEIVED=\"conference.messageReceived\",t.PARTICIPANT_CONN_STATUS_CHANGED=\"conference.participant_conn_status_changed\",t.PARTICIPANT_PROPERTY_CHANGED=\"conference.participant_property_changed\",t.PHONE_NUMBER_CHANGED=\"conference.phoneNumberChanged\",t.RECORDER_STATE_CHANGED=\"conference.recorderStateChanged\",t.START_MUTED_POLICY_CHANGED=\"conference.start_muted_policy_changed\",t.STARTED_MUTED=\"conference.started_muted\",t.SUBJECT_CHANGED=\"conference.subjectChanged\",t.TALK_WHILE_MUTED=\"conference.talk_while_muted\",t.TRACK_ADDED=\"conference.trackAdded\",t.TRACK_AUDIO_LEVEL_CHANGED=\"conference.audioLevelsChanged\",t.TRACK_MUTE_CHANGED=\"conference.trackMuteChanged\",t.TRACK_REMOVED=\"conference.trackRemoved\",t.USER_JOINED=\"conference.userJoined\",t.USER_LEFT=\"conference.userLeft\",t.USER_ROLE_CHANGED=\"conference.roleChanged\",t.USER_STATUS_CHANGED=\"conference.statusChanged\"},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.CONNECTION_ERROR=\"connection.connectionError\",t.OTHER_ERROR=\"connection.otherError\",t.PASSWORD_REQUIRED=\"connection.passwordRequired\"},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.CONNECTION_DISCONNECTED=\"connection.connectionDisconnected\",t.CONNECTION_ESTABLISHED=\"connection.connectionEstablished\",t.CONNECTION_FAILED=\"connection.connectionFailed\",t.WRONG_STATE=\"connection.wrongState\"},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.DEVICE_LIST_CHANGED=\"mediaDevices.devicechange\",t.PERMISSION_PROMPT_IS_SHOWN=\"mediaDevices.permissionPromptIsShown\"},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7)),o={};o[r.UNSUPPORTED_RESOLUTION]=\"Video resolution is not supported: \",o[r.FIREFOX_EXTENSION_NEEDED]=\"Firefox extension is not installed\",o[r.CHROME_EXTENSION_INSTALLATION_ERROR]=\"Failed to install Chrome extension\",o[r.CHROME_EXTENSION_USER_CANCELED]=\"User canceled Chrome's screen sharing prompt\",o[r.CHROME_EXTENSION_GENERIC_ERROR]=\"Unknown error from Chrome extension\",o[r.GENERAL]=\"Generic getUserMedia error\",o[r.PERMISSION_DENIED]=\"User denied permission to use device(s): \",o[r.NOT_FOUND]=\"Requested device(s) was/were not found: \",o[r.CONSTRAINT_FAILED]=\"Constraint could not be satisfied: \",o[r.TRACK_IS_DISPOSED]=\"Track has been already disposed\",o[r.TRACK_NO_STREAM_FOUND]=\"Track does not have an associated Media Stream\",o[r.TRACK_MUTE_UNMUTE_IN_PROGRESS]=\"Track mute/unmute process is currently in progress\",o[r.NO_DATA_FROM_SOURCE]=\"The track has stopped receiving data from it's source\";var a=function(e){function t(e,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(\"object\"===(void 0===e?\"undefined\":i(e))&&void 0!==e.name)switch(s.gum={error:e,constraints:n,devices:a&&Array.isArray(a)?a.slice(0):void 0},e.name){case\"PermissionDeniedError\":case\"SecurityError\":s.name=r.PERMISSION_DENIED,s.message=o[s.name]+(s.gum.devices||[]).join(\", \");break;case\"DevicesNotFoundError\":case\"NotFoundError\":s.name=r.NOT_FOUND,s.message=o[s.name]+(s.gum.devices||[]).join(\", \");break;case\"ConstraintNotSatisfiedError\":case\"OverconstrainedError\":var c=e.constraintName;n&&n.video&&(!a||a.indexOf(\"video\")>-1)&&(\"minWidth\"===c||\"maxWidth\"===c||\"minHeight\"===c||\"maxHeight\"===c||\"width\"===c||\"height\"===c)?(s.name=r.UNSUPPORTED_RESOLUTION,s.message=o[s.name]+function(e,t){if(t&&t.video&&t.video.mandatory)switch(e){case\"width\":return t.video.mandatory.minWidth;case\"height\":return t.video.mandatory.minHeight;default:return t.video.mandatory[e]||\"\"}return\"\"}(c,n)):(s.name=r.CONSTRAINT_FAILED,s.message=o[s.name]+e.constraintName);break;default:s.name=r.GENERAL,s.message=e.message||o[s.name]}else{if(\"string\"!=typeof e)throw new Error(\"Invalid arguments\");o[e]?(s.name=e,s.message=n||o[e]):s.message=e}return s.stack=e.stack||(new Error).stack,s}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Error),t}();t.default=a},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.CHROME_EXTENSION_GENERIC_ERROR=\"gum.chrome_extension_generic_error\",t.CHROME_EXTENSION_INSTALLATION_ERROR=\"gum.chrome_extension_installation_error\",t.CHROME_EXTENSION_USER_CANCELED=\"gum.chrome_extension_user_canceled\",t.CONSTRAINT_FAILED=\"gum.constraint_failed\",t.FIREFOX_EXTENSION_NEEDED=\"gum.firefox_extension_needed\",t.GENERAL=\"gum.general\",t.NOT_FOUND=\"gum.not_found\",t.PERMISSION_DENIED=\"gum.permission_denied\",t.TRACK_IS_DISPOSED=\"track.track_is_disposed\",t.TRACK_MUTE_UNMUTE_IN_PROGRESS=\"track.mute_unmute_inprogress\",t.TRACK_NO_STREAM_FOUND=\"track.no_stream_found\",t.UNSUPPORTED_RESOLUTION=\"gum.unsupported_resolution\",t.NO_DATA_FROM_SOURCE=\"track.no_data_from_source\"},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.LOCAL_TRACK_STOPPED=\"track.stopped\",t.TRACK_AUDIO_LEVEL_CHANGED=\"track.audioLevelsChanged\",t.TRACK_AUDIO_NOT_WORKING=\"track.audioNotWorking\",t.TRACK_AUDIO_OUTPUT_CHANGED=\"track.audioOutputChanged\",t.TRACK_MUTE_CHANGED=\"track.trackMuteChanged\",t.TRACK_VIDEOTYPE_CHANGED=\"track.videoTypeChanged\",t.NO_DATA_FROM_SOURCE=\"track.no_data_from_source\"},function(e,t,n){var i=n(10),r={},o=[],a=i.levels.TRACE;e.exports={getLogger:function(e,t,n){var s=new i(a,e,t,n);return e?(r[e]=r[e]||[],r[e].push(s)):o.push(s),s},setLogLevelById:function(e,t){for(var n=t?r[t]||[]:o,i=0;i<n.length;i++)n[i].setLevel(e)},setLogLevel:function(e){a=e;for(var t=0;t<o.length;t++)o[t].setLevel(e);for(var n in r){var i=r[n]||[];for(t=0;t<i.length;t++)i[t].setLevel(e)}},levels:i.levels}},function(e,t){function n(){var e={methodName:\"\",fileLocation:\"\",line:null,column:null},t=new Error,n=t.stack?t.stack.split(\"\\n\"):[];if(!n||n.length<1)return e;var i=null;return n[3]&&(i=n[3].match(/\\s*at\\s*(.+?)\\s*\\((\\S*)\\s*:(\\d*)\\s*:(\\d*)\\)/)),!i||i.length<=4?(e.methodName=0===n[2].indexOf(\"log@\")?n[3].substr(0,n[3].indexOf(\"@\")):n[2].substr(0,n[2].indexOf(\"@\")),e):(e.methodName=i[1],e.fileLocation=i[2],e.line=i[3],e.column=i[4],e)}function i(){var e=arguments[0],t=arguments[1],i=Array.prototype.slice.call(arguments,2);if(!(o[t]<=e.level))for(var r=n(),a=0;a<e.transports.length;a++){var s=e.transports[a],c=s[t];c&&\"function\"==typeof c&&c.bind(s,e.id?\"[\"+e.id+\"]\":\"\",\"<\"+r.methodName+\">: \").apply(s,i)}}function r(e,t,n,a){this.id=t,this.format=a,this.transports||(this.transports=[],this.transports.push(r.consoleTransport)),this.level=o[e];for(var s=Object.keys(o),c=0;c<s.length;c++)this[s[c]]=i.bind(null,this,s[c])}var o={trace:0,debug:1,info:2,log:3,warn:4,error:5};r.prototype.setLevel=function(e){this.level=o[e]},e.exports=r,r.consoleTransport=console,r.levels={TRACE:\"trace\",DEBUG:\"debug\",INFO:\"info\",LOG:\"log\",WARN:\"warn\",ERROR:\"error\"}},function(e,t){\"use strict\";e.exports={getTokenAuthUrl:function(e,t,n){return\"string\"!=typeof e?null:e.replace(\"{room}\",t).replace(\"{roleUpgrade}\",!0===n)}}},function(e,t,n){\"use strict\";function i(e,t,n){this.appID=e,this.token=t,this.options=n,this.xmpp=new o.default(n,t),this.conferences={},this.addEventListener(r.CONNECTION_FAILED,(function(e,t){s.sendEventToAll(\"connection.failed.\"+e,{label:t})}).bind(this)),this.addEventListener(r.CONNECTION_DISCONNECTED,(function(e){e&&s.analytics.sendEvent(\"connection.disconnected.\"+e),s.sendLog(JSON.stringify({id:\"connection.disconnected\",msg:e}))}))}var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(4)),o=function(e){return e&&e.__esModule?e:{default:e}}(n(13)),a=n(138),s=n(59);i.prototype.connect=function(e){e||(e={}),this.xmpp.connect(e.id,e.password)},i.prototype.attach=function(e){this.xmpp.attach(e)},i.prototype.disconnect=function(){var e=this.xmpp;e.disconnect.apply(e,arguments)},i.prototype.setToken=function(e){this.token=e},i.prototype.initJitsiConference=function(e,t){var n=new a({name:e,config:t,connection:this});return this.conferences[e]=n,n},i.prototype.addEventListener=function(e,t){this.xmpp.addListener(e,t)},i.prototype.removeEventListener=function(e,t){this.xmpp.removeListener(e,t)},i.prototype.getConnectionTimes=function(){return this.xmpp.connectionTimes},e.exports=i},function(e,t,n){(function(e){\"use strict\";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(9),s=r(n(14)),c=r(n(15)),l=r(n(31)),u=i(n(3)),d=i(n(4)),p=r(n(32)),h=r(n(33)),f=r(n(43)),m=r(n(134)),g=r(n(135)),v=r(n(136)),y=r(n(137)),b=(0,a.getLogger)(e),_=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.eventEmitter=new s.default,this.connection=null,this.disconnectInProgress=!1,this.connectionTimes={},this.forceMuted=!1,this.options=t,this.connectParams={},this.token=n,this.authenticatedUser=!1,this._initStrophePlugins(this),this.connection=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"/http-bind\";return e&&(t+=(-1==t.indexOf(\"?\")?\"?\":\"&\")+\"token=\"+e),new Strophe.Connection(t)}(n,t.bosh),!this.connection.disco||!this.connection.caps)throw new Error(\"Missing strophe-plugins (disco and caps plugins are required)!\");this.initFeaturesList(),$(window).on(\"beforeunload unload\",this.disconnect.bind(this))}return o(e,[{key:\"initFeaturesList\",value:function(){var e=this.connection.disco;e&&(e.addFeature(\"urn:xmpp:jingle:1\"),e.addFeature(\"urn:xmpp:jingle:apps:rtp:1\"),e.addFeature(\"urn:xmpp:jingle:transports:ice-udp:1\"),e.addFeature(\"urn:xmpp:jingle:apps:dtls:0\"),e.addFeature(\"urn:xmpp:jingle:transports:dtls-sctp:1\"),e.addFeature(\"urn:xmpp:jingle:apps:rtp:audio\"),e.addFeature(\"urn:xmpp:jingle:apps:rtp:video\"),(p.default.isChrome()||p.default.isOpera()||p.default.isTemasysPluginUsed())&&e.addFeature(\"urn:ietf:rfc:4588\"),e.addFeature(\"urn:ietf:rfc:5761\"),e.addFeature(\"urn:ietf:rfc:5888\"),p.default.isChrome()&&!1!==this.options.enableLipSync&&(b.info(\"Lip-sync enabled !\"),e.addFeature(\"http://jitsi.org/meet/lipsync\")))}},{key:\"getConnection\",value:function(){return this.connection}},{key:\"connectionHandler\",value:function(e,t,n){var i=window.performance.now(),r=Strophe.getStatusString(t).toLowerCase();if(this.connectionTimes[r]=i,b.log(\"(TIME) Strophe \"+r+(n?\"[\"+n+\"]\":\"\")+\":\\t\",i),t===Strophe.Status.CONNECTED||t===Strophe.Status.ATTACHED){this.options.useStunTurn&&this.connection.jingle.getStunAndTurnCredentials(),b.info(\"My Jabber ID: \"+this.connection.jid);var o=this.connection.domain;this.connection.ping.hasPingSupport(o,(function(e){e?this.connection.ping.startInterval(o):b.warn(\"Ping NOT supported by \"+o)}).bind(this)),e&&(this.authenticatedUser=!0),this.connection&&this.connection.connected&&Strophe.getResourceFromJid(this.connection.jid)&&this.eventEmitter.emit(d.CONNECTION_ESTABLISHED,Strophe.getResourceFromJid(this.connection.jid))}else t===Strophe.Status.CONNFAIL?(\"x-strophe-bad-non-anon-jid\"===n?this.anonymousConnectionFailed=!0:this.connectionFailed=!0,this.lastErrorMsg=n):t===Strophe.Status.DISCONNECTED?(this.connection.ping.stopInterval(),this.disconnectInProgress=!1,this.anonymousConnectionFailed?this.eventEmitter.emit(d.CONNECTION_FAILED,u.PASSWORD_REQUIRED):this.connectionFailed?this.eventEmitter.emit(d.CONNECTION_FAILED,u.OTHER_ERROR,n||this.lastErrorMsg):this.eventEmitter.emit(d.CONNECTION_DISCONNECTED,n||this.lastErrorMsg)):t===Strophe.Status.AUTHFAIL&&this.eventEmitter.emit(d.CONNECTION_FAILED,u.PASSWORD_REQUIRED)}},{key:\"_connect\",value:function(e,t){this.anonymousConnectionFailed=!1,this.connectionFailed=!1,this.lastErrorMsg=void 0,this.connection.connect(e,t,this.connectionHandler.bind(this,t))}},{key:\"attach\",value:function(e){var t=this.connectionTimes.attaching=window.performance.now();b.log(\"(TIME) Strophe Attaching\\t:\"+t),this.connection.attach(e.jid,e.sid,parseInt(e.rid,10)+1,this.connectionHandler.bind(this,e.password))}},{key:\"connect\",value:function(e,t){if(this.connectParams={jid:e,password:t},!e){var n=this.options.hosts.anonymousdomain||this.options.hosts.domain;this.options.hosts.anonymousdomain&&(-1!==window.location.search.indexOf(\"login=true\")||this.options.token)&&(n=this.options.hosts.domain),e=n||window.location.hostname}return this._connect(e,t)}},{key:\"createRoom\",value:function(e,t,n){var i=Strophe.getNodeFromJid(this.connection.jid),r=e+\"@\"+this.options.hosts.muc+\"/\",o=t.useNicks&&t.nick?t.nick:null;return o?i=t.nick:this.authenticatedUser||(i=i.substr(0,8)),(this.authenticatedUser||null!=o)&&(i+=\"-\"+l.default.randomHexString(6)),this.connection.emuc.createRoom(r+=i,null,t,n)}},{key:\"addListener\",value:function(e,t){this.eventEmitter.on(e,t)}},{key:\"removeListener\",value:function(e,t){this.eventEmitter.removeListener(e,t)}},{key:\"sendLogs\",value:function(e){if(!this.connection.emuc.focusMucJid)return!1;var t=Base64.encode(String.fromCharCode.apply(null,c.default.deflateRaw(JSON.stringify(e)))),n=$msg({to:this.connection.emuc.focusMucJid,type:\"normal\"});return n.c(\"log\",{xmlns:\"urn:xmpp:eventlog\",id:\"PeerConnectionStats\"}),n.c(\"message\").t(t).up(),n.c(\"tag\",{name:\"deflated\",value:\"true\"}).up(),n.up(),this.connection.send(n),!0}},{key:\"getJingleLog\",value:function(){var e=this.connection.jingle;return e?e.getLog():{}}},{key:\"getXmppLog\",value:function(){return(this.connection.logger||{}).log||null}},{key:\"dial\",value:function(e,t,n,i){this.connection.rayo.dial(e,t,n,i)}},{key:\"setMute\",value:function(e,t){this.connection.moderate.setMute(e,t)}},{key:\"eject\",value:function(e){this.connection.moderate.eject(e)}},{key:\"getSessions\",value:function(){return this.connection.jingle.sessions}},{key:\"disconnect\",value:function(e){if(!this.disconnectInProgress&&this.connection&&this.connection.connected){if(this.disconnectInProgress=!0,this.connection.flush(),null!=e){var t=e.type;\"beforeunload\"!=t&&\"unload\"!=t||(this.connection.options.sync=!0)}this.connection.disconnect(),!0!==this.connection.options.sync&&this.connection.flush()}else this.eventEmitter.emit(d.WRONG_STATE)}},{key:\"_initStrophePlugins\",value:function(){(0,h.default)(this),(0,f.default)(this,this.eventEmitter),(0,m.default)(),(0,g.default)(this,this.eventEmitter),(0,v.default)(),(0,y.default)()}}]),e}();t.default=_}).call(t,\"modules/xmpp/xmpp.js\")},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return\"function\"==typeof e}function r(e){return\"object\"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!function(e){return\"number\"==typeof e}(e)||e<0||isNaN(e))throw TypeError(\"n must be a positive number\");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,a,s,c,l;if(this._events||(this._events={}),\"error\"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified \"error\" event. ('+t+\")\");throw u.context=t,u}if(o(n=this._events[e]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(r(n))for(s=Array.prototype.slice.call(arguments,1),a=(l=n.slice()).length,c=0;c<a;c++)l[c].apply(this,s);return!0},n.prototype.on=n.prototype.addListener=function(e,t){var a;if(!i(t))throw TypeError(\"listener must be a function\");return this._events||(this._events={}),this._events.newListener&&this.emit(\"newListener\",e,i(t.listener)?t.listener:t),this._events[e]?r(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,r(this._events[e])&&!this._events[e].warned&&(a=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error(\"(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.\",this._events[e].length),\"function\"==typeof console.trace&&console.trace()),this},n.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError(\"listener must be a function\");var r=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,o,a,s;if(!i(t))throw TypeError(\"listener must be a function\");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,o=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit(\"removeListener\",e,t);else if(r(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){o=s;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit(\"removeListener\",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)\"removeListener\"!==t&&this.removeAllListeners(t);return this.removeAllListeners(\"removeListener\"),this._events={},this}if(i(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){\"use strict\";var i={};(0,n(16).assign)(i,n(17),n(25),n(29)),e.exports=i},function(e,t){\"use strict\";var n=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Int32Array;t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if(\"object\"!=typeof n)throw new TypeError(n+\"must be non-object\");for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){var t,n,i,r,o,a;for(i=0,t=0,n=e.length;t<n;t++)i+=e[t].length;for(a=new Uint8Array(i),r=0,t=0,n=e.length;t<n;t++)a.set(o=e[t],r),r+=o.length;return a}},r={arraySet:function(e,t,n,i,r){for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,r))},t.setTyped(n)},function(e,t,n){\"use strict\";function i(e){if(!(this instanceof i))return new i(e);this.options=a.assign({level:p,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:\"\"},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=o.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==d)throw new Error(c[n]);if(t.header&&o.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(r=\"string\"==typeof t.dictionary?s.string2buf(t.dictionary):\"[object ArrayBuffer]\"===u.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=o.deflateSetDictionary(this.strm,r))!==d)throw new Error(c[n]);this._dict_set=!0}}function r(e,t){var n=new i(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}var o=n(18),a=n(16),s=n(23),c=n(22),l=n(24),u=Object.prototype.toString,d=0,p=-1,h=0,f=8;i.prototype.push=function(e,t){var n,i,r=this.strm,c=this.options.chunkSize;if(this.ended)return!1;i=t===~~t?t:!0===t?4:0,r.input=\"string\"==typeof e?s.string2buf(e):\"[object ArrayBuffer]\"===u.call(e)?new Uint8Array(e):e,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new a.Buf8(c),r.next_out=0,r.avail_out=c),1!==(n=o.deflate(r,i))&&n!==d)return this.onEnd(n),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||4!==i&&2!==i)||this.onData(\"string\"===this.options.to?s.buf2binstring(a.shrinkBuf(r.output,r.next_out)):a.shrinkBuf(r.output,r.next_out))}while((r.avail_in>0||0===r.avail_out)&&1!==n);return 4===i?(n=o.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===d):2!==i||(this.onEnd(d),r.avail_out=0,!0)},i.prototype.onData=function(e){this.chunks.push(e)},i.prototype.onEnd=function(e){e===d&&(this.result=\"string\"===this.options.to?this.chunks.join(\"\"):a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=i,t.deflate=r,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,r(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,r(e,t)}},function(e,t,n){\"use strict\";function i(e,t){return e.msg=C[t],t}function r(e){return(e<<1)-(e>4?9:0)}function o(e){for(var t=e.length;--t>=0;)e[t]=0}function a(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(E.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function s(e,t){w._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,a(e.strm)}function c(e,t){e.pending_buf[e.pending++]=t}function l(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function u(e,t,n,i){var r=e.avail_in;return r>i&&(r=i),0===r?0:(e.avail_in-=r,E.arraySet(t,e.input,e.next_in,r,n),1===e.state.wrap?e.adler=T(e.adler,t,r,n):2===e.state.wrap&&(e.adler=S(e.adler,t,r,n)),e.next_in+=r,e.total_in+=r,r)}function d(e,t){var n,i,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-G?e.strstart-(e.w_size-G):0,l=e.window,u=e.w_mask,d=e.prev,p=e.strstart+J,h=l[o+a-1],f=l[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(n=t)+a]===f&&l[n+a-1]===h&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<p);if(i=J-(p-o),o=p-J,i>a){if(e.match_start=t,a=i,i>=s)break;h=l[o+a-1],f=l[o+a]}}}while((t=d[t&u])>c&&0!=--r);return a<=e.lookahead?a:e.lookahead}function p(e){var t,n,i,r,o,a=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-G)){E.arraySet(e.window,e.window,a,a,0),e.match_start-=a,e.strstart-=a,e.block_start-=a,t=n=e.hash_size;do{i=e.head[--t],e.head[t]=i>=a?i-a:0}while(--n);t=n=a;do{i=e.prev[--t],e.prev[t]=i>=a?i-a:0}while(--n);r+=a}if(0===e.strm.avail_in)break;if(n=u(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=H)for(e.ins_h=e.window[o=e.strstart-e.insert],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+H-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<H)););}while(e.lookahead<G&&0!==e.strm.avail_in)}function h(e,t){for(var n,i;;){if(e.lookahead<G){if(p(e),e.lookahead<G&&t===A)return K;if(0===e.lookahead)break}if(n=0,e.lookahead>=H&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+H-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-G&&(e.match_length=d(e,n)),e.match_length>=H)if(i=w._tr_tally(e,e.strstart-e.match_start,e.match_length-H),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=H){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+H-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=w._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(s(e,!1),0===e.strm.avail_out))return K}return e.insert=e.strstart<H-1?e.strstart:H-1,t===R?(s(e,!0),0===e.strm.avail_out?X:Q):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?K:$}function f(e,t){for(var n,i,r;;){if(e.lookahead<G){if(p(e),e.lookahead<G&&t===A)return K;if(0===e.lookahead)break}if(n=0,e.lookahead>=H&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+H-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=H-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-G&&(e.match_length=d(e,n),e.match_length<=5&&(e.strategy===I||e.match_length===H&&e.strstart-e.match_start>4096)&&(e.match_length=H-1)),e.prev_length>=H&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-H,i=w._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-H),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+H-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=H-1,e.strstart++,i&&(s(e,!1),0===e.strm.avail_out))return K}else if(e.match_available){if((i=w._tr_tally(e,0,e.window[e.strstart-1]))&&s(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return K}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=w._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<H-1?e.strstart:H-1,t===R?(s(e,!0),0===e.strm.avail_out?X:Q):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?K:$}function m(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function g(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=L,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new E.Buf16(2*U),this.dyn_dtree=new E.Buf16(2*(2*j+1)),this.bl_tree=new E.Buf16(2*(2*F+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new E.Buf16(B+1),this.heap=new E.Buf16(2*P+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new E.Buf16(2*P+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function v(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=N,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?W:q,e.adler=2===t.wrap?0:1,t.last_flush=A,w._tr_init(t),k):i(e,D)}function y(e){var t=v(e);return t===k&&function(e){e.window_size=2*e.w_size,o(e.head),e.max_lazy_match=_[e.level].max_lazy,e.good_match=_[e.level].good_length,e.nice_match=_[e.level].nice_length,e.max_chain_length=_[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=H-1,e.match_available=0,e.ins_h=0}(e.state),t}function b(e,t,n,r,o,a){if(!e)return D;var s=1;if(t===x&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>M||n!==L||r<8||r>15||t<0||t>9||a<0||a>O)return i(e,D);8===r&&(r=9);var c=new g;return e.state=c,c.strm=e,c.wrap=s,c.gzhead=null,c.w_bits=r,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+H-1)/H),c.window=new E.Buf8(2*c.w_size),c.head=new E.Buf16(c.hash_size),c.prev=new E.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new E.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=a,c.method=n,y(e)}var _,E=n(16),w=n(19),T=n(20),S=n(21),C=n(22),A=0,R=4,k=0,D=-2,x=-1,I=1,O=4,N=2,L=8,M=9,P=286,j=30,F=19,U=2*P+1,B=15,H=3,J=258,G=J+H+1,W=42,V=103,q=113,z=666,K=1,$=2,X=3,Q=4;_=[new m(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(p(e),0===e.lookahead&&t===A)return K;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,s(e,!1),0===e.strm.avail_out))return K;if(e.strstart-e.block_start>=e.w_size-G&&(s(e,!1),0===e.strm.avail_out))return K}return e.insert=0,t===R?(s(e,!0),0===e.strm.avail_out?X:Q):(e.strstart>e.block_start&&s(e,!1),K)})),new m(4,4,8,4,h),new m(4,5,16,8,h),new m(4,6,32,32,h),new m(4,4,16,16,f),new m(8,16,32,32,f),new m(8,16,128,128,f),new m(8,32,128,256,f),new m(32,128,258,1024,f),new m(32,258,258,4096,f)],t.deflateInit=function(e,t){return b(e,t,L,15,8,0)},t.deflateInit2=b,t.deflateReset=y,t.deflateResetKeep=v,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?D:(e.state.gzhead=t,k):D},t.deflate=function(e,t){var n,u,d,h;if(!e||!e.state||t>5||t<0)return e?i(e,D):D;if(u=e.state,!e.output||!e.input&&0!==e.avail_in||u.status===z&&t!==R)return i(e,0===e.avail_out?-5:D);if(u.strm=e,n=u.last_flush,u.last_flush=t,u.status===W)if(2===u.wrap)e.adler=0,c(u,31),c(u,139),c(u,8),u.gzhead?(c(u,(u.gzhead.text?1:0)+(u.gzhead.hcrc?2:0)+(u.gzhead.extra?4:0)+(u.gzhead.name?8:0)+(u.gzhead.comment?16:0)),c(u,255&u.gzhead.time),c(u,u.gzhead.time>>8&255),c(u,u.gzhead.time>>16&255),c(u,u.gzhead.time>>24&255),c(u,9===u.level?2:u.strategy>=2||u.level<2?4:0),c(u,255&u.gzhead.os),u.gzhead.extra&&u.gzhead.extra.length&&(c(u,255&u.gzhead.extra.length),c(u,u.gzhead.extra.length>>8&255)),u.gzhead.hcrc&&(e.adler=S(e.adler,u.pending_buf,u.pending,0)),u.gzindex=0,u.status=69):(c(u,0),c(u,0),c(u,0),c(u,0),c(u,0),c(u,9===u.level?2:u.strategy>=2||u.level<2?4:0),c(u,3),u.status=q);else{var f=L+(u.w_bits-8<<4)<<8;f|=(u.strategy>=2||u.level<2?0:u.level<6?1:6===u.level?2:3)<<6,0!==u.strstart&&(f|=32),f+=31-f%31,u.status=q,l(u,f),0!==u.strstart&&(l(u,e.adler>>>16),l(u,65535&e.adler)),e.adler=1}if(69===u.status)if(u.gzhead.extra){for(d=u.pending;u.gzindex<(65535&u.gzhead.extra.length)&&(u.pending!==u.pending_buf_size||(u.gzhead.hcrc&&u.pending>d&&(e.adler=S(e.adler,u.pending_buf,u.pending-d,d)),a(e),d=u.pending,u.pending!==u.pending_buf_size));)c(u,255&u.gzhead.extra[u.gzindex]),u.gzindex++;u.gzhead.hcrc&&u.pending>d&&(e.adler=S(e.adler,u.pending_buf,u.pending-d,d)),u.gzindex===u.gzhead.extra.length&&(u.gzindex=0,u.status=73)}else u.status=73;if(73===u.status)if(u.gzhead.name){d=u.pending;do{if(u.pending===u.pending_buf_size&&(u.gzhead.hcrc&&u.pending>d&&(e.adler=S(e.adler,u.pending_buf,u.pending-d,d)),a(e),d=u.pending,u.pending===u.pending_buf_size)){h=1;break}h=u.gzindex<u.gzhead.name.length?255&u.gzhead.name.charCodeAt(u.gzindex++):0,c(u,h)}while(0!==h);u.gzhead.hcrc&&u.pending>d&&(e.adler=S(e.adler,u.pending_buf,u.pending-d,d)),0===h&&(u.gzindex=0,u.status=91)}else u.status=91;if(91===u.status)if(u.gzhead.comment){d=u.pending;do{if(u.pending===u.pending_buf_size&&(u.gzhead.hcrc&&u.pending>d&&(e.adler=S(e.adler,u.pending_buf,u.pending-d,d)),a(e),d=u.pending,u.pending===u.pending_buf_size)){h=1;break}h=u.gzindex<u.gzhead.comment.length?255&u.gzhead.comment.charCodeAt(u.gzindex++):0,c(u,h)}while(0!==h);u.gzhead.hcrc&&u.pending>d&&(e.adler=S(e.adler,u.pending_buf,u.pending-d,d)),0===h&&(u.status=V)}else u.status=V;if(u.status===V&&(u.gzhead.hcrc?(u.pending+2>u.pending_buf_size&&a(e),u.pending+2<=u.pending_buf_size&&(c(u,255&e.adler),c(u,e.adler>>8&255),e.adler=0,u.status=q)):u.status=q),0!==u.pending){if(a(e),0===e.avail_out)return u.last_flush=-1,k}else if(0===e.avail_in&&r(t)<=r(n)&&t!==R)return i(e,-5);if(u.status===z&&0!==e.avail_in)return i(e,-5);if(0!==e.avail_in||0!==u.lookahead||t!==A&&u.status!==z){var m=2===u.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(p(e),0===e.lookahead)){if(t===A)return K;break}if(e.match_length=0,n=w._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(s(e,!1),0===e.strm.avail_out))return K}return e.insert=0,t===R?(s(e,!0),0===e.strm.avail_out?X:Q):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?K:$}(u,t):3===u.strategy?function(e,t){for(var n,i,r,o,a=e.window;;){if(e.lookahead<=J){if(p(e),e.lookahead<=J&&t===A)return K;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=H&&e.strstart>0&&(i=a[r=e.strstart-1])===a[++r]&&i===a[++r]&&i===a[++r]){o=e.strstart+J;do{}while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<o);e.match_length=J-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=H?(n=w._tr_tally(e,1,e.match_length-H),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=w._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(s(e,!1),0===e.strm.avail_out))return K}return e.insert=0,t===R?(s(e,!0),0===e.strm.avail_out?X:Q):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?K:$}(u,t):_[u.level].func(u,t);if(m!==X&&m!==Q||(u.status=z),m===K||m===X)return 0===e.avail_out&&(u.last_flush=-1),k;if(m===$&&(1===t?w._tr_align(u):5!==t&&(w._tr_stored_block(u,0,0,!1),3===t&&(o(u.head),0===u.lookahead&&(u.strstart=0,u.block_start=0,u.insert=0))),a(e),0===e.avail_out))return u.last_flush=-1,k}return t!==R?k:u.wrap<=0?1:(2===u.wrap?(c(u,255&e.adler),c(u,e.adler>>8&255),c(u,e.adler>>16&255),c(u,e.adler>>24&255),c(u,255&e.total_in),c(u,e.total_in>>8&255),c(u,e.total_in>>16&255),c(u,e.total_in>>24&255)):(l(u,e.adler>>>16),l(u,65535&e.adler)),a(e),u.wrap>0&&(u.wrap=-u.wrap),0!==u.pending?k:1)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==W&&69!==t&&73!==t&&91!==t&&t!==V&&t!==q&&t!==z?i(e,D):(e.state=null,t===q?i(e,-3):k):D},t.deflateSetDictionary=function(e,t){var n,i,r,a,s,c,l,u,d=t.length;if(!e||!e.state)return D;if(2===(a=(n=e.state).wrap)||1===a&&n.status!==W||n.lookahead)return D;for(1===a&&(e.adler=T(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===a&&(o(n.head),n.strstart=0,n.block_start=0,n.insert=0),u=new E.Buf8(n.w_size),E.arraySet(u,t,d-n.w_size,n.w_size,0),t=u,d=n.w_size),s=e.avail_in,c=e.next_in,l=e.input,e.avail_in=d,e.next_in=0,e.input=t,p(n);n.lookahead>=H;){i=n.strstart,r=n.lookahead-(H-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+H-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--r);n.strstart=i,n.lookahead=H-1,p(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=H-1,n.match_available=0,e.next_in=c,e.input=l,e.avail_in=s,n.wrap=a,k},t.deflateInfo=\"pako deflate (from Nodeca project)\"},function(e,t,n){\"use strict\";function i(e){for(var t=e.length;--t>=0;)e[t]=0}function r(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function o(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function a(e){return e<256?W[e]:W[256+(e>>>7)]}function s(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function c(e,t,n){e.bi_valid>N-n?(e.bi_buf|=t<<e.bi_valid&65535,s(e,e.bi_buf),e.bi_buf=t>>N-e.bi_valid,e.bi_valid+=n-N):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function l(e,t,n){c(e,n[2*t],n[2*t+1])}function u(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function d(e,t,n){var i,r,o=new Array(O+1),a=0;for(i=1;i<=O;i++)o[i]=a=a+n[i-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=u(o[s]++,s))}}function p(e){var t;for(t=0;t<k;t++)e.dyn_ltree[2*t]=0;for(t=0;t<D;t++)e.dyn_dtree[2*t]=0;for(t=0;t<x;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*L]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function h(e){e.bi_valid>8?s(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function f(e,t,n,i){h(e),i&&(s(e,n),s(e,~n)),T.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function m(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]}function g(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&m(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!m(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function v(e,t,n){var i,r,o,s,u=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],r=e.pending_buf[e.l_buf+u],u++,0===i?l(e,r,t):(l(e,(o=V[r])+R+1,t),0!==(s=F[o])&&c(e,r-=q[o],s),l(e,o=a(--i),n),0!==(s=U[o])&&c(e,i-=z[o],s))}while(u<e.last_lit);l(e,L,t)}function y(e,t){var n,i,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=I,n=0;n<c;n++)0!==o[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(r=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1]);for(t.max_code=l,n=e.heap_len>>1;n>=1;n--)g(e,o,n);r=c;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],g(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,g(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,o,a,s,c=t.dyn_tree,l=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,f=t.stat_desc.max_length,m=0;for(o=0;o<=O;o++)e.bl_count[o]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<I;n++)(o=c[2*c[2*(i=e.heap[n])+1]+1]+1)>f&&(o=f,m++),c[2*i+1]=o,i>l||(e.bl_count[o]++,a=0,i>=h&&(a=p[i-h]),e.opt_len+=(s=c[2*i])*(o+a),d&&(e.static_len+=s*(u[2*i+1]+a)));if(0!==m){do{for(o=f-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[f]--,m-=2}while(m>0);for(o=f;0!==o;o--)for(i=e.bl_count[o];0!==i;)(r=e.heap[--n])>l||(c[2*r+1]!==o&&(e.opt_len+=(o-c[2*r+1])*c[2*r],c[2*r+1]=o),i--)}}(e,t),d(o,l,e.bl_count)}function b(e,t,n){var i,r,o=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=t[2*(i+1)+1],++s<c&&r===a||(s<l?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[2*M]++):s<=10?e.bl_tree[2*P]++:e.bl_tree[2*j]++,s=0,o=r,0===a?(c=138,l=3):r===a?(c=6,l=3):(c=7,l=4))}function _(e,t,n){var i,r,o=-1,a=t[1],s=0,u=7,d=4;for(0===a&&(u=138,d=3),i=0;i<=n;i++)if(r=a,a=t[2*(i+1)+1],!(++s<u&&r===a)){if(s<d)do{l(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==o&&(l(e,r,e.bl_tree),s--),l(e,M,e.bl_tree),c(e,s-3,2)):s<=10?(l(e,P,e.bl_tree),c(e,s-3,3)):(l(e,j,e.bl_tree),c(e,s-11,7));s=0,o=r,0===a?(u=138,d=3):r===a?(u=6,d=3):(u=7,d=4)}}function E(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return S;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return C;for(t=32;t<R;t++)if(0!==e.dyn_ltree[2*t])return C;return S}function w(e,t,n,i){c(e,(A<<1)+(i?1:0),3),f(e,t,n,!0)}var T=n(16),S=0,C=1,A=0,R=256,k=R+1+29,D=30,x=19,I=2*k+1,O=15,N=16,L=256,M=16,P=17,j=18,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],U=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=new Array(2*(k+2));i(J);var G=new Array(2*D);i(G);var W=new Array(512);i(W);var V=new Array(256);i(V);var q=new Array(29);i(q);var z=new Array(D);i(z);var K,$,X,Q=!1;t._tr_init=function(e){Q||(function(){var e,t,n,i,o,a=new Array(O+1);for(n=0,i=0;i<28;i++)for(q[i]=n,e=0;e<1<<F[i];e++)V[n++]=i;for(V[n-1]=i,o=0,i=0;i<16;i++)for(z[i]=o,e=0;e<1<<U[i];e++)W[o++]=i;for(o>>=7;i<D;i++)for(z[i]=o<<7,e=0;e<1<<U[i]-7;e++)W[256+o++]=i;for(t=0;t<=O;t++)a[t]=0;for(e=0;e<=143;)J[2*e+1]=8,e++,a[8]++;for(;e<=255;)J[2*e+1]=9,e++,a[9]++;for(;e<=279;)J[2*e+1]=7,e++,a[7]++;for(;e<=287;)J[2*e+1]=8,e++,a[8]++;for(d(J,k+1,a),e=0;e<D;e++)G[2*e+1]=5,G[2*e]=u(e,5);K=new r(J,F,R+1,k,O),$=new r(G,U,0,D,O),X=new r(new Array(0),B,0,x,7)}(),Q=!0),e.l_desc=new o(e.dyn_ltree,K),e.d_desc=new o(e.dyn_dtree,$),e.bl_desc=new o(e.bl_tree,X),e.bi_buf=0,e.bi_valid=0,p(e)},t._tr_stored_block=w,t._tr_flush_block=function(e,t,n,i){var r,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=E(e)),y(e,e.l_desc),y(e,e.d_desc),a=function(e){var t;for(b(e,e.dyn_ltree,e.l_desc.max_code),b(e,e.dyn_dtree,e.d_desc.max_code),y(e,e.bl_desc),t=x-1;t>=3&&0===e.bl_tree[2*H[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),(o=e.static_len+3+7>>>3)<=(r=e.opt_len+3+7>>>3)&&(r=o)):r=o=n+5,n+4<=r&&-1!==t?w(e,t,n,i):4===e.strategy||o===r?(c(e,2+(i?1:0),3),v(e,J,G)):(c(e,4+(i?1:0),3),function(e,t,n,i){var r;for(c(e,t-257,5),c(e,n-1,5),c(e,i-4,4),r=0;r<i;r++)c(e,e.bl_tree[2*H[r]+1],3);_(e,e.dyn_ltree,t-1),_(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),v(e,e.dyn_ltree,e.dyn_dtree)),p(e),i&&h(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(V[n]+R+1)]++,e.dyn_dtree[2*a(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){c(e,2,3),l(e,L,J),function(e){16===e.bi_valid?(s(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t){\"use strict\";e.exports=function(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(r=r+t[i++]|0)|0}while(--a);r%=65521,o%=65521}return r|o<<16|0}},function(e,t){\"use strict\";var n=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,i,r){var o=n,a=r+i;e^=-1;for(var s=r;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},function(e,t){\"use strict\";e.exports={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"}},function(e,t,n){\"use strict\";function i(e,t){if(t<65537&&(e.subarray&&a||!e.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n=\"\",i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n}var r=n(16),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var s=new r.Buf8(256),c=0;c<256;c++)s[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;s[254]=s[254]=1,t.string2buf=function(e){var t,n,i,o,a,s=e.length,c=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(c),a=0,o=0;a<c;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},t.buf2binstring=function(e){return i(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,o,a,c=t||e.length,l=new Array(2*c);for(r=0,n=0;n<c;)if((o=e[n++])<128)l[r++]=o;else if((a=s[o])>4)l[r++]=65533,n+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&n<c;)o=o<<6|63&e[n++],a--;a>1?l[r++]=65533:o<65536?l[r++]=o:(l[r++]=55296|(o-=65536)>>10&1023,l[r++]=56320|1023&o)}return i(l,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+s[e[n]]>t?n:t}},function(e,t){\"use strict\";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){\"use strict\";function i(e){if(!(this instanceof i))return new i(e);this.options=a.assign({chunkSize:16384,windowBits:0,to:\"\"},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=o.inflateInit2(this.strm,t.windowBits);if(n!==c.Z_OK)throw new Error(l[n]);this.header=new d,o.inflateGetHeader(this.strm,this.header)}function r(e,t){var n=new i(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}var o=n(26),a=n(16),s=n(23),c=n(29),l=n(22),u=n(24),d=n(30),p=Object.prototype.toString;i.prototype.push=function(e,t){var n,i,r,l,u,d,h=this.strm,f=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;i=t===~~t?t:!0===t?c.Z_FINISH:c.Z_NO_FLUSH,h.input=\"string\"==typeof e?s.binstring2buf(e):\"[object ArrayBuffer]\"===p.call(e)?new Uint8Array(e):e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new a.Buf8(f),h.next_out=0,h.avail_out=f),(n=o.inflate(h,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&m&&(d=\"string\"==typeof m?s.string2buf(m):\"[object ArrayBuffer]\"===p.call(m)?new Uint8Array(m):m,n=o.inflateSetDictionary(this.strm,d)),n===c.Z_BUF_ERROR&&!0===g&&(n=c.Z_OK,g=!1),n!==c.Z_STREAM_END&&n!==c.Z_OK)return this.onEnd(n),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&n!==c.Z_STREAM_END&&(0!==h.avail_in||i!==c.Z_FINISH&&i!==c.Z_SYNC_FLUSH)||(\"string\"===this.options.to?(r=s.utf8border(h.output,h.next_out),l=h.next_out-r,u=s.buf2string(h.output,r),h.next_out=l,h.avail_out=f-l,l&&a.arraySet(h.output,h.output,r,l,0),this.onData(u)):this.onData(a.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(g=!0)}while((h.avail_in>0||0===h.avail_out)&&n!==c.Z_STREAM_END);return n===c.Z_STREAM_END&&(i=c.Z_FINISH),i===c.Z_FINISH?(n=o.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c.Z_OK):i!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),h.avail_out=0,!0)},i.prototype.onData=function(e){this.chunks.push(e)},i.prototype.onEnd=function(e){e===c.Z_OK&&(this.result=\"string\"===this.options.to?this.chunks.join(\"\"):a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=i,t.inflate=r,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,r(e,t)},t.ungzip=r},function(e,t,n){\"use strict\";function i(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function r(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new h.Buf16(320),this.work=new h.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(e){var t;return e&&e.state?(e.total_in=e.total_out=(t=e.state).total=0,e.msg=\"\",t.wrap&&(e.adler=1&t.wrap),t.mode=w,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new h.Buf32(C),t.distcode=t.distdyn=new h.Buf32(A),t.sane=1,t.back=-1,_):E}function a(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,o(e)):E}function s(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?E:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,a(e))):E}function c(e,t){var n,i;return e?(i=new r,e.state=i,i.window=null,(n=s(e,t))!==_&&(e.state=null),n):E}function l(e){if(R){var t;for(d=new h.Buf32(512),p=new h.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(v(y,e.lens,0,288,d,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;v(b,e.lens,0,32,p,0,e.work,{bits:5}),R=!1}e.lencode=d,e.lenbits=9,e.distcode=p,e.distbits=5}function u(e,t,n,i){var r,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new h.Buf8(o.wsize)),i>=o.wsize?(h.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((r=o.wsize-o.wnext)>i&&(r=i),h.arraySet(o.window,t,n-i,r,o.wnext),(i-=r)?(h.arraySet(o.window,t,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0}var d,p,h=n(16),f=n(20),m=n(21),g=n(27),v=n(28),y=1,b=2,_=0,E=-2,w=1,T=12,S=30,C=852,A=592,R=!0;t.inflateReset=a,t.inflateReset2=s,t.inflateResetKeep=o,t.inflateInit=function(e){return c(e,15)},t.inflateInit2=c,t.inflate=function(e,t){var n,r,o,a,s,c,d,p,C,A,R,k,D,x,I,O,N,L,M,P,j,F,U,B,H=0,J=new h.Buf8(4),G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return E;(n=e.state).mode===T&&(n.mode=13),s=e.next_out,o=e.output,a=e.next_in,r=e.input,p=n.hold,C=n.bits,A=c=e.avail_in,R=d=e.avail_out,F=_;e:for(;;)switch(n.mode){case w:if(0===n.wrap){n.mode=13;break}for(;C<16;){if(0===c)break e;c--,p+=r[a++]<<C,C+=8}if(2&n.wrap&&35615===p){n.check=0,J[0]=255&p,J[1]=p>>>8&255,n.check=m(n.check,J,2,0),p=0,C=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&p)<<8)+(p>>8))%31){e.msg=\"incorrect header check\",n.mode=S;break}if(8!=(15&p)){e.msg=\"unknown compression method\",n.mode=S;break}if(C-=4,j=8+(15&(p>>>=4)),0===n.wbits)n.wbits=j;else if(j>n.wbits){e.msg=\"invalid window size\",n.mode=S;break}n.dmax=1<<j,e.adler=n.check=1,n.mode=512&p?10:T,p=0,C=0;break;case 2:for(;C<16;){if(0===c)break e;c--,p+=r[a++]<<C,C+=8}if(n.flags=p,8!=(255&n.flags)){e.msg=\"unknown compression method\",n.mode=S;break}if(57344&n.flags){e.msg=\"unknown header flags set\",n.mode=S;break}n.head&&(n.head.text=p>>8&1),512&n.flags&&(J[0]=255&p,J[1]=p>>>8&255,n.check=m(n.check,J,2,0)),p=0,C=0,n.mode=3;case 3:for(;C<32;){if(0===c)break e;c--,p+=r[a++]<<C,C+=8}n.head&&(n.head.time=p),512&n.flags&&(J[0]=255&p,J[1]=p>>>8&255,J[2]=p>>>16&255,J[3]=p>>>24&255,n.check=m(n.check,J,4,0)),p=0,C=0,n.mode=4;case 4:for(;C<16;){if(0===c)break e;c--,p+=r[a++]<<C,C+=8}n.head&&(n.head.xflags=255&p,n.head.os=p>>8),512&n.flags&&(J[0]=255&p,J[1]=p>>>8&255,n.check=m(n.check,J,2,0)),p=0,C=0,n.mode=5;case 5:if(1024&n.flags){for(;C<16;){if(0===c)break e;c--,p+=r[a++]<<C,C+=8}n.length=p,n.head&&(n.head.extra_len=p),512&n.flags&&(J[0]=255&p,J[1]=p>>>8&255,n.check=m(n.check,J,2,0)),p=0,C=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((k=n.length)>c&&(k=c),k&&(n.head&&(j=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),h.arraySet(n.head.extra,r,a,k,j)),512&n.flags&&(n.check=m(n.check,r,k,a)),c-=k,a+=k,n.length-=k),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===c)break e;k=0;do{j=r[a+k++],n.head&&j&&n.length<65536&&(n.head.name+=String.fromCharCode(j))}while(j&&k<c);if(512&n.flags&&(n.check=m(n.check,r,k,a)),c-=k,a+=k,j)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===c)break e;k=0;do{j=r[a+k++],n.head&&j&&n.length<65536&&(n.head.comment+=String.fromCharCode(j))}while(j&&k<c);if(512&n.flags&&(n.check=m(n.check,r,k,a)),c-=k,a+=k,j)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;C<16;){if(0===c)break e;c--,p+=r[a++]<<C,C+=8}if(p!==(65535&n.check)){e.msg=\"header crc mismatch\",n.mode=S;break}p=0,C=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=T;break;case 10:for(;C<32;){if(0===c)break e;c--,p+=r[a++]<<C,C+=8}e.adler=n.check=i(p),p=0,C=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=s,e.avail_out=d,e.next_in=a,e.avail_in=c,n.hold=p,n.bits=C,2;e.adler=n.check=1,n.mode=T;case T:if(5===t||6===t)break e;case 13:if(n.last){p>>>=7&C,C-=7&C,n.mode=27;break}for(;C<3;){if(0===c)break e;c--,p+=r[a++]<<C,C+=8}switch(n.last=1&p,C-=1,3&(p>>>=1)){case 0:n.mode=14;break;case 1:if(l(n),n.mode=20,6===t){p>>>=2,C-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg=\"invalid block type\",n.mode=S}p>>>=2,C-=2;break;case 14:for(p>>>=7&C,C-=7&C;C<32;){if(0===c)break e;c--,p+=r[a++]<<C,C+=8}if((65535&p)!=(p>>>16^65535)){e.msg=\"invalid stored block lengths\",n.mode=S;break}if(n.length=65535&p,p=0,C=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(k=n.length){if(k>c&&(k=c),k>d&&(k=d),0===k)break e;h.arraySet(o,r,a,k,s),c-=k,a+=k,d-=k,s+=k,n.length-=k;break}n.mode=T;break;case 17:for(;C<14;){if(0===c)break e;c--,p+=r[a++]<<C,C+=8}if(n.nlen=257+(31&p),C-=5,n.ndist=1+(31&(p>>>=5)),C-=5,n.ncode=4+(15&(p>>>=5)),p>>>=4,C-=4,n.nlen>286||n.ndist>30){e.msg=\"too many length or distance symbols\",n.mode=S;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;C<3;){if(0===c)break e;c--,p+=r[a++]<<C,C+=8}n.lens[G[n.have++]]=7&p,p>>>=3,C-=3}for(;n.have<19;)n.lens[G[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,F=v(0,n.lens,0,19,n.lencode,0,n.work,U={bits:n.lenbits}),n.lenbits=U.bits,F){e.msg=\"invalid code lengths set\",n.mode=S;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;O=(H=n.lencode[p&(1<<n.lenbits)-1])>>>16&255,N=65535&H,!((I=H>>>24)<=C);){if(0===c)break e;c--,p+=r[a++]<<C,C+=8}if(N<16)p>>>=I,C-=I,n.lens[n.have++]=N;else{if(16===N){for(B=I+2;C<B;){if(0===c)break e;c--,p+=r[a++]<<C,C+=8}if(p>>>=I,C-=I,0===n.have){e.msg=\"invalid bit length repeat\",n.mode=S;break}j=n.lens[n.have-1],k=3+(3&p),p>>>=2,C-=2}else if(17===N){for(B=I+3;C<B;){if(0===c)break e;c--,p+=r[a++]<<C,C+=8}C-=I,j=0,k=3+(7&(p>>>=I)),p>>>=3,C-=3}else{for(B=I+7;C<B;){if(0===c)break e;c--,p+=r[a++]<<C,C+=8}C-=I,j=0,k=11+(127&(p>>>=I)),p>>>=7,C-=7}if(n.have+k>n.nlen+n.ndist){e.msg=\"invalid bit length repeat\",n.mode=S;break}for(;k--;)n.lens[n.have++]=j}}if(n.mode===S)break;if(0===n.lens[256]){e.msg=\"invalid code -- missing end-of-block\",n.mode=S;break}if(n.lenbits=9,F=v(y,n.lens,0,n.nlen,n.lencode,0,n.work,U={bits:n.lenbits}),n.lenbits=U.bits,F){e.msg=\"invalid literal/lengths set\",n.mode=S;break}if(n.distbits=6,n.distcode=n.distdyn,F=v(b,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,U={bits:n.distbits}),n.distbits=U.bits,F){e.msg=\"invalid distances set\",n.mode=S;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(c>=6&&d>=258){e.next_out=s,e.avail_out=d,e.next_in=a,e.avail_in=c,n.hold=p,n.bits=C,g(e,R),s=e.next_out,o=e.output,d=e.avail_out,a=e.next_in,r=e.input,c=e.avail_in,p=n.hold,C=n.bits,n.mode===T&&(n.back=-1);break}for(n.back=0;O=(H=n.lencode[p&(1<<n.lenbits)-1])>>>16&255,N=65535&H,!((I=H>>>24)<=C);){if(0===c)break e;c--,p+=r[a++]<<C,C+=8}if(O&&0==(240&O)){for(L=I,M=O,P=N;O=(H=n.lencode[P+((p&(1<<L+M)-1)>>L)])>>>16&255,N=65535&H,!(L+(I=H>>>24)<=C);){if(0===c)break e;c--,p+=r[a++]<<C,C+=8}p>>>=L,C-=L,n.back+=L}if(p>>>=I,C-=I,n.back+=I,n.length=N,0===O){n.mode=26;break}if(32&O){n.back=-1,n.mode=T;break}if(64&O){e.msg=\"invalid literal/length code\",n.mode=S;break}n.extra=15&O,n.mode=22;case 22:if(n.extra){for(B=n.extra;C<B;){if(0===c)break e;c--,p+=r[a++]<<C,C+=8}n.length+=p&(1<<n.extra)-1,p>>>=n.extra,C-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;O=(H=n.distcode[p&(1<<n.distbits)-1])>>>16&255,N=65535&H,!((I=H>>>24)<=C);){if(0===c)break e;c--,p+=r[a++]<<C,C+=8}if(0==(240&O)){for(L=I,M=O,P=N;O=(H=n.distcode[P+((p&(1<<L+M)-1)>>L)])>>>16&255,N=65535&H,!(L+(I=H>>>24)<=C);){if(0===c)break e;c--,p+=r[a++]<<C,C+=8}p>>>=L,C-=L,n.back+=L}if(p>>>=I,C-=I,n.back+=I,64&O){e.msg=\"invalid distance code\",n.mode=S;break}n.offset=N,n.extra=15&O,n.mode=24;case 24:if(n.extra){for(B=n.extra;C<B;){if(0===c)break e;c--,p+=r[a++]<<C,C+=8}n.offset+=p&(1<<n.extra)-1,p>>>=n.extra,C-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg=\"invalid distance too far back\",n.mode=S;break}n.mode=25;case 25:if(0===d)break e;if(n.offset>(k=R-d)){if((k=n.offset-k)>n.whave&&n.sane){e.msg=\"invalid distance too far back\",n.mode=S;break}D=k>n.wnext?n.wsize-(k-=n.wnext):n.wnext-k,k>n.length&&(k=n.length),x=n.window}else x=o,D=s-n.offset,k=n.length;k>d&&(k=d),d-=k,n.length-=k;do{o[s++]=x[D++]}while(--k);0===n.length&&(n.mode=21);break;case 26:if(0===d)break e;o[s++]=n.length,d--,n.mode=21;break;case 27:if(n.wrap){for(;C<32;){if(0===c)break e;c--,p|=r[a++]<<C,C+=8}if(e.total_out+=R-=d,n.total+=R,R&&(e.adler=n.check=n.flags?m(n.check,o,R,s-R):f(n.check,o,R,s-R)),R=d,(n.flags?p:i(p))!==n.check){e.msg=\"incorrect data check\",n.mode=S;break}p=0,C=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;C<32;){if(0===c)break e;c--,p+=r[a++]<<C,C+=8}if(p!==(4294967295&n.total)){e.msg=\"incorrect length check\",n.mode=S;break}p=0,C=0}n.mode=29;case 29:F=1;break e;case S:F=-3;break e;case 31:return-4;case 32:default:return E}return e.next_out=s,e.avail_out=d,e.next_in=a,e.avail_in=c,n.hold=p,n.bits=C,(n.wsize||R!==e.avail_out&&n.mode<S&&(n.mode<27||4!==t))&&u(e,e.output,e.next_out,R-e.avail_out)?(n.mode=31,-4):(R-=e.avail_out,e.total_in+=A-=e.avail_in,e.total_out+=R,n.total+=R,n.wrap&&R&&(e.adler=n.check=n.flags?m(n.check,o,R,e.next_out-R):f(n.check,o,R,e.next_out-R)),e.data_type=n.bits+(n.last?64:0)+(n.mode===T?128:0)+(20===n.mode||15===n.mode?256:0),(0===A&&0===R||4===t)&&F===_&&(F=-5),F)},t.inflateEnd=function(e){if(!e||!e.state)return E;var t=e.state;return t.window&&(t.window=null),e.state=null,_},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?E:(n.head=t,t.done=!1,_):E},t.inflateSetDictionary=function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?E:11===n.mode&&f(1,t,i,0)!==n.check?-3:u(e,t,i,i)?(n.mode=31,-4):(n.havedict=1,_):E},t.inflateInfo=\"pako inflate (from Nodeca project)\"},function(e,t){\"use strict\";e.exports=function(e,t){var n,i,r,o,a,s,c,l,u,d,p,h,f,m,g,v,y,b,_,E,w,T,S,C,A;C=e.input,r=(i=e.next_in)+(e.avail_in-5),A=e.output,a=(o=e.next_out)-(t-e.avail_out),s=o+(e.avail_out-257),c=(n=e.state).dmax,l=n.wsize,u=n.whave,d=n.wnext,p=n.window,h=n.hold,f=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{f<15&&(h+=C[i++]<<f,h+=C[i++]<<(f+=8),f+=8),b=m[h&v];t:for(;;){if(h>>>=_=b>>>24,f-=_,0==(_=b>>>16&255))A[o++]=65535&b;else{if(!(16&_)){if(0==(64&_)){b=m[(65535&b)+(h&(1<<_)-1)];continue t}if(32&_){n.mode=12;break e}e.msg=\"invalid literal/length code\",n.mode=30;break e}E=65535&b,(_&=15)&&(f<_&&(h+=C[i++]<<f,f+=8),E+=h&(1<<_)-1,h>>>=_,f-=_),f<15&&(h+=C[i++]<<f,h+=C[i++]<<(f+=8),f+=8),b=g[h&y];n:for(;;){if(h>>>=_=b>>>24,f-=_,!(16&(_=b>>>16&255))){if(0==(64&_)){b=g[(65535&b)+(h&(1<<_)-1)];continue n}e.msg=\"invalid distance code\",n.mode=30;break e}if(w=65535&b,f<(_&=15)&&(h+=C[i++]<<f,(f+=8)<_&&(h+=C[i++]<<f,f+=8)),(w+=h&(1<<_)-1)>c){e.msg=\"invalid distance too far back\",n.mode=30;break e}if(h>>>=_,f-=_,w>(_=o-a)){if((_=w-_)>u&&n.sane){e.msg=\"invalid distance too far back\",n.mode=30;break e}if(T=0,S=p,0===d){if(T+=l-_,_<E){E-=_;do{A[o++]=p[T++]}while(--_);T=o-w,S=A}}else if(d<_){if(T+=l+d-_,(_-=d)<E){E-=_;do{A[o++]=p[T++]}while(--_);if(T=0,d<E){E-=_=d;do{A[o++]=p[T++]}while(--_);T=o-w,S=A}}}else if(T+=d-_,_<E){E-=_;do{A[o++]=p[T++]}while(--_);T=o-w,S=A}for(;E>2;)A[o++]=S[T++],A[o++]=S[T++],A[o++]=S[T++],E-=3;E&&(A[o++]=S[T++],E>1&&(A[o++]=S[T++]))}else{T=o-w;do{A[o++]=A[T++],A[o++]=A[T++],A[o++]=A[T++],E-=3}while(E>2);E&&(A[o++]=A[T++],E>1&&(A[o++]=A[T++]))}break}}break}}while(i<r&&o<s);h&=(1<<(f-=(E=f>>3)<<3))-1,e.next_in=i-=E,e.next_out=o,e.avail_in=i<r?r-i+5:5-(i-r),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=h,n.bits=f}},function(e,t,n){\"use strict\";var i=n(16),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,c,l,u,d,p){var h,f,m,g,v,y,b,_,E,w=p.bits,T=0,S=0,C=0,A=0,R=0,k=0,D=0,x=0,I=0,O=0,N=null,L=0,M=new i.Buf16(16),P=new i.Buf16(16),j=null,F=0;for(T=0;T<=15;T++)M[T]=0;for(S=0;S<c;S++)M[t[n+S]]++;for(R=w,A=15;A>=1&&0===M[A];A--);if(R>A&&(R=A),0===A)return l[u++]=20971520,l[u++]=20971520,p.bits=1,0;for(C=1;C<A&&0===M[C];C++);for(R<C&&(R=C),x=1,T=1;T<=15;T++)if(x<<=1,(x-=M[T])<0)return-1;if(x>0&&(0===e||1!==A))return-1;for(P[1]=0,T=1;T<15;T++)P[T+1]=P[T]+M[T];for(S=0;S<c;S++)0!==t[n+S]&&(d[P[t[n+S]]++]=S);if(0===e?(N=j=d,y=19):1===e?(N=r,L-=257,j=o,F-=257,y=256):(N=a,j=s,y=-1),O=0,S=0,T=C,v=u,k=R,D=0,m=-1,g=(I=1<<R)-1,1===e&&I>852||2===e&&I>592)return 1;for(;;){b=T-D,d[S]<y?(_=0,E=d[S]):d[S]>y?(_=j[F+d[S]],E=N[L+d[S]]):(_=96,E=0),h=1<<T-D,C=f=1<<k;do{l[v+(O>>D)+(f-=h)]=b<<24|_<<16|E|0}while(0!==f);for(h=1<<T-1;O&h;)h>>=1;if(0!==h?(O&=h-1,O+=h):O=0,S++,0==--M[T]){if(T===A)break;T=t[n+d[S]]}if(T>R&&(O&g)!==m){for(0===D&&(D=R),v+=C,x=1<<(k=T-D);k+D<A&&!((x-=M[k+D])<=0);)k++,x<<=1;if(I+=1<<k,1===e&&I>852||2===e&&I>592)return 1;l[m=O&g]=R<<24|k<<16|v-u|0}}return 0!==O&&(l[v+O]=T-D<<24|64<<16|0),p.bits=R,0}},function(e,t){\"use strict\";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t){\"use strict\";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1}},function(e,t){\"use strict\";function n(e,t){return Math.floor(Math.random()*(t-e+1))+e}function i(e){return e[n(0,e.length-1)]}e.exports={randomHexDigit:function(){return i(\"0123456789abcdef\")},randomHexString:function(e){for(var t=\"\";e--;)t+=this.randomHexDigit();return t},randomElement:i,randomAlphanumStr:function(e){for(var t=\"\",n=0;n<e;n+=1)t+=i(\"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\");return t},randomInt:n}},function(e,t,n){(function(t){\"use strict\";function i(){if(navigator.webkitGetUserMedia){u=f.RTC_BROWSER_CHROME;var e=navigator.userAgent.toLowerCase(),t=parseInt(e.match(/chrome\\/(\\d+)\\./)[1],10);return h.log(\"This appears to be Chrome, ver: \"+t),t}return null}function r(){var e=navigator.userAgent;if(e.match(/Opera|OPR/)){u=f.RTC_BROWSER_OPERA;var t=e.match(/(Opera|OPR) ?\\/?(\\d+)\\.?/)[2];return h.info(\"This appears to be Opera, ver: \"+t),t}return null}function o(){if(navigator.mozGetUserMedia){u=f.RTC_BROWSER_FIREFOX;var e=parseInt(navigator.userAgent.match(/Firefox\\/([0-9]+)\\./)[1],10);return h.log(\"This appears to be Firefox, ver: \"+e),e}return null}function a(){return/^((?!chrome).)*safari/i.test(navigator.userAgent)?(u=f.RTC_BROWSER_SAFARI,h.info(\"This appears to be Safari\"),1):null}function s(){var e,t=window.navigator.userAgent,n=t.indexOf(\"MSIE \");n>0&&(e=parseInt(t.substring(n+5,t.indexOf(\".\",n)),10));var i=t.indexOf(\"Trident/\");if(!e&&i>0){var r=t.indexOf(\"rv:\");e=parseInt(t.substring(r+3,t.indexOf(\".\",r)),10)}var o=t.indexOf(\"Edge/\");return!e&&o>0&&(e=parseInt(t.substring(o+5,t.indexOf(\".\",o)),10)),e&&(u=f.RTC_BROWSER_IEXPLORER,h.info(\"This appears to be IExplorer, ver: \"+e)),e}function c(){var e=navigator.userAgent;if(e.match(/JitsiMeetNW/)){u=f.RTC_BROWSER_NWJS;var t=e.match(/JitsiMeetNW\\/([\\d.]+)/)[1];return h.info(\"This appears to be JitsiMeetNW, ver: \"+t),t}return null}function l(){var e,t,n=navigator.userAgent.match(/\\b(react[ \\t_-]*native)(?:\\/(\\S+))?/i);return n||\"ReactNative\"===navigator.product?(u=f.RTC_BROWSER_REACT_NATIVE,n&&n.length>2&&(t=n[1],e=n[2]),t||(t=\"react-native\"),e||(e=\"unknown\"),console.info(\"This appears to be \"+t+\", ver: \"+e)):e=null,e}var u,d,p,h=n(9).getLogger(t),f={RTC_BROWSER_CHROME:\"rtc_browser.chrome\",RTC_BROWSER_OPERA:\"rtc_browser.opera\",RTC_BROWSER_FIREFOX:\"rtc_browser.firefox\",RTC_BROWSER_IEXPLORER:\"rtc_browser.iexplorer\",RTC_BROWSER_SAFARI:\"rtc_browser.safari\",RTC_BROWSER_NWJS:\"rtc_browser.nwjs\",RTC_BROWSER_REACT_NATIVE:\"rtc_browser.react-native\",getBrowserType:function(){return u},getBrowserName:function(){var e=u.split(\"rtc_browser.\")[1];return f.isAndroid()&&(e=\"android\"),e},isChrome:function(){return u===f.RTC_BROWSER_CHROME},isOpera:function(){return u===f.RTC_BROWSER_OPERA},isFirefox:function(){return u===f.RTC_BROWSER_FIREFOX},isIExplorer:function(){return u===f.RTC_BROWSER_IEXPLORER},isSafari:function(){return u===f.RTC_BROWSER_SAFARI},isNWJS:function(){return u===f.RTC_BROWSER_NWJS},isReactNative:function(){return u===f.RTC_BROWSER_REACT_NATIVE},isTemasysPluginUsed:function(){return f.isIExplorer()||f.isSafari()},isVideoMuteOnConnInterruptedSupported:function(){return f.isChrome()},getFirefoxVersion:function(){return f.isFirefox()?d:null},getChromeVersion:function(){return f.isChrome()?d:null},usesPlanB:function(){return f.isChrome()||f.isOpera()||f.isTemasysPluginUsed()},usesUnifiedPlan:function(){return f.isFirefox()},isAndroid:function(){return p}};d=function(){for(var e,t=[l,c,r,i,o,s,a],n=0;n<t.length;n++)if(e=t[n]())return e;return h.warn(\"Browser type defaults to Safari ver 1\"),u=f.RTC_BROWSER_SAFARI,1}(),p=-1!=navigator.userAgent.indexOf(\"Android\"),e.exports=f}).call(t,\"modules/RTC/RTCBrowserType.js\")},function(e,t,n){(function(e){\"use strict\";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.default=function(e){Strophe.addConnectionPlugin(\"emuc\",new l(e))};var o=n(9),a=i(n(34)),s=i(n(42)),c=(0,o.getLogger)(e),l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.xmpp=e,n.rooms={},n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:\"init\",value:function(e){(function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if(\"value\"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"init\",this).call(this,e),this.connection.addHandler(this.onPresence.bind(this),null,\"presence\",null,null,null,null),this.connection.addHandler(this.onPresenceUnavailable.bind(this),null,\"presence\",\"unavailable\",null),this.connection.addHandler(this.onPresenceError.bind(this),null,\"presence\",\"error\",null),this.connection.addHandler(this.onMessage.bind(this),null,\"message\",null,null),this.connection.addHandler(this.onMute.bind(this),\"http://jitsi.org/jitmeet/audio\",\"iq\",\"set\",null,null)}},{key:\"createRoom\",value:function(e,t,n,i){var r=Strophe.getBareJidFromJid(e);if(this.rooms[r]){var o=\"You are already in the room!\";throw c.error(o),new Error(o)}return this.rooms[r]=new a.default(this.connection,e,t,this.xmpp,n,i),this.rooms[r]}},{key:\"doLeave\",value:function(e){delete this.rooms[e]}},{key:\"onPresence\",value:function(e){var t=e.getAttribute(\"from\");if(e.getAttribute(\"type\"))return!0;var n=this.rooms[Strophe.getBareJidFromJid(t)];return n?($(e).find('>x[xmlns=\"http://jabber.org/protocol/muc#user\"]>status[code=\"201\"]').length&&n.createNonAnonymousRoom(),n.onPresence(e),!0):void 0}},{key:\"onPresenceUnavailable\",value:function(e){var t=e.getAttribute(\"from\"),n=this.rooms[Strophe.getBareJidFromJid(t)];if(n)return n.onPresenceUnavailable(e,t),!0}},{key:\"onPresenceError\",value:function(e){var t=e.getAttribute(\"from\"),n=this.rooms[Strophe.getBareJidFromJid(t)];if(n)return n.onPresenceError(e,t),!0}},{key:\"onMessage\",value:function(e){var t=e.getAttribute(\"from\"),n=this.rooms[Strophe.getBareJidFromJid(t)];if(n)return n.onMessage(e,t),!0}},{key:\"setJingleSession\",value:function(e,t){var n=this.rooms[Strophe.getBareJidFromJid(e)];n&&n.setJingleSession(t)}},{key:\"onMute\",value:function(e){var t=e.getAttribute(\"from\"),n=this.rooms[Strophe.getBareJidFromJid(t)];if(n)return n.onMute(e),!0}}]),t}(s.default)}).call(t,\"modules/xmpp/strophe.emuc.js\")},function(e,t,n){(function(t){\"use strict\";function i(e,t){for(var n=[],i=0;i<e.length;i++)e[i].tagName===t&&n.push(e[i]);return n}function r(e,t,n,i,r,a){this.eventEmitter=new l,this.xmpp=i,this.connection=e,this.roomjid=Strophe.getBareJidFromJid(t),this.myroomjid=t,this.password=n,o.info(\"Joined MUC as \"+this.myroomjid),this.members={},this.presMap={},this.presHandlers={},this.joined=!1,this.role=null,this.focusMucJid=null,this.noBridgeAvailable=!1,this.options=r||{},this.moderator=new c(this.roomjid,this.xmpp,this.eventEmitter,a,{connection:this.xmpp.options,conference:this.options}),this.initPresenceMap(),this.session=null,this.lastPresences={},this.phoneNumber=null,this.phonePin=null,this.connectionTimes={},this.participantPropertyListener=null,this.locked=!1}var o=(0,n(9).getLogger)(t),a=n(35),s=n(36),c=n(37),l=n(14),u=n(40),d=n(39),p={packet2JSON:function(e,t){var n=this;$(e).children().each((function(){var e={tagName:$(this).prop(\"tagName\"),attributes:{}};$($(this)[0].attributes).each((function(t,n){e.attributes[n.name]=n.value}));var i=Strophe.getText($(this)[0]);i&&(e.value=i),e.children=[],t.push(e),n.packet2JSON($(this),e.children)}))},JSON2packet:function(e,t){for(var n=0;n<e.length;n++){var i=e[n];i&&null!==i&&(t.c(i.tagName,i.attributes),i.value&&t.t(i.value),i.children&&this.JSON2packet(i.children,t),t.up())}}};r.prototype.initPresenceMap=function(){this.presMap.to=this.myroomjid,this.presMap.xns=\"http://jabber.org/protocol/muc\",this.presMap.nodes=[],this.presMap.nodes.push({tagName:\"user-agent\",value:navigator.userAgent,attributes:{xmlns:\"http://jitsi.org/jitmeet/user-agent\"}}),this.addVideoInfoToPresence(!1)},r.prototype.updateDeviceAvailability=function(e){this.presMap.nodes.push({tagName:\"devices\",children:[{tagName:\"audio\",value:e.audio},{tagName:\"video\",value:e.video}]})},r.prototype.join=function(e){this.password=e;var t=this;this.moderator.allocateConferenceFocus((function(){t.sendPresence(!0)}))},r.prototype.sendPresence=function(e){var t=this.presMap.to;if(t&&(this.joined||e)){var n=$pres({to:t});e&&(n.c(\"x\",{xmlns:this.presMap.xns}),this.password&&n.c(\"password\").t(this.password).up(),n.up());var i=this.connection,r=i.caps;r&&(r.node=this.xmpp.options.clientNode,n.c(\"c\",r.generateCapsAttrs()).up()),p.JSON2packet(this.presMap.nodes,n),i.send(n),e&&i.flush()}},r.prototype.doLeave=function(){o.log(\"do leave\",this.myroomjid);var e=$pres({to:this.myroomjid,type:\"unavailable\"});this.presMap.length=0,this.connection.flush(),this.connection.send(e),this.connection.flush()},r.prototype.discoRoomInfo=function(){var e=$iq({type:\"get\",to:this.roomjid}).c(\"query\",{xmlns:Strophe.NS.DISCO_INFO});this.connection.sendIQ(e,(function(e){var t=$(e).find('>query>feature[var=\"muc_passwordprotected\"]').length;t!=this.locked&&(this.eventEmitter.emit(a.MUC_LOCK_CHANGED,t),this.locked=t)}).bind(this),(function(e){d.callErrorHandler(e),o.error(\"Error getting room info: \",e)}).bind(this))},r.prototype.createNonAnonymousRoom=function(){var e=$iq({type:\"get\",to:this.roomjid}).c(\"query\",{xmlns:\"http://jabber.org/protocol/muc#owner\"}).c(\"x\",{xmlns:\"jabber:x:data\",type:\"submit\"}),t=this;this.connection.sendIQ(e,(function(e){if(!$(e).find('>query>x[xmlns=\"jabber:x:data\"]>field[var=\"muc#roomconfig_whois\"]').length){var n=\"non-anonymous rooms not supported\";return d.callErrorHandler(new Error(n)),void o.error(n)}var i=$iq({to:this.roomjid,type:\"set\"}).c(\"query\",{xmlns:\"http://jabber.org/protocol/muc#owner\"});i.c(\"x\",{xmlns:\"jabber:x:data\",type:\"submit\"}),i.c(\"field\",{var:\"FORM_TYPE\"}).c(\"value\").t(\"http://jabber.org/protocol/muc#roomconfig\").up().up(),i.c(\"field\",{var:\"muc#roomconfig_whois\"}).c(\"value\").t(\"anyone\").up().up(),t.connection.sendIQ(i)}),(function(e){d.callErrorHandler(e),o.error(\"Error getting room configuration form: \",e)}))},r.prototype.onPresence=function(e){var t=e.getAttribute(\"from\"),n={};n.show=$(e).find(\">show\").text(),n.status=$(e).find(\">status\").text();var i=$(e).find('>x[xmlns=\"http://jabber.org/protocol/muc#user\"]>item');n.affiliation=i.attr(\"affiliation\"),n.role=i.attr(\"role\");var r=i.attr(\"jid\");n.jid=r,n.isFocus=r&&0===r.indexOf(this.moderator.getFocusUserJid()+\"/\"),n.isHiddenDomain=r&&r.indexOf(\"@\")>0&&this.options.hiddenDomain===r.substring(r.indexOf(\"@\")+1,r.indexOf(\"/\")),$(e).find(\">x\").remove();var s=[];p.packet2JSON(e,s),this.lastPresences[t]=s;for(var c=null,l=0;l<s.length;l++){var u=s[l];switch(u.tagName){case\"nick\":n.nick=u.value;break;case\"userId\":n.id=u.value}}if(t==this.myroomjid){var d=\"owner\"==n.affiliation?n.role:\"none\";if(this.role!==d&&(this.role=d,this.eventEmitter.emit(a.LOCAL_ROLE_CHANGED,this.role)),!this.joined){this.joined=!0;var h=this.connectionTimes[\"muc.joined\"]=window.performance.now();o.log(\"(TIME) MUC joined:\\t\",h),this.eventEmitter.emit(a.MUC_JOINED)}}else if(void 0===this.members[t])this.members[t]=n,o.log(\"entered\",t,n),n.isFocus?this._initFocus(t,r):this.eventEmitter.emit(a.MUC_MEMBER_JOINED,t,n.nick,n.role,n.isHiddenDomain);else{var f=this.members[t];f.role!=n.role&&(f.role=n.role,this.eventEmitter.emit(a.MUC_ROLE_CHANGED,t,n.role)),n.isFocus&&(f.isFocus=!0,this._initFocus(t,r)),n.displayName&&(f.displayName=n.displayName)}for(var m=0;m<s.length;m++){var g=s[m];switch(g.tagName){case\"nick\":if(!n.isFocus){var v=this.xmpp.options.displayJids?Strophe.getResourceFromJid(t):n.nick;v&&v.length>0&&this.eventEmitter.emit(a.DISPLAY_NAME_CHANGED,t,v)}break;case\"bridgeNotAvailable\":n.isFocus&&!this.noBridgeAvailable&&(this.noBridgeAvailable=!0,this.eventEmitter.emit(a.BRIDGE_DOWN));break;case\"jibri-recording-status\":c=g;break;case\"call-control\":var y=g.attributes;if(!y)break;this.phoneNumber=y.phone||null,this.phonePin=y.pin||null,this.eventEmitter.emit(a.PHONE_NUMBER_CHANGED);break;default:this.processNode(g,t)}}n.status&&this.eventEmitter.emit(a.PRESENCE_STATUS,t,n.status),c&&(this.lastJibri=c,this.recording&&this.recording.handleJibriPresence(c))},r.prototype._initFocus=function(e,t){this.focusMucJid=e,this.recording||(this.recording=new u(this.options.recordingType,this.eventEmitter,this.connection,this.focusMucJid,this.options.jirecon,this.roomjid),this.lastJibri&&this.recording.handleJibriPresence(this.lastJibri)),o.info(\"Ignore focus: \"+e+\", real JID: \"+t)},r.prototype.setParticipantPropertyListener=function(e){this.participantPropertyListener=e},r.prototype.processNode=function(e,t){try{var n=this.presHandlers[e.tagName];e.tagName.startsWith(\"jitsi_participant_\")&&(n=this.participantPropertyListener),n&&n(e,Strophe.getResourceFromJid(t),t)}catch(t){d.callErrorHandler(t),o.error(\"Error processing:\"+e.tagName+\" node.\",t)}},r.prototype.sendMessage=function(e,t){var n=$msg({to:this.roomjid,type:\"groupchat\"});n.c(\"body\",e).up(),t&&n.c(\"nick\",{xmlns:\"http://jabber.org/protocol/nick\"}).t(t).up().up(),this.connection.send(n),this.eventEmitter.emit(a.SENDING_CHAT_MESSAGE,e)},r.prototype.setSubject=function(e){var t=$msg({to:this.roomjid,type:\"groupchat\"});t.c(\"subject\",e),this.connection.send(t)},r.prototype.onParticipantLeft=function(e,t){delete this.lastPresences[e],t||(this.eventEmitter.emit(a.MUC_MEMBER_LEFT,e),this.moderator.onMucMemberLeft(e))},r.prototype.onPresenceUnavailable=function(e,t){if($(e).find('>x[xmlns=\"http://jabber.org/protocol/muc#user\"]>destroy').length){var n,i=$(e).find('>x[xmlns=\"http://jabber.org/protocol/muc#user\"]>destroy>reason');return i.length&&(n=i.text()),this._dispose(),this.eventEmitter.emit(a.MUC_DESTROYED,n),this.connection.emuc.doLeave(this.roomjid),!0}var r=0!==$(e).find('>x[xmlns=\"http://jabber.org/protocol/muc#user\"]>status[code=\"110\"]').length,o=0!==$(e).find('>x[xmlns=\"http://jabber.org/protocol/muc#user\"]>status[code=\"307\"]').length;if(r){if(Object.keys(this.members).length>0){for(var s in this.members){var c=this.members[s];delete this.members[s],this.onParticipantLeft(s,c.isFocus)}this.connection.emuc.doLeave(this.roomjid),o||this.eventEmitter.emit(a.MUC_LEFT)}}else delete this.members[t],this.onParticipantLeft(t,!1);o&&this.myroomjid===t&&(this._dispose(),this.eventEmitter.emit(a.KICKED))},r.prototype.onMessage=function(e,t){var n=$(e).find('>nick[xmlns=\"http://jabber.org/protocol/nick\"]').text()||Strophe.getResourceFromJid(t),i=$(e).find(\">body\").text();if(\"error\"==e.getAttribute(\"type\"))return this.eventEmitter.emit(a.CHAT_ERROR_RECEIVED,$(e).find(\">text\").text(),i),!0;var r=$(e).find(\">subject\");if(r.length){var s=r.text();(s||\"\"===s)&&(this.eventEmitter.emit(a.SUBJECT_CHANGED,s),o.log(\"Subject is changed to \"+s))}var c=$(e).find(\">delay\").attr(\"stamp\");if(!c&&(c=$(e).find('>[xmlns=\"jabber:x:delay\"]').attr(\"stamp\"))){var l=c.match(/(\\d{4})(\\d{2})(\\d{2}T\\d{2}:\\d{2}:\\d{2})/);c=l[1]+\"-\"+l[2]+\"-\"+l[3]+\"Z\"}t==this.roomjid&&$(e).find('>x[xmlns=\"http://jabber.org/protocol/muc#user\"]>status[code=\"104\"]').length&&this.discoRoomInfo(),i&&(o.log(\"chat\",n,i),this.eventEmitter.emit(a.MESSAGE_RECEIVED,t,n,i,this.myroomjid,c))},r.prototype.onPresenceError=function(e,t){$(e).find('>error[type=\"auth\"]>not-authorized[xmlns=\"urn:ietf:params:xml:ns:xmpp-stanzas\"]').length?(o.log(\"on password required\",t),this.eventEmitter.emit(a.PASSWORD_REQUIRED)):$(e).find('>error[type=\"cancel\"]>not-allowed[xmlns=\"urn:ietf:params:xml:ns:xmpp-stanzas\"]').length?Strophe.getDomainFromJid(e.getAttribute(\"to\"))===this.xmpp.options.hosts.anonymousdomain?this.eventEmitter.emit(a.ROOM_JOIN_ERROR):(o.warn(\"onPresError \",e),this.eventEmitter.emit(a.ROOM_CONNECT_NOT_ALLOWED_ERROR)):$(e).find(\">error>service-unavailable\").length?(o.warn(\"Maximum users limit for the room has been reached\",e),this.eventEmitter.emit(a.ROOM_MAX_USERS_ERROR)):(o.warn(\"onPresError \",e),this.eventEmitter.emit(a.ROOM_CONNECT_ERROR))},r.prototype.kick=function(e){var t=$iq({to:this.roomjid,type:\"set\"}).c(\"query\",{xmlns:\"http://jabber.org/protocol/muc#admin\"}).c(\"item\",{nick:Strophe.getResourceFromJid(e),role:\"none\"}).c(\"reason\").t(\"You have been kicked.\").up().up().up();this.connection.sendIQ(t,(function(t){o.log(\"Kick participant with jid: \",e,t)}),(function(e){o.log(\"Kick participant error: \",e)}))},r.prototype.lockRoom=function(e,t,n,i){var r=this;this.connection.sendIQ($iq({to:this.roomjid,type:\"get\"}).c(\"query\",{xmlns:\"http://jabber.org/protocol/muc#owner\"}),(function(o){if($(o).find('>query>x[xmlns=\"jabber:x:data\"]>field[var=\"muc#roomconfig_roomsecret\"]').length){var a=$iq({to:r.roomjid,type:\"set\"}).c(\"query\",{xmlns:\"http://jabber.org/protocol/muc#owner\"});a.c(\"x\",{xmlns:\"jabber:x:data\",type:\"submit\"}),a.c(\"field\",{var:\"FORM_TYPE\"}).c(\"value\").t(\"http://jabber.org/protocol/muc#roomconfig\").up().up(),a.c(\"field\",{var:\"muc#roomconfig_roomsecret\"}).c(\"value\").t(e).up().up(),a.c(\"field\",{var:\"muc#roomconfig_whois\"}).c(\"value\").t(\"anyone\").up().up(),r.connection.sendIQ(a,t,n)}else i()}),n)},r.prototype.addToPresence=function(e,t){t.tagName=e,this.removeFromPresence(e),this.presMap.nodes.push(t)},r.prototype.removeFromPresence=function(e){var t=this.presMap.nodes.filter((function(t){return e!==t.tagName}));this.presMap.nodes=t},r.prototype.addPresenceListener=function(e,t){this.presHandlers[e]=t},r.prototype.removePresenceListener=function(e){delete this.presHandlers[e]},r.prototype.isFocus=function(e){var t=this.members[e];return t?t.isFocus:null},r.prototype.isModerator=function(){return\"moderator\"===this.role},r.prototype.getMemberRole=function(e){return this.members[e]?this.members[e].role:null},r.prototype.setJingleSession=function(e){this.session=e},r.prototype.removeStream=function(e,t,n,i){return this.session?void this.session.removeStream(e,t,n,i):void t()},r.prototype.addStream=function(e,t,n,i,r){this.session?this.session.addStream(e,t,n,i,r):(o.warn(\"No conference handler or conference not started yet\"),t())},r.prototype.generateNewStreamSSRCInfo=function(){return this.session?this.session.generateNewStreamSSRCInfo():(o.warn(\"The call haven't been started. Cannot generate ssrc info at the moment!\"),null)},r.prototype.setVideoMute=function(e,t){this.sendVideoInfoPresence(e),t&&t(e)},r.prototype.setAudioMute=function(e,t){return this.sendAudioInfoPresence(e,t)},r.prototype.addAudioInfoToPresence=function(e){this.removeFromPresence(\"audiomuted\"),this.addToPresence(\"audiomuted\",{attributes:{xmlns:\"http://jitsi.org/jitmeet/audio\"},value:e.toString()})},r.prototype.sendAudioInfoPresence=function(e,t){this.addAudioInfoToPresence(e),this.connection&&this.sendPresence(),t&&t()},r.prototype.addVideoInfoToPresence=function(e){this.removeFromPresence(\"videomuted\"),this.addToPresence(\"videomuted\",{attributes:{xmlns:\"http://jitsi.org/jitmeet/video\"},value:e.toString()})},r.prototype.sendVideoInfoPresence=function(e){this.addVideoInfoToPresence(e),this.connection&&this.sendPresence()},r.prototype.addListener=function(e,t){this.eventEmitter.on(e,t)},r.prototype.removeListener=function(e,t){this.eventEmitter.removeListener(e,t)},r.prototype.remoteTrackAdded=function(e){var t=this.lastPresences[e.owner];if(t){var n=e.mediaType,r=null;if(n===s.AUDIO)r=i(t,\"audiomuted\");else if(n===s.VIDEO){r=i(t,\"videomuted\");var c=i(t,\"videoType\");c&&c.length>0&&c[0]&&(e.videoType=c[0].value)}else o.warn(\"Unsupported media type: \"+n),e.muted=null;r&&(e.muted=r.length>0&&r[0]&&\"true\"===r[0].value)}this.eventEmitter.emit(a.REMOTE_TRACK_ADDED,e)},r.prototype.isRecordingSupported=function(){return!!this.recording&&this.recording.isSupported()},r.prototype.getRecordingState=function(){return this.recording?this.recording.getState():void 0},r.prototype.getRecordingURL=function(){return this.recording?this.recording.getURL():null},r.prototype.toggleRecording=function(e,t){return this.recording?this.recording.toggleRecording(e,t):t(\"error\",new Error(\"The conference is not created yet!\"))},r.prototype.isSIPCallingSupported=function(){return!!this.moderator&&this.moderator.isSipGatewayEnabled()},r.prototype.dial=function(e){return this.connection.rayo.dial(e,\"fromnumber\",Strophe.getNodeFromJid(this.myroomjid),this.password,this.focusMucJid)},r.prototype.hangup=function(){return this.connection.rayo.hangup()},r.prototype.getPhoneNumber=function(){return this.phoneNumber},r.prototype.getPhonePin=function(){return this.phonePin},r.prototype.getConnectionState=function(){return this.session?this.session.getIceConnectionState():null},r.prototype.muteParticipant=function(e,t){o.info(\"set mute\",t);var n=$iq({to:this.focusMucJid,type:\"set\"}).c(\"mute\",{xmlns:\"http://jitsi.org/jitmeet/audio\",jid:e}).t(t.toString()).up();this.connection.sendIQ(n,(function(e){o.log(\"set mute\",e)}),(function(e){o.log(\"set mute error\",e)}))},r.prototype.onMute=function(e){if(e.getAttribute(\"from\")!==this.focusMucJid)return o.warn(\"Ignored mute from non focus peer\"),!1;var t=$(e).find(\"mute\");if(t.length){var n=\"true\"===t.text();this.eventEmitter.emit(a.AUDIO_MUTED_BY_FOCUS,n)}return!0},r.prototype.leave=function(){var e=this;return this._dispose(),new Promise((function(t,n){function i(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];o.removeListener(a.MUC_LEFT,i),clearTimeout(r),e?n(new Error(\"The timeout for the confirmation about leaving the room expired.\")):t()}var r=setTimeout((function(){return i(!0)}),5e3),o=e.eventEmitter;o.on(a.MUC_LEFT,i),e.doLeave()}))},r.prototype._dispose=function(){this.session&&this.session.close()},e.exports=r}).call(t,\"modules/xmpp/ChatRoom.js\")},function(e,t){\"use strict\";e.exports={ADD_ICE_CANDIDATE_FAILED:\"xmpp.add_ice_candidate_failed\",AUDIO_MUTED_BY_FOCUS:\"xmpp.audio_muted_by_focus\",AUTHENTICATION_REQUIRED:\"xmpp.authentication_required\",BRIDGE_DOWN:\"xmpp.bridge_down\",CALL_INCOMING:\"xmpp.callincoming.jingle\",CALL_ENDED:\"xmpp.callended.jingle\",CHAT_ERROR_RECEIVED:\"xmpp.chat_error_received\",CONFERENCE_SETUP_FAILED:\"xmpp.conference_setup_failed\",CONNECTION_FAILED:\"xmpp.connection.failed\",CONNECTION_INTERRUPTED:\"xmpp.connection.interrupted\",CONNECTION_RESTORED:\"xmpp.connection.restored\",CONNECTION_ICE_FAILED:\"xmpp.connection.ice.failed\",CREATE_ANSWER_ERROR:\"xmpp.create_answer_error\",CREATE_ANSWER_FAILED:\"xmpp.create_answer_failed\",CREATE_OFFER_FAILED:\"xmpp.create_offer_failed\",DISPLAY_NAME_CHANGED:\"xmpp.display_name_changed\",ETHERPAD:\"xmpp.etherpad\",FOCUS_DISCONNECTED:\"xmpp.focus_disconnected\",FOCUS_LEFT:\"xmpp.focus_left\",GRACEFUL_SHUTDOWN:\"xmpp.graceful_shutdown\",ICE_RESTARTING:\"rtc.ice_restarting\",JINGLE_ERROR:\"xmpp.jingle_error\",JINGLE_FATAL_ERROR:\"xmpp.jingle_fatal_error\",KICKED:\"xmpp.kicked\",LOCAL_ROLE_CHANGED:\"xmpp.localrole_changed\",MESSAGE_RECEIVED:\"xmpp.message_received\",MUC_DESTROYED:\"xmpp.muc_destroyed\",MUC_JOINED:\"xmpp.muc_joined\",MUC_MEMBER_JOINED:\"xmpp.muc_member_joined\",MUC_MEMBER_LEFT:\"xmpp.muc_member_left\",MUC_LEFT:\"xmpp.muc_left\",MUC_ROLE_CHANGED:\"xmpp.muc_role_changed\",MUC_LOCK_CHANGED:\"xmpp.muc_lock_changed\",PARTICIPANT_AUDIO_MUTED:\"xmpp.audio_muted\",PARTICIPANT_VIDEO_MUTED:\"xmpp.video_muted\",PARTICIPANT_VIDEO_TYPE_CHANGED:\"xmpp.video_type\",PASSWORD_REQUIRED:\"xmpp.password_required\",PEERCONNECTION_READY:\"xmpp.peerconnection_ready\",PHONE_NUMBER_CHANGED:\"conference.phoneNumberChanged\",PRESENCE_STATUS:\"xmpp.presence_status\",PROMPT_FOR_LOGIN:\"xmpp.prompt_for_login\",READY_TO_JOIN:\"xmpp.ready_to_join\",RECORDER_STATE_CHANGED:\"xmpp.recorderStateChanged\",REMOTE_STATS:\"xmpp.remote_stats\",REMOTE_TRACK_ADDED:\"xmpp.remote_track_added\",REMOTE_TRACK_REMOVED:\"xmpp.remote_track_removed\",RESERVATION_ERROR:\"xmpp.room_reservation_error\",ROOM_CONNECT_ERROR:\"xmpp.room_connect_error\",ROOM_CONNECT_NOT_ALLOWED_ERROR:\"xmpp.room_connect_error.not_allowed\",ROOM_JOIN_ERROR:\"xmpp.room_join_error\",ROOM_MAX_USERS_ERROR:\"xmpp.room_max_users_error\",SENDING_CHAT_MESSAGE:\"xmpp.sending_chat_message\",SENDRECV_STREAMS_CHANGED:\"xmpp.sendrecv_streams_changed\",SESSION_ACCEPT_TIMEOUT:\"xmpp.session_accept_timeout\",SET_LOCAL_DESCRIPTION_ERROR:\"xmpp.set_local_description_error\",SET_LOCAL_DESCRIPTION_FAILED:\"xmpp.set_local_description_failed\",SET_REMOTE_DESCRIPTION_ERROR:\"xmpp.set_remote_description_error\",SET_REMOTE_DESCRIPTION_FAILED:\"xmpp.set_remote_description_failed\",START_MUTED_FROM_FOCUS:\"xmpp.start_muted_from_focus\",SUBJECT_CHANGED:\"xmpp.subject_changed\",LOCAL_UFRAG_CHANGED:\"xmpp.local_ufrag_changed\",REMOTE_UFRAG_CHANGED:\"xmpp.remote_ufrag_changed\"}},function(e,t){\"use strict\";e.exports={AUDIO:\"audio\",VIDEO:\"video\"}},function(e,t,n){(function(t){\"use strict\";function i(e){var t=1;return function(n){if(!n){var i=Math.pow(2,t-1);return t+=1,i*e}t=1}}function r(e,t,n,r,a){function s(e){if(e.data&&e.data.sessionId){if(e.origin!==window.location.origin)return void o.warn(\"Ignoring sessionId from different origin: \"+e.origin);r.setSessionId(e.data.sessionId)}}this.roomName=e,this.xmppService=t,this.getNextTimeout=i(1e3),this.getNextErrorTimeout=i(1e3),this.externalAuthEnabled=!1,this.settings=r,this.options=a,this.sipGatewayEnabled=this.options.connection.hosts&&void 0!==this.options.connection.hosts.call_control,this.eventEmitter=n,this.connection=this.xmppService.connection,window.addEventListener?window.addEventListener(\"message\",s,!1):window.attachEvent(\"onmessage\",s)}var o=n(9).getLogger(t),a=n(35),s=n(38),c=n(39);r.prototype.isExternalAuthEnabled=function(){return this.externalAuthEnabled},r.prototype.isSipGatewayEnabled=function(){return this.sipGatewayEnabled},r.prototype.onMucMemberLeft=function(e){o.info(\"Someone left is it focus ? \"+e),\"focus\"===Strophe.getResourceFromJid(e)&&(o.info(\"Focus has left the room - leaving conference\"),this.eventEmitter.emit(a.FOCUS_LEFT))},r.prototype.setFocusUserJid=function(e){this.focusUserJid||(this.focusUserJid=e,o.info(\"Focus jid set to:  \"+this.focusUserJid))},r.prototype.getFocusUserJid=function(){return this.focusUserJid},r.prototype.getFocusComponent=function(){var e=this.options.connection.hosts.focus;return e||(e=\"focus.\"+this.options.connection.hosts.domain),e},r.prototype.createConferenceIq=function(){var e=$iq({to:this.getFocusComponent(),type:\"set\"}),t=this.settings.getSessionId(),n=this.settings.getUserId();return o.info(\"Session ID: \"+t+\" machine UID: \"+n),e.c(\"conference\",{xmlns:\"http://jitsi.org/protocol/focus\",room:this.roomName,\"machine-uid\":n}),t&&e.attrs({\"session-id\":t}),void 0!==this.options.connection.enforcedBridge&&e.c(\"property\",{name:\"enforcedBridge\",value:this.options.connection.enforcedBridge}).up(),void 0!==this.options.connection.hosts&&void 0!==this.options.connection.hosts.call_control&&e.c(\"property\",{name:\"call_control\",value:this.options.connection.hosts.call_control}).up(),void 0!==this.options.conference.channelLastN&&e.c(\"property\",{name:\"channelLastN\",value:this.options.conference.channelLastN}).up(),void 0!==this.options.conference.adaptiveLastN&&e.c(\"property\",{name:\"adaptiveLastN\",value:this.options.conference.adaptiveLastN}).up(),(void 0!==this.options.conference.disableAdaptiveSimulcast||this.options.conference.disableSimulcast)&&e.c(\"property\",{name:\"disableAdaptiveSimulcast\",value:!!this.options.conference.disableSimulcast||this.options.conference.disableAdaptiveSimulcast}).up(),e.c(\"property\",{name:\"disableRtx\",value:!0}).up(),e.c(\"property\",{name:\"enableLipSync\",value:!1!==this.options.connection.enableLipSync}).up(),void 0!==this.options.conference.audioPacketDelay&&e.c(\"property\",{name:\"audioPacketDelay\",value:this.options.conference.audioPacketDelay}).up(),this.options.conference.startBitrate&&e.c(\"property\",{name:\"startBitrate\",value:this.options.conference.startBitrate}).up(),this.options.conference.minBitrate&&e.c(\"property\",{name:\"minBitrate\",value:this.options.conference.minBitrate}).up(),void 0!==this.options.conference.openSctp&&e.c(\"property\",{name:\"openSctp\",value:this.options.conference.openSctp}).up(),void 0!==this.options.conference.startAudioMuted&&e.c(\"property\",{name:\"startAudioMuted\",value:this.options.conference.startAudioMuted}).up(),void 0!==this.options.conference.startVideoMuted&&e.c(\"property\",{name:\"startVideoMuted\",value:this.options.conference.startVideoMuted}).up(),void 0!==this.options.conference.stereo&&e.c(\"property\",{name:\"stereo\",value:this.options.conference.stereo}).up(),e.c(\"property\",{name:\"simulcastMode\",value:\"rewriting\"}).up(),void 0!==this.options.conference.useRoomAsSharedDocumentName&&e.c(\"property\",{name:\"useRoomAsSharedDocumentName\",value:this.options.conference.useRoomAsSharedDocumentName}).up(),e.up(),e},r.prototype.parseSessionId=function(e){var t=$(e).find(\"conference\").attr(\"session-id\");t&&(o.info(\"Received sessionId:  \"+t),this.settings.setSessionId(t))},r.prototype.parseConfigOptions=function(e){this.setFocusUserJid($(e).find(\"conference\").attr(\"focusjid\"));var t=$(e).find(\">conference>property[name='authentication'][value='true']\").length>0;o.info(\"Authentication enabled: \"+t),this.externalAuthEnabled=$(e).find(\">conference>property[name='externalAuth'][value='true']\").length>0,o.info(\"External authentication enabled: \"+this.externalAuthEnabled),this.externalAuthEnabled||this.parseSessionId(e);var n=$(e).find(\">conference\").attr(\"identity\");this.eventEmitter.emit(s.IDENTITY_UPDATED,t,n),$(e).find(\">conference>property[name='sipGatewayEnabled'][value='true']\").length&&(this.sipGatewayEnabled=!0),o.info(\"Sip gateway enabled:  \"+this.sipGatewayEnabled)},r.prototype.allocateConferenceFocus=function(e){this.setFocusUserJid(this.options.connection.focusUserJid);var t=this;this.connection.sendIQ(this.createConferenceIq(),(function(n){t._allocateConferenceFocusSuccess(n,e)}),(function(n){t._allocateConferenceFocusError(n,e)})),this.connection.flush()},r.prototype._allocateConferenceFocusError=function(e,t){var n=this,i=$(e).find(\">error>session-invalid\").length;if(i&&(o.info(\"Session expired! - removing\"),n.settings.clearSessionId()),$(e).find(\">error>graceful-shutdown\").length)n.eventEmitter.emit(a.GRACEFUL_SHUTDOWN);else{var r=$(e).find(\">error>reservation-error\");if(r.length){var s,l=r.attr(\"error-code\"),u=$(e).find(\">error>text\");return u&&(s=u.text()),void n.eventEmitter.emit(a.RESERVATION_ERROR,l,s)}if($(e).find(\">error>not-authorized\").length)return o.warn(\"Unauthorized to start the conference\",e),Strophe.getDomainFromJid(e.getAttribute(\"to\"))!==n.options.connection.hosts.anonymousdomain&&(n.externalAuthEnabled=!0),void n.eventEmitter.emit(a.AUTHENTICATION_REQUIRED,(function(){n.allocateConferenceFocus(t)}));if(this.retries>=this.maxRetries)n.eventEmitter.emit(a.ALLOCATE_FOCUS_MAX_RETRIES_ERROR);else{this.retries++;var d=n.getNextErrorTimeout(),p=\"Focus error, retry after \"+d;c.callErrorHandler(new Error(p)),o.error(p,e);var h=n.getFocusComponent();i||n.eventEmitter.emit(a.FOCUS_DISCONNECTED,h,d/1e3),n.getNextTimeout(!0),window.setTimeout((function(){n.allocateConferenceFocus(t)}),d)}}},r.prototype._allocateConferenceFocusSuccess=function(e,t){if(this.parseConfigOptions(e),this.getNextErrorTimeout(!0),\"true\"===$(e).find(\"conference\").attr(\"ready\"))this.getNextTimeout(!0),t();else{var n=this.getNextTimeout();o.info(\"Waiting for the focus... \"+n);var i=this;window.setTimeout((function(){i.allocateConferenceFocus(t)}),n)}},r.prototype.authenticate=function(){var e=this;return new Promise((function(t,n){e.connection.sendIQ(e.createConferenceIq(),(function(n){e.parseSessionId(n),t()}),(function(e){var t=$(e).find(\">error\").attr(\"code\");n(e,t)}))}))},r.prototype.getLoginUrl=function(e,t){this._getLoginUrl(!1,e,t)},r.prototype._getLoginUrl=function(e,t,n){function i(e,t){c.callErrorHandler(new Error(e)),o.error(e,t),n(t)}var r=$iq({to:this.getFocusComponent(),type:\"get\"}),a={xmlns:\"http://jitsi.org/protocol/focus\",room:this.roomName,\"machine-uid\":this.settings.getUserId()},s=\"auth url\";e&&(a.popup=!0,s=\"POPUP \"+s),r.c(\"login-url\",a),this.connection.sendIQ(r,(function(e){var n=$(e).find(\"login-url\").attr(\"url\");(n=decodeURIComponent(n))?(o.info(\"Got \"+s+\": \"+n),t(n)):i(\"Failed to get \"+s+\" from the focus\",e)}),i.bind(void 0,\"Get \"+s+\" error\"))},r.prototype.getPopupLoginUrl=function(e,t){this._getLoginUrl(!0,e,t)},r.prototype.logout=function(e){var t=$iq({to:this.getFocusComponent(),type:\"set\"}),n=this.settings.getSessionId();return n?(t.c(\"logout\",{xmlns:\"http://jitsi.org/protocol/focus\",\"session-id\":n}),void this.connection.sendIQ(t,(function(t){var n=$(t).find(\"logout\").attr(\"logout-url\");n&&(n=decodeURIComponent(n)),o.info(\"Log out OK, url: \"+n,t),this.settings.clearSessionId(),e(n)}).bind(this),(function(e){var t=\"Logout error\";c.callErrorHandler(new Error(t)),o.error(t,e)}))):void e()},e.exports=r}).call(t,\"modules/xmpp/moderator.js\")},function(e,t){\"use strict\";e.exports={IDENTITY_UPDATED:\"authentication.identity_updated\"}},function(e,t){\"use strict\";var n=[],i=window.onerror,r=window.onunhandledrejection;window.onerror=function(e,t,r,o,a){n.forEach((function(n){n(e,t,r,o,a)})),i&&i(e,t,r,o,a)},window.onunhandledrejection=function(e){n.forEach((function(t){t(null,null,null,null,e.reason)})),r&&r(e)},e.exports={addHandler:function(e){n.push(e)},callErrorHandler:function(e){var t=window.onerror;t&&t(null,null,null,null,e)},callUnhandledRejectionHandler:function(e){var t=window.onunhandledrejection;t&&t(e)}}},function(e,t,n){(function(t){\"use strict\";function i(e,t,n,r,o,a){this.eventEmitter=t,this.connection=n,this.state=null,this.focusMucJid=r,this.jirecon=o,this.url=null,this.type=e,this._isSupported=!(e===i.types.JIRECON&&!this.jirecon||e!==i.types.JIBRI&&e!==i.types.COLIBRI),this.jireconRid=null,this.roomjid=a}var r=(0,n(9).getLogger)(t),o=n(35),a=n(41),s=n(39);i.types={COLIBRI:\"colibri\",JIRECON:\"jirecon\",JIBRI:\"jibri\"},i.status={ON:\"on\",OFF:\"off\",AVAILABLE:\"available\",UNAVAILABLE:\"unavailable\",PENDING:\"pending\",RETRYING:\"retrying\",BUSY:\"busy\",FAILED:\"failed\"},i.action={START:\"start\",STOP:\"stop\"},i.prototype.handleJibriPresence=function(e){var t=e.attributes;if(t){var n=t.status;r.log(\"Handle jibri presence : \",n),n!==this.state&&(this.state=\"undefined\"===n?i.status.UNAVAILABLE:\"off\"===n?this.state&&\"undefined\"!==this.state&&this.state!==i.status.UNAVAILABLE?i.status.OFF:i.status.AVAILABLE:n,this.eventEmitter.emit(o.RECORDER_STATE_CHANGED,this.state))}},i.prototype.setRecordingJibri=function(e,t,n,o){e==this.state&&n(a.INVALID_STATE),o=o||{};var s=$iq({to:this.focusMucJid,type:\"set\"}).c(\"jibri\",{xmlns:\"http://jitsi.org/protocol/jibri\",action:e===i.status.ON?i.action.START:i.action.STOP,streamid:o.streamId}).up();r.log(\"Set jibri recording: \"+e,s.nodeTree),r.log(s.nodeTree),this.connection.sendIQ(s,(function(e){r.log(\"Result\",e),t($(e).find(\"jibri\").attr(\"state\"),$(e).find(\"jibri\").attr(\"url\"))}),(function(e){r.log(\"Failed to start recording, error: \",e),n(e)}))},i.prototype.setRecordingJirecon=function(e,t,n){e==this.state&&n(new Error(\"Invalid state!\"));var o=$iq({to:this.jirecon,type:\"set\"}).c(\"recording\",{xmlns:\"http://jitsi.org/protocol/jirecon\",action:e===i.status.ON?i.action.START:i.action.STOP,mucjid:this.roomjid});\"off\"===e&&o.attrs({rid:this.jireconRid}),r.log(\"Start recording\");var a=this;this.connection.sendIQ(o,(function(n){a.jireconRid=$(n).find(\"recording\").attr(\"rid\"),r.log(\"Recording \"+(e===i.status.ON?\"started\":\"stopped\")+\"(jirecon)\"+n),a.state=e,e===i.status.OFF&&(a.jireconRid=null),t(e)}),(function(e){r.log(\"Failed to start recording, error: \",e),n(e)}))},i.prototype.setRecordingColibri=function(e,t,n,i){var o=$iq({to:this.focusMucJid,type:\"set\"});o.c(\"conference\",{xmlns:\"http://jitsi.org/protocol/colibri\"}),o.c(\"recording\",{state:e,token:i.token});var a=this;this.connection.sendIQ(o,(function(n){r.log('Set recording \"',e,'\". Result:',n);var i=$(n).find(\">conference>recording\").attr(\"state\");a.state=i,t(i),\"pending\"===i&&a.connection.addHandler((function(e){var n=$(e).find(\"recording\").attr(\"state\");n&&(a.state=i,t(n))}),\"http://jitsi.org/protocol/colibri\",\"iq\",null,null,null)}),(function(e){r.warn(e),n(e)}))},i.prototype.setRecording=function(e,t,n,o){switch(this.type){case i.types.JIRECON:this.setRecordingJirecon(e,t,n,o);break;case i.types.COLIBRI:this.setRecordingColibri(e,t,n,o);break;case i.types.JIBRI:this.setRecordingJibri(e,t,n,o);break;default:var a=\"Unknown recording type!\";return s.callErrorHandler(new Error(a)),void r.error(a)}},i.prototype.toggleRecording=function(e,t){var n=this.state;if(n===i.status.UNAVAILABLE||n===i.status.FAILED?t(i.status.FAILED,a.RECORDER_UNAVAILABLE):n===i.status.BUSY&&t(i.status.BUSY,a.RECORDER_BUSY),(n===i.status.OFF||n===i.status.AVAILABLE)&&(!e.token&&this.type===i.types.COLIBRI||!e.streamId&&this.type===i.types.JIBRI))return t(i.status.FAILED,a.NO_TOKEN),void r.error(\"No token passed!\");var o=n===i.status.AVAILABLE||n===i.status.OFF?i.status.ON:i.status.OFF,s=this;r.log(\"Toggle recording (old state, new state): \",n,o),this.setRecording(o,(function(e,i){e&&e!==n&&(s.state=e,s.url=i,t(e))}),(function(e){t(i.status.FAILED,e)}),e)},i.prototype.isSupported=function(){return this._isSupported},i.prototype.getState=function(){return this.state},i.prototype.getURL=function(){return this.url},e.exports=i}).call(t,\"modules/xmpp/recording.js\")},function(e,t){\"use strict\";e.exports={RECORDER_UNAVAILABLE:\"recorder.unavailable\",RECORDER_BUSY:\"recorder.busy\",NO_TOKEN:\"recorder.noToken\",STATE_CHANGE_FAILED:\"recorder.stateChangeFailed\",INVALID_STATE:\"recorder.invalidState\"}},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")})(this,e),this.connection=null}return n(e,[{key:\"init\",value:function(e){this.connection=e}}]),e}();t.default=i},function(e,t,n){(function(t){\"use strict\";function i(e){return e&&e.__esModule?e:{default:e}}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(9),a=i(n(44)),s=i(n(35)),c=i(n(39)),l=i(n(59)),u=i(n(42)),d=(0,o.getLogger)(t),p=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.xmpp=e,i.eventEmitter=n,i.sessions={},i.ice_config={iceServers:[]},i.media_constraints={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}},i}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:\"init\",value:function(e){(function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if(\"value\"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"init\",this).call(this,e),this.connection.addHandler(this.onJingle.bind(this),\"urn:xmpp:jingle:1\",\"iq\",\"set\",null,null)}},{key:\"onJingle\",value:function(e){var t=$(e).find(\"jingle\").attr(\"sid\"),n=$(e).find(\"jingle\").attr(\"action\"),i=e.getAttribute(\"from\"),r=$iq({type:\"result\",to:i,id:e.getAttribute(\"id\")});d.log(\"on jingle \"+n+\" from \"+i,e);var o=this.sessions[t];if(\"session-initiate\"!=n){if(!o)return r.attrs({type:\"error\"}),r.c(\"error\",{type:\"cancel\"}).c(\"item-not-found\",{xmlns:\"urn:ietf:params:xml:ns:xmpp-stanzas\"}).up().c(\"unknown-session\",{xmlns:\"urn:xmpp:jingle:errors:1\"}),d.warn(\"invalid session id\",e),this.connection.send(r),!0;if(i!=o.peerjid)return d.warn(\"jid mismatch for session id\",t,o.peerjid,e),r.attrs({type:\"error\"}),r.c(\"error\",{type:\"cancel\"}).c(\"item-not-found\",{xmlns:\"urn:ietf:params:xml:ns:xmpp-stanzas\"}).up().c(\"unknown-session\",{xmlns:\"urn:xmpp:jingle:errors:1\"}),this.connection.send(r),!0}else if(void 0!==o)return r.attrs({type:\"error\"}),r.c(\"error\",{type:\"cancel\"}).c(\"service-unavailable\",{xmlns:\"urn:ietf:params:xml:ns:xmpp-stanzas\"}).up(),d.warn(\"duplicate session id\",t,e),this.connection.send(r),!0;var u=window.performance.now();switch(n){case\"session-initiate\":d.log(\"(TIME) received session-initiate:\\t\",u);var p=$(e).find(\"jingle>startmuted\");if(p&&p.length>0){var h=p.attr(\"audio\"),f=p.attr(\"video\");this.eventEmitter.emit(s.default.START_MUTED_FROM_FOCUS,\"true\"===h,\"true\"===f)}o=new a.default($(e).attr(\"to\"),$(e).find(\"jingle\").attr(\"sid\"),i,this.connection,this.media_constraints,this.ice_config,this.xmpp),this.sessions[o.sid]=o,this.eventEmitter.emit(s.default.CALL_INCOMING,o,$(e).find(\">jingle\"),u),l.default.analytics.sendEvent(\"xmpp.session-initiate\",{value:u});break;case\"session-terminate\":d.log(\"terminating...\",o.sid);var m=null,g=null;$(e).find(\">jingle>reason\").length&&(m=$(e).find(\">jingle>reason>:first\")[0].tagName,g=$(e).find(\">jingle>reason>text\").text()),this.terminate(o.sid,m,g),this.eventEmitter.emit(s.default.CALL_ENDED,o,m,g);break;case\"transport-replace\":d.info(\"(TIME) Start transport replace\",u),l.default.analytics.sendEvent(\"xmpp.transport-replace.start\",{value:u}),o.replaceTransport($(e).find(\">jingle\"),(function(){var e=window.performance.now();d.info(\"(TIME) Transport replace success!\",e),l.default.analytics.sendEvent(\"xmpp.transport-replace.success\",{value:e})}),(function(e){c.default.callErrorHandler(e),d.error(\"Transport replace failed\",e),o.sendTransportReject()}));break;case\"addsource\":case\"source-add\":o.addSource($(e).find(\">jingle>content\"));break;case\"removesource\":case\"source-remove\":o.removeSource($(e).find(\">jingle>content\"));break;default:d.warn(\"jingle action not implemented\",n),r.attrs({type:\"error\"}),r.c(\"error\",{type:\"cancel\"}).c(\"bad-request\",{xmlns:\"urn:ietf:params:xml:ns:xmpp-stanzas\"}).up()}return this.connection.send(r),!0}},{key:\"terminate\",value:function(e,t,n){this.sessions.hasOwnProperty(e)&&(\"ended\"!=this.sessions[e].state&&this.sessions[e].onTerminated(t,n),delete this.sessions[e])}},{key:\"getStunAndTurnCredentials\",value:function(){var e=this;this.connection.sendIQ($iq({type:\"get\",to:this.connection.domain}).c(\"services\",{xmlns:\"urn:xmpp:extdisco:1\"}).c(\"service\",{host:\"turn.\"+this.connection.domain}),(function(t){var n=[];$(t).find(\">services>service\").each((function(e,t){var i={},r=(t=$(t)).attr(\"type\");switch(r){case\"stun\":i.url=\"stun:\"+t.attr(\"host\"),t.attr(\"port\")&&(i.url+=\":\"+t.attr(\"port\")),n.push(i);break;case\"turn\":case\"turns\":i.url=r+\":\";var o=t.attr(\"username\");o&&(navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./)&&parseInt(navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./)[2],10)<28?i.url+=o+\"@\":i.username=o),i.url+=t.attr(\"host\");var a=t.attr(\"port\");a&&\"3478\"!=a&&(i.url+=\":\"+t.attr(\"port\"));var s=t.attr(\"transport\");s&&\"udp\"!=s&&(i.url+=\"?transport=\"+s),i.credential=t.attr(\"password\")||i.credential,n.push(i)}})),e.ice_config.iceServers=n}),(function(e){d.warn(\"getting turn credentials failed\",e),d.warn(\"is mod_turncredentials or similar installed?\")}))}},{key:\"getLog\",value:function(){var e=this,t={};return Object.keys(this.sessions).forEach((function(n){var i=e.sessions[n].peerconnection;i&&i.updateLog&&(t[\"jingle_\"+n]={updateLog:i.updateLog,stats:i.stats,url:window.location.href})})),t}}]),t}(u.default);e.exports=function(e,t){Strophe.addConnectionPlugin(\"jingle\",new p(e,t))}}).call(t,\"modules/xmpp/strophe.jingle.js\")},function(e,t,n){(function(t){\"use strict\";function i(e,t,n,i,r,o,a,s){l.call(this,e,t,n,i,r,o,a,s),this.localSDP=null,this.lasticecandidate=!1,this.closed=!1,this.addssrc=[],this.removessrc=[],this.modifyingLocalStreams=!1,this.modifiedSSRCs={},this.localUfrag=null,this.remoteUfrag=null,this.ssrcOwners={},this.jingleOfferIq=null,this.webrtcIceUdpDisable=!!this.service.options.webrtcIceUdpDisable,this.webrtcIceTcpDisable=!!this.service.options.webrtcIceTcpDisable,this.failICE=!!this.service.options.failICE,this.modifySourcesQueue=f.queue(this._modifySources.bind(this),1)}function r(e,t){var n=$(e.tree()).find('>jingle>content[name=\"'+t+'\"]');n&&n.length||($(e.tree()).find(\">jingle\").append('<content name=\"'+t+'\"></content>'),n=$(e.tree()).find('>jingle>content[name=\"'+t+'\"]'));var i=n.find(\">description\");return i&&i.length||(n.append('<description xmlns=\"urn:xmpp:jingle:apps:rtp:1\" media=\"'+t+'\"></description>'),i=n.find(\">description\")),i}function o(e){var t=e.split(\"\\n\").filter((function(e){return e.startsWith(\"a=ice-ufrag:\")}));if(t.length>0)return t[0].substr(\"a=ice-ufrag:\".length)}var a=n(9),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(45)),c=(0,a.getLogger)(t),l=n(46),u=n(47),d=n(129),p=n(52),h=n(130),f=n(131),m=n(35),g=n(32),v=n(48),y=n(39),b=n(59),_=1e4;(i.prototype=Object.create(l.prototype)).constructor=i,i.prototype.doInitialize=function(){var e=this;this.lasticecandidate=!1,this.isreconnect=!1,this.wasstable=!1,this.peerconnection=new u(this.connection.jingle.ice_config,v.getPCConstraints(),this),this.peerconnection.onicecandidate=function(t){if(t){var n=t.candidate;if(n){var i=n.protocol;if(\"string\"==typeof i)if(\"tcp\"===(i=i.toLowerCase())||\"ssltcp\"===i){if(e.webrtcIceTcpDisable)return}else if(\"udp\"==i&&e.webrtcIceUdpDisable)return}e.sendIceCandidate(n)}},this.peerconnection.onaddstream=function(t){e.remoteStreamAdded(t.stream)},this.peerconnection.onremovestream=function(t){e.remoteStreamRemoved(t.stream)},this.peerconnection.onsignalingstatechange=function(){e&&e.peerconnection&&\"stable\"===e.peerconnection.signalingState&&(e.wasstable=!0)},this.peerconnection.oniceconnectionstatechange=function(){if(e&&e.peerconnection){var t=window.performance.now();switch(e.room.connectionTimes[\"ice.state.\"+e.peerconnection.iceConnectionState]=t,c.log(\"(TIME) ICE \"+e.peerconnection.iceConnectionState+\":\\t\",t),b.analytics.sendEvent(\"ice.\"+e.peerconnection.iceConnectionState,{value:t}),e.peerconnection.iceConnectionState){case\"connected\":\"stable\"===e.peerconnection.signalingState&&e.isreconnect&&e.room.eventEmitter.emit(m.CONNECTION_RESTORED),e.isreconnect=!1;break;case\"disconnected\":if(e.closed)break;e.isreconnect=!0,e.wasstable&&e.room.eventEmitter.emit(m.CONNECTION_INTERRUPTED);break;case\"failed\":e.room.eventEmitter.emit(m.CONNECTION_ICE_FAILED,e.peerconnection)}}},this.peerconnection.onnegotiationneeded=function(){e.room.eventEmitter.emit(m.PEERCONNECTION_READY,e)}},i.prototype.sendIceCandidate=function(e){var t=this;if(e&&!this.lasticecandidate){var n=p.iceparams(this.localSDP.media[e.sdpMLineIndex],this.localSDP.session),i=p.candidateToJingle(e.candidate);if(!n||!i){var r=\"failed to get ice && jcand\";return y.callErrorHandler(new Error(r)),void c.error(r)}n.xmlns=\"urn:xmpp:jingle:transports:ice-udp:1\",this.usedrip?(0===this.drip_container.length&&window.setTimeout((function(){0!==t.drip_container.length&&(t.sendIceCandidates(t.drip_container),t.drip_container=[])}),20),this.drip_container.push(e)):t.sendIceCandidates([e])}else c.log(\"sendIceCandidate: last candidate.\"),this.lasticecandidate=!0},i.prototype.sendIceCandidates=function(e){c.log(\"sendIceCandidates\",e);for(var t=$iq({to:this.peerjid,type:\"set\"}).c(\"jingle\",{xmlns:\"urn:xmpp:jingle:1\",action:\"transport-info\",initiator:this.initiator,sid:this.sid}),n=0;n<this.localSDP.media.length;n++){var i=e.filter((function(e){return e.sdpMLineIndex==n})),r=p.parse_mline(this.localSDP.media[n].split(\"\\r\\n\")[0]);if(i.length>0){var o=p.iceparams(this.localSDP.media[n],this.localSDP.session);o.xmlns=\"urn:xmpp:jingle:transports:ice-udp:1\",t.c(\"content\",{creator:this.initiator==this.me?\"initiator\":\"responder\",name:i[0].sdpMid?i[0].sdpMid:r.media}).c(\"transport\",o);for(var a=0;a<i.length;a++){var s=p.candidateToJingle(i[a].candidate);this.service.options.failICE&&(s.ip=\"1.1.1.1\"),t.c(\"candidate\",s).up()}var l=p.find_line(this.localSDP.media[n],\"a=fingerprint:\",this.localSDP.session);if(l){var u=p.parse_fingerprint(l);u.required=!0,t.c(\"fingerprint\",{xmlns:\"urn:xmpp:jingle:apps:dtls:0\"}).t(u.fingerprint),delete u.fingerprint,t.attrs(u),t.up()}t.up(),t.up()}}this.connection.sendIQ(t,null,this.newJingleErrorHandler(t,(function(e){y.callErrorHandler(new Error(\"Jingle error: \"+JSON.stringify(e)))})),_)},i.prototype.readSsrcInfo=function(e){var t=this;$(e).each((function(e,n){$(n).find('description>source[xmlns=\"urn:xmpp:jingle:apps:rtp:ssma:0\"]').each((function(){var e=this.getAttribute(\"ssrc\");$(this).find('>ssrc-info[xmlns=\"http://jitsi.org/jitmeet\"]').each((function(){var n=this.getAttribute(\"owner\");t.ssrcOwners[e]=n}))}))}))},i.prototype.acceptOffer=function(e,t,n){this.state=s.ACTIVE,this.setOfferCycle(e,(function(){this.sendSessionAccept(this.localSDP,t,n)}).bind(this),n)},i.prototype.setOfferCycle=function(e,t,n){this.jingleOfferIq=e,this.modifySourcesQueue.push(t,(function(e){e&&(n&&n(e),i.onJingleFatalError(this,e))}).bind(this))},i._fixAnswerRFC4145Setup=function(e,t){g.isChrome()&&e&&t&&e.media&&t.media&&e.media.length==t.media.length&&(t.media.forEach((function(n,i){p.find_line(e.media[i],\"a=setup:actpass\",e.session)&&(t.media[i]=n.replace(/a=setup:active/g,\"a=setup:passive\"))})),t.raw=t.session+t.media.join(\"\"))},i.prototype.replaceTransport=function(e,t,n){this.room.eventEmitter.emit(m.ICE_RESTARTING);var i=e.clone();e.find(\">content[name='data']\").remove();var r=this;this.setOfferCycle(e,(function(){r.setOfferCycle(i,(function(){r.sendTransportAccept(r.localSDP,t,n)}),n)}),n)},i.prototype.sendSessionAccept=function(e,t,n){var i=$iq({to:this.peerjid,type:\"set\"}).c(\"jingle\",{xmlns:\"urn:xmpp:jingle:1\",action:\"session-accept\",initiator:this.initiator,responder:this.responder,sid:this.sid});this.webrtcIceTcpDisable&&(e.removeTcpCandidates=!0),this.webrtcIceUdpDisable&&(e.removeUdpCandidates=!0),this.failICE&&(e.failICE=!0),e.toJingle(i,this.initiator==this.me?\"initiator\":\"responder\",null),this.fixJingle(i),i=i.tree(),c.info(\"Sending session-accept\",i);var r=this;this.connection.sendIQ(i,t,this.newJingleErrorHandler(i,(function(e){n(e),r.room.eventEmitter.emit(m.SESSION_ACCEPT_TIMEOUT)})),_)},i.prototype.sendTransportAccept=function(e,t,n){var i=this,r=$iq({to:this.peerjid,type:\"set\"}).c(\"jingle\",{xmlns:\"urn:xmpp:jingle:1\",action:\"transport-accept\",initiator:this.initiator,sid:this.sid});e.media.forEach((function(t,n){var o=p.parse_mline(t.split(\"\\r\\n\")[0]);r.c(\"content\",{creator:i.initiator==i.me?\"initiator\":\"responder\",name:o.media}),e.transportToJingle(n,r),r.up()})),r=r.tree(),console.info(\"Sending transport-accept: \",r),i.connection.sendIQ(r,t,i.newJingleErrorHandler(r,n),_)},i.prototype.sendTransportReject=function(e,t){var n=$iq({to:this.peerjid,type:\"set\"}).c(\"jingle\",{xmlns:\"urn:xmpp:jingle:1\",action:\"transport-reject\",initiator:this.initiator,sid:this.sid});n=n.tree(),c.info(\"Sending 'transport-reject\",n),this.connection.sendIQ(n,e,this.newJingleErrorHandler(n,t),_)},i.prototype.terminate=function(e,t,n,i){this.state=s.ENDED;var r=$iq({to:this.peerjid,type:\"set\"}).c(\"jingle\",{xmlns:\"urn:xmpp:jingle:1\",action:\"session-terminate\",initiator:this.initiator,sid:this.sid}).c(\"reason\").c(e||\"success\");t&&r.up().c(\"text\").t(t),r=r.tree(),c.info(\"Sending session-terminate\",r),this.connection.sendIQ(r,n,this.newJingleErrorHandler(r,i),_),this.connection.jingle.terminate(this.sid)},i.prototype.onTerminated=function(e,t){this.state=\"ended\",c.info(\"Session terminated\",this,e,t),this.close()},i.prototype.addSource=function(e){var t=this;if(!this.peerconnection.localDescription)return c.warn(\"addSource - localDescription not ready yet\"),void setTimeout((function(){t.addSource(e)}),200);c.log(\"addssrc\",(new Date).getTime()),c.log(\"ice\",this.peerconnection.iceConnectionState),this.readSsrcInfo(e);var n=new h(this.peerconnection.remoteDescription.sdp),i=new h(this.peerconnection.localDescription.sdp);$(e).each((function(e,r){var o=$(r).attr(\"name\"),a=\"\";$(r).find('ssrc-group[xmlns=\"urn:xmpp:jingle:apps:rtp:ssma:0\"]').each((function(){var e=this.getAttribute(\"semantics\"),t=$(this).find(\">source\").map((function(){return this.getAttribute(\"ssrc\")})).get();t.length&&(a+=\"a=ssrc-group:\"+e+\" \"+t.join(\" \")+\"\\r\\n\")})),$(r).find('source[xmlns=\"urn:xmpp:jingle:apps:rtp:ssma:0\"]').each((function(){var e=$(this).attr(\"ssrc\");return i.containsSSRC(e)?void c.warn(\"Got add stream request for my own ssrc: \"+e):n.containsSSRC(e)?void c.warn(\"Source-add request for existing SSRC: \"+e):void $(this).find(\">parameter\").each((function(){a+=\"a=ssrc:\"+e+\" \"+$(this).attr(\"name\"),$(this).attr(\"value\")&&$(this).attr(\"value\").length&&(a+=\":\"+$(this).attr(\"value\")),a+=\"\\r\\n\"}))})),n.media.forEach((function(e,i){p.find_line(e,\"a=mid:\"+o)&&(n.media[i]+=a,t.addssrc[i]||(t.addssrc[i]=\"\"),t.addssrc[i]+=a)})),n.raw=n.session+n.media.join(\"\")})),this.modifySourcesQueue.push((function(){c.log(\"modify sources done\");var e=new h(t.peerconnection.localDescription.sdp);c.log(\"SDPs\",i,e),t.notifyMySSRCUpdate(i,e)}))},i.prototype.removeSource=function(e){var t=this;if(!this.peerconnection.localDescription)return c.warn(\"removeSource - localDescription not ready yet\"),void setTimeout((function(){t.removeSource(e)}),200);c.log(\"removessrc\",(new Date).getTime()),c.log(\"ice\",this.peerconnection.iceConnectionState);var n=new h(this.peerconnection.remoteDescription.sdp),i=new h(this.peerconnection.localDescription.sdp);$(e).each((function(e,r){var o=$(r).attr(\"name\"),a=\"\";$(r).find('ssrc-group[xmlns=\"urn:xmpp:jingle:apps:rtp:ssma:0\"]').each((function(){var e=this.getAttribute(\"semantics\"),t=$(this).find(\">source\").map((function(){return this.getAttribute(\"ssrc\")})).get();t.length&&(a+=\"a=ssrc-group:\"+e+\" \"+t.join(\" \")+\"\\r\\n\")}));var s=[];$(r).find('source[xmlns=\"urn:xmpp:jingle:apps:rtp:ssma:0\"]').each((function(){var e=$(this).attr(\"ssrc\");if(i.containsSSRC(e)){var t=\"Got remove stream request for my own ssrc: \"+e;return y.callErrorHandler(new Error(t)),void c.error(t)}s.push(e)})),n.media.forEach((function(e,n){p.find_line(e,\"a=mid:\"+o)&&(t.removessrc[n]||(t.removessrc[n]=\"\"),s.forEach((function(i){var r=p.find_lines(e,\"a=ssrc:\"+i);r.length&&(t.removessrc[n]+=r.join(\"\\r\\n\")+\"\\r\\n\"),t.addssrc[n]&&(t.addssrc[n]=t.addssrc[n].replace(new RegExp(\"^a=ssrc:\"+i+\" .*\\r\\n\",\"gm\"),\"\"))})),t.removessrc[n]+=a)})),n.raw=n.session+n.media.join(\"\")})),this.modifySourcesQueue.push((function(){c.log(\"modify sources done\");var e=new h(t.peerconnection.localDescription.sdp);c.log(\"SDPs\",i,e),t.notifyMySSRCUpdate(i,e)}))},i.prototype._modifySources=function(e,t){function n(e,n){n?c.error(e=e+\": \"+n,n):(c.error(e),n=new Error(e)),y.callErrorHandler(new Error(e)),t(n)}var r,a=this,s=null;if(\"closed\"!=this.peerconnection.signalingState){if(!(this.addssrc.length||this.removessrc.length||this.modifyingLocalStreams||null!==this.jingleOfferIq))return e&&e(),void t();this.jingleOfferIq?(s=new h(\"\"),this.webrtcIceTcpDisable&&(s.removeTcpCandidates=!0),this.webrtcIceUdpDisable&&(s.removeUdpCandidates=!0),this.failICE&&(s.failICE=!0),s.fromJingle(this.jingleOfferIq),this.readSsrcInfo($(this.jingleOfferIq).find(\">content\")),this.jingleOfferIq=null,r=this.media_constraints):(this.modifyingLocalStreams=!1,s=new h(this.peerconnection.remoteDescription.sdp)),this.addssrc.forEach((function(e,t){s.media[t]+=e})),this.addssrc=[],this.removessrc.forEach((function(e,t){(e=e.split(\"\\r\\n\")).pop(),e.forEach((function(e){s.media[t]=s.media[t].replace(e+\"\\r\\n\",\"\")}))})),this.removessrc=[],s.raw=s.session+s.media.join(\"\");var l=o(s.raw);l!=a.remoteUfrag&&(a.remoteUfrag=l,a.room.eventEmitter.emit(m.REMOTE_UFRAG_CHANGED,l)),this.peerconnection.setRemoteDescription(new RTCSessionDescription({type:\"offer\",sdp:s.raw}),(function(){return\"closed\"==a.signalingState?void n(\"createAnswer attempt on closed state\"):void a.peerconnection.createAnswer((function(r){var c=new h(r.sdp);i._fixAnswerRFC4145Setup(s,c),r.sdp=c.raw,a.localSDP=new h(r.sdp),r.sdp=a.localSDP.raw;var l=o(r.sdp);l!=a.localUfrag&&(a.localUfrag=l,a.room.eventEmitter.emit(m.LOCAL_UFRAG_CHANGED,l)),a.peerconnection.setLocalDescription(r,(function(){e&&e(),t()}),n.bind(void 0,\"modified setLocalDescription failed\"))}),n.bind(void 0,\"modified answer failed\"),r)}),n.bind(void 0,\"modify failed\"))}},i.prototype.addStream=function(e,t,n,i,r){var o=null;if(this.peerconnection&&this.peerconnection.localDescription&&(o=new h(this.peerconnection.localDescription.sdp)),!o||!this.peerconnection||r)return this.peerconnection&&(e||i)&&this.peerconnection.addStream(e,i),i&&(this.modifiedSSRCs[i.type]=this.modifiedSSRCs[i.type]||[],this.modifiedSSRCs[i.type].push(i)),void t();(e||i)&&this.peerconnection.addStream(e,i),this.modifyingLocalStreams=!0;var a=this;this.modifySourcesQueue.push((function(){c.log(\"modify sources done\"),i&&(a.modifiedSSRCs[i.type]=a.modifiedSSRCs[i.type]||[],a.modifiedSSRCs[i.type].push(i));var e=new h(a.peerconnection.localDescription.sdp);c.log(\"SDPs\",o,e),a.notifyMySSRCUpdate(o,e)}),(function(e){e?n(e):t()}))},i.prototype.generateNewStreamSSRCInfo=function(){return this.peerconnection.generateNewStreamSSRCInfo()},i.prototype.removeStream=function(e,t,n,i){if(this.peerconnection){var r=null;if(this.peerconnection.localDescription&&(r=new h(this.peerconnection.localDescription.sdp)),r){if(g.getBrowserType()===g.RTC_BROWSER_FIREFOX){if(!e)return void t();var o=null,a=null;if(e.getAudioTracks()&&e.getAudioTracks().length?a=e.getAudioTracks()[0]:e.getVideoTracks()&&e.getVideoTracks().length&&(a=e.getVideoTracks()[0]),!a){var s=\"Cannot remove tracks: no tracks.\";return c.log(s),void n(new Error(s))}this.peerconnection.peerconnection.getSenders().some((function(e){if(e.track===a)return o=e,!0})),o?this.peerconnection.peerconnection.removeTrack(o):c.log(\"Cannot remove tracks: no RTPSender.\")}else e&&this.peerconnection.removeStream(e,!1,i);this.modifyingLocalStreams=!0;var l=this;this.modifySourcesQueue.push((function(){c.log(\"modify sources done\");var e=new h(l.peerconnection.localDescription.sdp);i&&(l.modifiedSSRCs[i.type]=l.modifiedSSRCs[i.type]||[],l.modifiedSSRCs[i.type].push(i)),c.log(\"SDPs\",r,e),l.notifyMySSRCUpdate(r,e)}),(function(e){e?n(e):t()}))}else t()}else t()},i.prototype.notifyMySSRCUpdate=function(e,t){if(this.state===s.ACTIVE){i=new d(t,e);var n=$iq({to:this.peerjid,type:\"set\"}).c(\"jingle\",{xmlns:\"urn:xmpp:jingle:1\",action:\"source-remove\",initiator:this.initiator,sid:this.sid});i.toJingle(n),this.fixJingle(n)&&n?(c.info(\"Sending source-remove\",n.tree()),this.connection.sendIQ(n,null,this.newJingleErrorHandler(n,(function(e){y.callErrorHandler(new Error(\"Jingle error: \"+JSON.stringify(e)))})),_)):c.log(\"removal not necessary\");var i=new d(e,t),r=$iq({to:this.peerjid,type:\"set\"}).c(\"jingle\",{xmlns:\"urn:xmpp:jingle:1\",action:\"source-add\",initiator:this.initiator,sid:this.sid});i.toJingle(r),this.fixJingle(r)&&r?(c.info(\"Sending source-add\",r.tree()),this.connection.sendIQ(r,null,this.newJingleErrorHandler(r,(function(e){y.callErrorHandler(new Error(\"Jingle error: \"+JSON.stringify(e)))})),_)):c.log(\"addition not necessary\")}else c.warn(\"Skipping SSRC update in '\"+this.state+\" ' state.\")},i.prototype.newJingleErrorHandler=function(e,t){return(function(n){var i={},r=$(n).find(\"error\");if(r.length){i.code=r.attr(\"code\");var o=$(n).find(\"error :first\");o.length&&(i.reason=o[0].tagName)}n||(i.reason=\"timeout\"),i.source=null,e&&\"function\"==typeof e.tree&&(i.source=e.tree()),c.error(\"Jingle error\",i),t&&t(i)}).bind(this)},i.onJingleFatalError=function(e,t){this.room.eventEmitter.emit(m.CONFERENCE_SETUP_FAILED,t),this.room.eventEmitter.emit(m.JINGLE_FATAL_ERROR,e,t)},i.prototype.remoteStreamAdded=function(e){var t=this;return v.isUserStream(e)?((g.isChrome()||g.isNWJS())&&(e.onaddtrack=function(e){t.remoteTrackAdded(e.target,e.track)},e.onremovetrack=function(e){t.remoteTrackRemoved(e.target,e.track)}),e.getAudioTracks().forEach((function(n){t.remoteTrackAdded(e,n)})),void e.getVideoTracks().forEach((function(n){t.remoteTrackAdded(e,n)}))):void c.info(\"Ignored remote 'stream added' event for non-user stream\",e)},i.prototype.remoteTrackAdded=function(e,t){c.info(\"Remote track added\",e,t);var n=v.getStreamID(e),i=t.kind,r={stream:e,track:t,mediaType:t.kind,owner:void 0,muted:null};try{if(!i)throw c.error(\"MediaType undefined\",t),new Error(\"MediaType undefined for remote track\");var o=new h(this.peerconnection.remoteDescription.sdp).media.filter((function(e){return e.startsWith(\"m=\"+i)}));if(!o.length)throw c.error(\"No media for type \"+i+\" found in remote SDP\"),new Error(\"No media for type \"+i+\" found in remote SDP for remote track\");var a,s=p.find_lines(o[0],\"a=ssrc:\");if(!(s=s.filter((function(e){var t=g.isTemasysPluginUsed()?\"mslabel\":\"msid\";return-1!==e.indexOf(t+\":\"+n)}))).length)throw c.error(\"No SSRC lines for \",n),new Error(\"No SSRC lines for streamId \"+n+\" for remote track\");if(a=s[0].substring(7).split(\" \")[0],!this.ssrcOwners[a])throw c.error(\"No SSRC owner known for: \"+a),new Error(\"No SSRC owner known for: \"+a+\" for remote track\");r.owner=this.ssrcOwners[a],c.log(\"associated jid\",this.ssrcOwners[a],a),r.ssrc=a,this.room.remoteTrackAdded(r)}catch(e){y.callErrorHandler(e)}},i.prototype.remoteStreamRemoved=function(e){var t=this;return v.isUserStream(e)?(e.getVideoTracks().forEach((function(n){t.remoteTrackRemoved(e,n)})),void e.getAudioTracks().forEach((function(n){t.remoteTrackRemoved(e,n)}))):void c.info(\"Ignored remote 'stream removed' event for non-user stream\",e)},i.prototype.remoteTrackRemoved=function(e,t){c.info(\"Remote track removed\",e,t);var n=v.getStreamID(e),i=t&&t.id;try{if(!n)throw c.error(\"No stream ID for\",e),new Error(\"Remote track removal failed - No stream ID\");if(!i)throw c.error(\"No track ID for\",t),new Error(\"Remote track removal failed - No track ID\");this.room.eventEmitter.emit(m.REMOTE_TRACK_REMOVED,n,i)}catch(e){y.callErrorHandler(e)}},i.prototype.getIceConnectionState=function(){return this.peerconnection.iceConnectionState},i.prototype.close=function(){this.closed=!0,this.peerconnection&&this.peerconnection.close()},i.prototype.fixJingle=function(e){switch($(e.nodeTree).find(\"jingle\").attr(\"action\")){case\"source-add\":case\"session-accept\":this.fixSourceAddJingle(e);break;case\"source-remove\":this.fixSourceRemoveJingle(e);break;default:var t=\"Unknown jingle action!\";return y.callErrorHandler(t),c.error(t),!1}var n=$(e.tree()).find(\">jingle>content>description>source\");return n&&n.length>0},i.prototype.fixSourceAddJingle=function(e){var t=this.modifiedSSRCs.unmute;this.modifiedSSRCs.unmute=[],t&&t.length&&t.forEach((function(t){var n=$(e.tree()).find('>jingle>content[name=\"'+t.mtype+'\"]>description');n&&n.length&&(t.ssrc.ssrcs.forEach((function(e){n.find('>source[ssrc=\"'+e+'\"]').remove()})),t.ssrc.groups.forEach((function(e){n.find('>ssrc-group[semantics=\"'+e.group.semantics+'\"]:has(source[ssrc=\"'+e.primarySSRC+'\"])').remove()})))})),t=this.modifiedSSRCs.addMuted,this.modifiedSSRCs.addMuted=[],t&&t.length&&t.forEach((function(t){var n=r(e,t.mtype),i=Math.random().toString(36).substring(2);t.ssrc.ssrcs.forEach((function(e){n.find('>source[ssrc=\"'+e+'\"]').remove(),n.append('<source xmlns=\"urn:xmpp:jingle:apps:rtp:ssma:0\" ssrc=\"'+e+'\"><parameter xmlns=\"urn:xmpp:jingle:apps:rtp:ssma:0\" value=\"'+t.msid+'\" name=\"msid\"/><parameter xmlns=\"urn:xmpp:jingle:apps:rtp:ssma:0\" value=\"'+i+'\" name=\"cname\" /></source>')})),t.ssrc.groups.forEach((function(e){n.find('>ssrc-group[semantics=\"'+e.group.semantics+'\"]:has(source[ssrc=\"'+e.primarySSRC+'\"])').remove(),n.append('<ssrc-group semantics=\"'+e.group.semantics+'\" xmlns=\"urn:xmpp:jingle:apps:rtp:ssma:0\"><source ssrc=\"'+e.group.ssrcs.split(\" \").join('\"/><source ssrc=\"')+'\"/></ssrc-group>')}))}))},i.prototype.fixSourceRemoveJingle=function(e){var t=this.modifiedSSRCs.mute;this.modifiedSSRCs.mute=[],t&&t.length&&t.forEach((function(t){t.ssrc.ssrcs.forEach((function(n){$(e.tree()).find('>jingle>content[name=\"'+t.mtype+'\"]>description>source[ssrc=\"'+n+'\"]').remove()})),t.ssrc.groups.forEach((function(n){$(e.tree()).find('>jingle>content[name=\"'+t.mtype+'\"]>description>ssrc-group[semantics=\"'+n.group.semantics+'\"]:has(source[ssrc=\"'+n.primarySSRC+'\"])').remove()}))})),t=this.modifiedSSRCs.remove,this.modifiedSSRCs.remove=[],t&&t.length&&t.forEach((function(t){var n=r(e,t.mtype);t.ssrc.ssrcs.forEach((function(e){var t=n.find('>source[ssrc=\"'+e+'\"]');t&&t.length||n.append('<source xmlns=\"urn:xmpp:jingle:apps:rtp:ssma:0\" ssrc=\"'+e+'\"></source>')})),t.ssrc.groups.forEach((function(e){var t=n.find('>ssrc-group[semantics=\"'+e.group.semantics+'\"]:has(source[ssrc=\"'+e.primarySSRC+'\"])');t&&t.length||n.append('<ssrc-group semantics=\"'+e.group.semantics+'\" xmlns=\"urn:xmpp:jingle:apps:rtp:ssma:0\"><source ssrc=\"'+e.group.ssrcs.split(\" \").join('\"/><source ssrc=\"')+'\"/></ssrc-group>')}))}))},e.exports=i}).call(t,\"modules/xmpp/JingleSessionPC.js\")},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.PENDING=\"pending\",t.ACTIVE=\"active\",t.ENDED=\"ended\"},function(e,t,n){(function(t){\"use strict\";function i(e,t,n,i,r,o,a,s){this.me=e,this.sid=t,this.peerjid=n,this.connection=i,this.service=a,this.eventEmitter=s,this.usedrip=!0,this.drip_container=[],this.media_constraints=r,this.ice_config=o,this.room=null,this.state=null}var r=n(9),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(45)),a=(0,r.getLogger)(t);i.prototype.initialize=function(e,t){if(null!==this.state){var n=\"attempt to initiate on session \"+this.sid+\"in state \"+this.state;throw a.error(n),new Error(n)}this.room=t,this.state=o.PENDING,this.initiator=e?this.me:this.peerjid,this.responder=e?this.peerjid:this.me,this.doInitialize()},i.prototype.doInitialize=function(){},i.prototype.addIceCandidates=function(e){},i.prototype.getState=function(){return this.state},i.prototype.addSources=function(e){},i.prototype.removeSources=function(e){},i.prototype.terminate=function(e,t,n,i){},i.prototype.acceptOffer=function(e,t,n){},e.exports=i}).call(t,\"modules/xmpp/JingleSession.js\")},function(e,t,n){(function(t){\"use strict\";function i(e,t,i){var r=this;this.session=i,this.replaceSSRCs={audio:[],video:[]},this.recvOnlySSRCs={};var o=null;o=c.isFirefox()?mozRTCPeerConnection:c.isTemasysPluginUsed()?RTCPeerConnection:webkitRTCPeerConnection,this.peerconnection=new o(e,t),this.updateLog=[],this.stats={},this.statsinterval=null,this.maxstats=0;var a=n(123).Interop;this.interop=new a;var s=n(127);this.simulcast=new s({numOfLayers:h,explodeRemoteSimulcast:!1}),this.eventEmitter=this.session.room.eventEmitter,this.trace=function(e,t){r.updateLog.push({time:new Date,type:e,value:t||\"\"})},this.onicecandidate=null,this.peerconnection.onicecandidate=function(e){c.isTemasysPluginUsed()||r.trace(\"onicecandidate\",JSON.stringify(e.candidate,null,\" \")),null!==r.onicecandidate&&r.onicecandidate(e)},this.onaddstream=null,this.peerconnection.onaddstream=function(e){r.trace(\"onaddstream\",e.stream.id),null!==r.onaddstream&&r.onaddstream(e)},this.onremovestream=null,this.peerconnection.onremovestream=function(e){r.trace(\"onremovestream\",e.stream.id),null!==r.onremovestream&&r.onremovestream(e)},this.onsignalingstatechange=null,this.peerconnection.onsignalingstatechange=function(e){r.trace(\"onsignalingstatechange\",r.signalingState),null!==r.onsignalingstatechange&&r.onsignalingstatechange(e)},this.oniceconnectionstatechange=null,this.peerconnection.oniceconnectionstatechange=function(e){r.trace(\"oniceconnectionstatechange\",r.iceConnectionState),null!==r.oniceconnectionstatechange&&r.oniceconnectionstatechange(e)},this.onnegotiationneeded=null,this.peerconnection.onnegotiationneeded=function(e){r.trace(\"onnegotiationneeded\"),null!==r.onnegotiationneeded&&r.onnegotiationneeded(e)},r.ondatachannel=null,this.peerconnection.ondatachannel=function(e){r.trace(\"ondatachannel\",e),null!==r.ondatachannel&&r.ondatachannel(e)},!c.isFirefox()&&this.maxstats&&(this.statsinterval=window.setInterval((function(){r.peerconnection.getStats((function(e){for(var t=e.result(),n=new Date,i=0;i<t.length;++i)t[i].names().forEach((function(e){var o=t[i].id+\"-\"+e;r.stats[o]||(r.stats[o]={startTime:n,endTime:n,values:[],times:[]}),r.stats[o].values.push(t[i].stat(e)),r.stats[o].times.push(n.getTime()),r.stats[o].values.length>r.maxstats&&(r.stats[o].values.shift(),r.stats[o].times.shift()),r.stats[o].endTime=n}))}))}),1e3))}function r(e){if(\"object\"!==(void 0===e?\"undefined\":o(e))||null===e||\"string\"!=typeof e.sdp)return a.warn(\"An empty description was passed as an argument.\"),e;var t={},n={},i=u.parse(e.sdp);return Array.isArray(i.media)?(i.media.forEach((function(e){Array.isArray(e.ssrcs)&&(void 0!==e.ssrcGroups&&Array.isArray(e.ssrcGroups)&&e.ssrcGroups.forEach((function(e){if(void 0!==e.semantics&&void 0!==e.ssrcs){var t=Number(e.ssrcs.split(\" \")[0]);n[t]=n[t]||[],n[t].push(e)}})),e.ssrcs.forEach((function(e){\"msid\"===e.attribute&&(t[e.value]=t[e.value]||{groups:[],ssrcs:[]},t[e.value].ssrcs.push(e.id),n[e.id]&&n[e.id].forEach((function(n){t[e.value].groups.push({primarySSRC:e.id,group:n})})))})))})),t):void 0}var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},a=(0,n(9).getLogger)(t),s=n(48),c=n(32),l=n(35),u=n(119),d=n(31),p=n(39),h=3,f=function(e){return void 0===e||null==e?\"\":\"type: \"+e.type+\"\\r\\n\"+e.sdp};i.prototype.ssrcReplacement=function(e){if(\"object\"!==(void 0===e?\"undefined\":o(e))||null===e||\"string\"!=typeof e.sdp)return a.warn(\"An empty description was passed as an argument.\"),e;var t=u.parse(e.sdp);if(Array.isArray(t.media)){var n=!1;return t.media.forEach((function(e){if(this.replaceSSRCs[e.type]){n=!0;for(var t=this.replaceSSRCs[e.type].splice(0,1),i=[];t&&t.length;){var r=t[0];switch(r.type){case\"mute\":case\"addMuted\":e.ssrcs||(e.ssrcs=[]);var o=r.ssrc.groups,s=null;if(o&&o.length)s=o[0].primarySSRC;else{if(!r.ssrc.ssrcs||!r.ssrc.ssrcs.length){p.callErrorHandler(new Error(\"SSRC replacement error!\")),a.error(\"SSRC replacement error!\");break}s=r.ssrc.ssrcs[0]}e.ssrcs.push({id:s,attribute:\"cname\",value:[\"recvonly-\",s].join(\"\")}),this.recvOnlySSRCs[e.type]=s;break;case\"unmute\":var c,l,u;if(\"break\"===function(){if(!r.ssrc||!r.ssrc.ssrcs||!r.ssrc.ssrcs.length)return\"break\";for(c={},l=r.ssrc.ssrcs.length-1,u=0;u<e.ssrcs.length;u++){var t=e.ssrcs[u];if((\"msid\"===t.attribute||t.value===r.msid)&&(c[t.id]=r.ssrc.ssrcs[l],--l<0))break}var n=r.ssrc.groups;return void 0!==e.ssrcGroups&&Array.isArray(e.ssrcGroups)&&n&&n.length&&e.ssrcGroups.forEach((function(e){if(e.ssrcs){for(var t=e.ssrcs.split(\" \"),i=null,r=0;r<n.length;r++){var o=(i=n[r].group).ssrcs.split(\" \");if(i.semantics===e.semantics){for(var a=!1,s=0;s<t.length;s++)if(-1===i.ssrcs.indexOf(c[t[s]])){a=!0;break}if(!a){for(s=0;s<o.length;s++)c[t[s]]=o[s];break}}}e.ssrcs=i.ssrcs}})),e.ssrcs.forEach((function(e){c[e.id]&&(e.id=c[e.id])})),i.push(r),\"break\"}())break}t=this.replaceSSRCs[e.type].splice(0,1)}if(this.replaceSSRCs[e.type]=i,!Array.isArray(e.ssrcs)||0===e.ssrcs.length){var h=this.recvOnlySSRCs[e.type]=this.recvOnlySSRCs[e.type]||d.randomInt(1,4294967295);e.ssrcs=[{id:h,attribute:\"cname\",value:[\"recvonly-\",h].join(\"\")}]}}}).bind(this)),n?new RTCSessionDescription({type:e.type,sdp:u.write(t)}):e}};var m=function(e){if(\"object\"!==(void 0===e?\"undefined\":o(e))||null===e||\"string\"!=typeof e.sdp)return a.warn(\"An empty description was passed as an argument.\"),e;var t=n(119),i=t.parse(e.sdp);void 0!==i&&void 0!==i.media&&Array.isArray(i.media)&&i.media.forEach((function(e){var t=[],n=[];if(void 0!==e.ssrcGroups&&Array.isArray(e.ssrcGroups)&&e.ssrcGroups.forEach((function(e){void 0!==e.semantics&&\"FID\"===e.semantics&&void 0!==e.ssrcs&&t.push(Number(e.ssrcs.split(\" \")[0]))})),void 0!==e.ssrcs&&Array.isArray(e.ssrcs)){var i;for(i=0;i<e.ssrcs.length;i++)\"object\"===o(e.ssrcs[i])&&void 0!==e.ssrcs[i].id&&t.indexOf(e.ssrcs[i].id)>=0&&(n.push(e.ssrcs[i]),delete e.ssrcs[i]);for(i=0;i<e.ssrcs.length;i++)void 0!==e.ssrcs[i]&&n.push(e.ssrcs[i]);e.ssrcs=n}}));var r=t.write(i);return new RTCSessionDescription({type:e.type,sdp:r})},g={signalingState:function(){return this.peerconnection.signalingState},iceConnectionState:function(){return this.peerconnection.iceConnectionState},localDescription:function(){var e=this.peerconnection.localDescription;return this.trace(\"getLocalDescription::preTransform\",f(e)),c.usesUnifiedPlan()&&(e=this.interop.toPlanB(e),this.trace(\"getLocalDescription::postTransform (Plan B)\",f(e))),e},remoteDescription:function(){var e=this.peerconnection.remoteDescription;return this.trace(\"getRemoteDescription::preTransform\",f(e)),c.usesUnifiedPlan()&&(e=this.interop.toPlanB(e),this.trace(\"getRemoteDescription::postTransform (Plan B)\",f(e))),e}};Object.keys(g).forEach((function(e){Object.defineProperty(i.prototype,e,{get:g[e]})})),i.prototype.addStream=function(e,t){this.trace(\"addStream\",e?e.id:\"null\"),e&&this.peerconnection.addStream(e),t&&this.replaceSSRCs[t.mtype]&&this.replaceSSRCs[t.mtype].push(t)},i.prototype.removeStream=function(e,t,n){if(this.trace(\"removeStream\",e.id),t&&s.stopMediaStream(e),this.peerconnection.removeStream&&(this.peerconnection.removeStream(e),n&&this.replaceSSRCs[n.mtype])){for(var i=0;i<this.replaceSSRCs[n.mtype].length;i++){var r=this.replaceSSRCs[n.mtype][i];if(\"unmute\"===r.type&&r.ssrc.ssrcs.join(\"_\")===n.ssrc.ssrcs.join(\"_\")){this.replaceSSRCs[n.mtype].splice(i,1);break}}this.replaceSSRCs[n.mtype].push(n)}},i.prototype.createDataChannel=function(e,t){return this.trace(\"createDataChannel\",e,t),this.peerconnection.createDataChannel(e,t)},i.prototype.setLocalDescription=function(e,t,n){this.trace(\"setLocalDescription::preTransform\",f(e)),c.usesUnifiedPlan()&&(e=this.interop.toUnifiedPlan(e),this.trace(\"setLocalDescription::postTransform (Plan A)\",f(e)));var i=this;this.peerconnection.setLocalDescription(e,(function(){i.trace(\"setLocalDescriptionOnSuccess\"),t()}),(function(e){i.trace(\"setLocalDescriptionOnFailure\",e),i.eventEmitter.emit(l.SET_LOCAL_DESCRIPTION_FAILED,e,i.peerconnection),n(e)}))},i.prototype.setRemoteDescription=function(e,t,n){this.trace(\"setRemoteDescription::preTransform\",f(e)),e=this.simulcast.mungeRemoteDescription(e),this.trace(\"setRemoteDescription::postTransform (simulcast)\",f(e)),c.usesUnifiedPlan()&&(e=this.interop.toUnifiedPlan(e),this.trace(\"setRemoteDescription::postTransform (Plan A)\",f(e))),c.usesPlanB()&&(e=m(e));var i=this;this.peerconnection.setRemoteDescription(e,(function(){i.trace(\"setRemoteDescriptionOnSuccess\"),t()}),(function(e){i.trace(\"setRemoteDescriptionOnFailure\",e),i.eventEmitter.emit(l.SET_REMOTE_DESCRIPTION_FAILED,e,i.peerconnection),n(e)}))},i.prototype.close=function(){this.trace(\"stop\"),null!==this.statsinterval&&(window.clearInterval(this.statsinterval),this.statsinterval=null),this.peerconnection.close()},i.prototype.createAnswer=function(e,t,n){var i=this;this.trace(\"createAnswer\",JSON.stringify(n,null,\" \")),this.peerconnection.createAnswer((function(n){try{i.trace(\"createAnswerOnSuccess::preTransform\",f(n)),c.usesUnifiedPlan()&&(n=i.interop.toPlanB(n),i.trace(\"createAnswerOnSuccess::postTransform (Plan B)\",f(n))),!i.session.room.options.disableSimulcast&&i.simulcast.isSupported()&&(n=i.simulcast.mungeLocalDescription(n),i.trace(\"createAnswerOnSuccess::postTransform (simulcast)\",f(n))),c.isFirefox()||(n=i.ssrcReplacement(n),i.trace(\"createAnswerOnSuccess::mungeLocalVideoSSRC\",f(n))),i.eventEmitter.emit(l.SENDRECV_STREAMS_CHANGED,r(n)),e(n)}catch(e){i.trace(\"createAnswerOnError\",e),i.trace(\"createAnswerOnError\",f(n)),a.error(\"createAnswerOnError\",e,f(n)),t(e)}}),(function(e){i.trace(\"createAnswerOnFailure\",e),i.eventEmitter.emit(l.CREATE_ANSWER_FAILED,e,i.peerconnection),t(e)}),n)},i.prototype.addIceCandidate=function(e,t,n){this.trace(\"addIceCandidate\",JSON.stringify(e,null,\" \")),this.peerconnection.addIceCandidate(e)},i.prototype.getStats=function(e,t){c.isFirefox()||c.isTemasysPluginUsed()||c.isReactNative()?(t||(t=function(){}),this.peerconnection.getStats(null,e,t)):this.peerconnection.getStats(e)},i.prototype.generateNewStreamSSRCInfo=function(){if(!this.session.room.options.disableSimulcast&&this.simulcast.isSupported()){for(var e={ssrcs:[],groups:[]},t=0;t<h;t++)e.ssrcs.push(d.randomInt(1,4294967295));return e.groups.push({primarySSRC:e.ssrcs[0],group:{ssrcs:e.ssrcs.join(\" \"),semantics:\"SIM\"}}),e}return{ssrcs:[d.randomInt(1,4294967295)],groups:[]}},e.exports=i}).call(t,\"modules/xmpp/TraceablePeerConnection.js\")},function(e,t,n){(function(t){\"use strict\";function i(e,t){this.conference=e,this.localTracks=[],this.remoteTracks={},this.localAudio=null,this.localVideo=null,this.eventEmitter=new s;var n=this;this.options=t||{},this.dataChannelsOpen=!1,l.isDeviceChangeAvailable(\"output\")&&l.addListener(c.AUDIO_OUTPUT_DEVICE_CHANGED,(function(e){for(var t in n.remoteTracks)n.remoteTracks.hasOwnProperty(t)&&n.remoteTracks[t].audio&&n.remoteTracks[t].audio.setAudioOutput(e)}))}var r=function(e){return e&&e.__esModule?e:{default:e}}(n(6)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7)),a=n(9).getLogger(t),s=n(14),c=n(49),l=n(50),u=n(57),d=n(117),p=n(118),h=n(36),f=n(55),m=n(39);i.obtainAudioAndVideoPermissions=function(e){return l.obtainAudioAndVideoPermissions(e).then((function(t){var n=function(e,t){var n=[],i=null;return e.forEach((function(e){e.mediaType===h.AUDIO?i=t.micDeviceId:e.videoType===f.CAMERA&&(i=t.cameraDeviceId);var r=new u(e.stream,e.track,e.mediaType,e.videoType,e.resolution,i,t.facingMode);n.push(r)})),n}(t,e);return n.some((function(e){return!e._isReceivingData()}))?Promise.reject(new r.default(o.NO_DATA_FROM_SOURCE)):n}))},i.prototype.onIncommingCall=function(e){var t=this;this.options.config.openSctp&&(this.dataChannels=new d(e.peerconnection,this.eventEmitter),this._dataChannelOpenListener=function(){t.dataChannelsOpen=!0;try{t.dataChannels.sendSelectedEndpointMessage(t.selectedEndpoint)}catch(e){m.callErrorHandler(e),a.error(\"Cannot sendSelectedEndpointMessage \",t.selectedEndpoint,\". Error: \",e)}t.removeListener(c.DATA_CHANNEL_OPEN,t._dataChannelOpenListener),t._dataChannelOpenListener=null},this.addListener(c.DATA_CHANNEL_OPEN,this._dataChannelOpenListener))},i.prototype.onCallEnded=function(){this.dataChannels&&(this.dataChannels=null,this.dataChannelsOpen=!1)},i.prototype.selectEndpoint=function(e){this.selectedEndpoint=e,this.dataChannels&&this.dataChannelsOpen&&this.dataChannels.sendSelectedEndpointMessage(e)},i.prototype.pinEndpoint=function(e){if(!this.dataChannels)throw new Error(\"Data channels support is disabled!\");this.dataChannels.sendPinnedEndpointMessage(e)},i.prototype.addListener=function(e,t){this.eventEmitter.on(e,t)},i.prototype.removeListener=function(e,t){this.eventEmitter.removeListener(e,t)},i.addListener=function(e,t){l.addListener(e,t)},i.removeListener=function(e,t){l.removeListener(e,t)},i.isRTCReady=function(){return l.isRTCReady()},i.init=function(e){return this.options=e||{},l.init(this.options)},i.getDeviceAvailability=function(){return l.getDeviceAvailability()},i.prototype.addLocalTrack=function(e){if(!e)throw new Error(\"track must not be null nor undefined\");this.localTracks.push(e),e.conference=this.conference,e.isAudioTrack()?this.localAudio=e:this.localVideo=e},i.prototype.getLocalVideoTrack=function(){return this.localVideo},i.prototype.getRemoteTrackByType=function(e,t){return this.remoteTracks[t]?this.remoteTracks[t][e]:null},i.prototype.getRemoteAudioTrack=function(e){return this.getRemoteTrackByType(h.AUDIO,e)},i.prototype.getRemoteVideoTrack=function(e){return this.getRemoteTrackByType(h.VIDEO,e)},i.prototype.setAudioMute=function(e){for(var t=[],n=0;n<this.localTracks.length;n++){var i=this.localTracks[n];i.getType()===h.AUDIO&&t.push(e?i.mute():i.unmute())}return Promise.all(t)},i.prototype.removeLocalTrack=function(e){var t=this.localTracks.indexOf(e);-1!==t&&(this.localTracks.splice(t,1),e.isAudioTrack()?this.localAudio=null:this.localVideo=null)},i.prototype.createRemoteTrack=function(e){var t=e.owner,n=new p(this,this.conference,t,e.stream,e.track,e.mediaType,e.videoType,e.ssrc,e.muted),i=Strophe.getResourceFromJid(t),r=this.remoteTracks[i]||(this.remoteTracks[i]={}),o=n.getType();return r[o]&&a.warn(\"Overwriting remote track!\",i,o),r[o]=n,n},i.prototype.removeRemoteTracks=function(e){var t=[],n=this.removeRemoteTrack(e,h.AUDIO),i=this.removeRemoteTrack(e,h.VIDEO);return n&&t.push(n),i&&t.push(i),delete this.remoteTracks[e],t},i.prototype.removeRemoteTrack=function(e,t){var n=this.remoteTracks[e];if(n&&n[t]){var i=n[t];return i.dispose(),delete n[t],i}},i.getPCConstraints=function(){return l.pc_constraints},i.attachMediaStream=function(e,t){return l.attachMediaStream(e,t)},i.getStreamID=function(e){return l.getStreamID(e)},i.isDeviceListAvailable=function(){return l.isDeviceListAvailable()},i.isDeviceChangeAvailable=function(e){return l.isDeviceChangeAvailable(e)},i.getAudioOutputDevice=function(){return l.getAudioOutputDevice()},i.getCurrentlyAvailableMediaDevices=function(){return l.getCurrentlyAvailableMediaDevices()},i.getEventDataForActiveDevice=function(e){return l.getEventDataForActiveDevice(e)},i.setAudioOutputDevice=function(e){return l.setAudioOutputDevice(e)},i.isUserStream=function(e){var t=l.getStreamID(e);return t&&\"mixedmslabel\"!==t&&\"default\"!==t},i.enumerateDevices=function(e){l.enumerateDevices(e)},i.stopMediaStream=function(e){l.stopMediaStream(e)},i.isDesktopSharingEnabled=function(){return l.isDesktopSharingEnabled()},i.prototype.closeAllDataChannels=function(){this.dataChannels&&(this.dataChannels.closeAllChannels(),this.dataChannelsOpen=!1)},i.prototype.dispose=function(){},i.prototype.setAudioLevel=function(e,t){if(e){var n=this.getRemoteAudioTrack(e);n&&n.setAudioLevel(t)}},i.prototype.getResourceBySSRC=function(e){if(this.localVideo&&e==this.localVideo.getSSRC()||this.localAudio&&e==this.localAudio.getSSRC())return this.conference.myUserId();var t=this.getRemoteTrackBySSRC(e);return t?t.getParticipantId():null},i.prototype.getRemoteTrackBySSRC=function(e){for(var t in this.remoteTracks){var n=this.getRemoteAudioTrack(t);if(n&&n.getSSRC()==e)return n;if((n=this.getRemoteVideoTrack(t))&&n.getSSRC()==e)return n}return null},i.prototype.handleRemoteTrackMute=function(e,t,n){var i=this.getRemoteTrackByType(e,n);i&&i.setMute(t)},i.prototype.handleRemoteTrackVideoTypeChanged=function(e,t){var n=this.getRemoteVideoTrack(t);n&&n._setVideoType(e)},i.prototype.sendDataChannelMessage=function(e,t){if(!this.dataChannels)throw new Error(\"Data channels support is disabled!\");this.dataChannels.sendDataChannelMessage(e,t)},e.exports=i}).call(t,\"modules/RTC/RTC.js\")},function(e,t){\"use strict\";e.exports={RTC_READY:\"rtc.ready\",DATA_CHANNEL_OPEN:\"rtc.data_channel_open\",ENDPOINT_CONN_STATUS_CHANGED:\"rtc.endpoint_conn_status_changed\",LASTN_CHANGED:\"rtc.lastn_changed\",DOMINANTSPEAKER_CHANGED:\"rtc.dominantspeaker_changed\",LASTN_ENDPOINT_CHANGED:\"rtc.lastn_endpoint_changed\",AVAILABLE_DEVICES_CHANGED:\"rtc.available_devices_changed\",TRACK_ATTACHED:\"rtc.track_attached\",REMOTE_TRACK_MUTE:\"rtc.remote_track_mute\",REMOTE_TRACK_UNMUTE:\"rtc.remote_track_unmute\",AUDIO_OUTPUT_DEVICE_CHANGED:\"rtc.audio_output_device_changed\",DEVICE_LIST_CHANGED:\"rtc.device_list_changed\",DEVICE_LIST_AVAILABLE:\"rtc.device_list_available\",ENDPOINT_MESSAGE_RECEIVED:\"rtc.endpoint_message_received\"}},function(e,t,n){(function(t){\"use strict\";function i(e,t){var n={audio:!1,video:!1},i=b.isFirefox()||b.isReactNative()||b.isTemasysPluginUsed();if(e.indexOf(\"video\")>=0){if(n.video={mandatory:{},optional:[]},t.cameraDeviceId)i&&(n.video.deviceId=t.cameraDeviceId),n.video.optional.push({sourceId:t.cameraDeviceId});else{var r=t.facingMode||R.USER;i&&(n.video.facingMode=r),n.video.optional.push({facingMode:r})}n.video.optional.push({googLeakyBucket:!0}),function(e,t){var n=b.isAndroid();_[t]?(e.video.mandatory.minWidth=_[t].width,e.video.mandatory.minHeight=_[t].height):n&&(e.video.mandatory.minWidth=320,e.video.mandatory.minHeight=180,e.video.mandatory.maxFrameRate=15),e.video.mandatory.minWidth&&(e.video.mandatory.maxWidth=e.video.mandatory.minWidth),e.video.mandatory.minHeight&&(e.video.mandatory.maxHeight=e.video.mandatory.minHeight)}(n,t.resolution)}if(e.indexOf(\"audio\")>=0&&(b.isReactNative()?n.audio=!0:b.isFirefox()?n.audio=!t.micDeviceId||{mandatory:{},deviceId:t.micDeviceId,optional:[{sourceId:t.micDeviceId}]}:(n.audio={mandatory:{},optional:[]},t.micDeviceId&&(i&&(n.audio.deviceId=t.micDeviceId),n.audio.optional.push({sourceId:t.micDeviceId})),n.audio.optional.push({googEchoCancellation:!M},{googAutoGainControl:!0},{googNoiseSupression:!P},{googHighpassFilter:!0},{googNoiseSuppression2:!P},{googEchoCancellation2:!M},{googAutoGainControl2:!0}))),e.indexOf(\"screen\")>=0)if(b.isChrome())n.video={mandatory:{chromeMediaSource:\"screen\",googLeakyBucket:!0,maxWidth:window.screen.width,maxHeight:window.screen.height,maxFrameRate:3},optional:[]};else if(b.isTemasysPluginUsed())n.video={optional:[{sourceId:D.WebRTCPlugin.plugin.screensharingKey}]};else if(b.isFirefox())n.video={mozMediaSource:\"window\",mediaSource:\"window\"};else{var o=\"'screen' WebRTC media source is supported only in Chrome and with Temasys plugin\";k.callErrorHandler(new Error(o)),y.error(o)}return e.indexOf(\"desktop\")>=0&&(n.video={mandatory:{chromeMediaSource:\"desktop\",chromeMediaSourceId:t.desktopStream,googLeakyBucket:!0,maxWidth:window.screen.width,maxHeight:window.screen.height,maxFrameRate:3},optional:[]}),t.bandwidth&&(n.video||(n.video={mandatory:{},optional:[]}),n.video.optional.push({bandwidth:t.bandwidth})),(t.minFps||t.maxFps||t.fps)&&(n.video||(n.video={mandatory:{},optional:[]}),(t.minFps||t.fps)&&(t.minFps=t.minFps||t.fps,n.video.mandatory.minFrameRate=t.minFps),t.maxFps&&(n.video.mandatory.maxFrameRate=t.maxFps)),b.isFirefox()&&t.firefox_fake_device&&(n.fake=!0),n}function r(e,t){var n=t&&!!t.getAudioTracks().length,i=t&&!!t.getVideoTracks().length;-1!=e.indexOf(\"video\")&&(O.video=i),-1!=e.indexOf(\"audio\")&&(O.audio=n),x.emit(E.AVAILABLE_DEVICES_CHANGED,O)}function o(){U&&U((function(e){void 0===g?g=e.slice(0):function(e){function t(e){return JSON.stringify({kind:e.kind,deviceId:e.deviceId,groupId:e.groupId,label:e.label,facing:e.facing})}return e.length!==g.length||e.map(t).sort().join(\"\")!==g.map(t).sort().join(\"\")}(e)&&a(e),window.setTimeout(o,I)}))}function a(e){g=e.slice(0),y.info(\"list of media devices has changed:\",g);var t=g.filter((function(e){return\"videoinput\"===e.kind})),n=g.filter((function(e){return\"audioinput\"===e.kind})),i=t.filter((function(e){return\"\"===e.label})),r=n.filter((function(e){return\"\"===e.label}));t.length&&t.length===i.length&&(O.video=!1),n.length&&n.length===r.length&&(O.audio=!1),x.emit(E.DEVICE_LIST_CHANGED,e)}function s(e,t){H=!0,x.emit(E.RTC_READY,!0),S.init(e,t),U=navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?function(e){navigator.mediaDevices.enumerateDevices().then(e,(function(){e([])}))}:MediaStreamTrack&&MediaStreamTrack.getSources?function(e){MediaStreamTrack.getSources((function(t){e(t.map(p))}))}:void 0,G.isDeviceListAvailable()&&U&&U((function(e){g=e.splice(0),x.emit(E.DEVICE_LIST_AVAILABLE,g),B?navigator.mediaDevices.addEventListener(\"devicechange\",(function(){G.enumerateDevices(a)})):o()}))}function c(e,t){e&&e.apply(null,t||[])}function l(e){return function(t,n,i){e(t,(function(e){c(n,[e]),J.initialized||(J.initialized=!0,J.callbacks.forEach((function(e){e()})),J.callbacks.length=0)}),(function(e){c(i,[e])}))}}function u(e){return function(t){!function(e){J.initialized?e():J.callbacks.push(e)}((function(){e().then(t,(function(e){y.error(\"cannot enumerate devices: \",e),t([])}))}))}}function d(e){MediaStreamTrack.getSources((function(t){e(t.map(p))}))}function p(e){var t=(e.kind||\"\").toLowerCase();return{facing:e.facing||null,label:e.label,kind:t?\"audiooutput\"===t?t:t+\"input\":null,deviceId:e.id,groupId:e.groupId||null}}function h(e){if(!e.devices||0===e.devices.length)return e.successCallback(e.streams||{});var t=e.devices.splice(0,1);[].push(t),e.deviceGUM[t]((function(n){e.streams=e.streams||{},e.streams[t]=n,h(e)}),(function(n){Object.keys(e.streams).forEach((function(t){G.stopMediaStream(e.streams[t])})),y.error(\"failed to obtain \"+t+\" stream - stop\",n),e.errorCallback(n)}))}function f(e){return function(t,n){var i=e.apply(G,arguments);return n&&G.isDeviceChangeAvailable(\"output\")&&n.getAudioTracks&&n.getAudioTracks().length&&L&&t.setSinkId(G.getAudioOutputDevice()).catch((function(e){var n=new v.default(e,null,[\"audiooutput\"]);k.callUnhandledRejectionHandler({promise:this,reason:n}),y.warn(\"Failed to set audio output device for the element. Default audio output device will be used instead\",t,n)})),i}}function m(e,t){var n,i=\"srcObject\";i in e||(i=\"mozSrcObject\")in e||(i=null),i?e[i]=t:(t&&((n=t.jitsiObjectURL)||(t.jitsiObjectURL=n=(URL||webkitURL).createObjectURL(t))),e.src=n||\"\")}var g,v=function(e){return e&&e.__esModule?e:{default:e}}(n(6)),y=n(9).getLogger(t),b=n(32),_=n(51),E=n(49),w=n(52),T=n(14),S=n(53),C=n(36),A=n(55),R=n(56),k=n(39),D=b.isTemasysPluginUsed()?n(54):void 0,x=new T,I=3e3,O={audio:!1,video:!1},N=\"default\",L=!1,M=!1,P=!1,j=document.createElement(\"audio\"),F=void 0!==j.setSinkId,U=void 0,B=!1,H=!1,J={initialized:!1,callbacks:[]},G={init:function(e){return\"boolean\"==typeof e.disableAEC&&y.info(\"Disable AEC: \"+(M=e.disableAEC)),\"boolean\"==typeof e.disableNS&&y.info(\"Disable NS: \"+(P=e.disableNS)),new Promise((function(t,n){if(b.isFirefox()){var i=b.getFirefoxVersion();if(i<40)return y.error(\"Firefox version too old: \"+i+\". Required >= 40.\"),void n(new Error(\"Firefox version too old: \"+i+\". Required >= 40.\"));this.peerconnection=mozRTCPeerConnection,this.getUserMedia=l(navigator.mozGetUserMedia.bind(navigator)),this.enumerateDevices=u(navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices)),this.pc_constraints={},this.attachMediaStream=f((function(e,t){return e&&(m(e,t),t&&e.play()),e})),this.getStreamID=function(e){var t=e.id;if(!t){var n=e.getVideoTracks();n&&0!==n.length||(n=e.getAudioTracks()),t=n[0].id}return w.filter_special_chars(t)},RTCSessionDescription=mozRTCSessionDescription,RTCIceCandidate=mozRTCIceCandidate}else if(b.isChrome()||b.isOpera()||b.isNWJS()||b.isReactNative()){this.peerconnection=webkitRTCPeerConnection;var r=navigator.webkitGetUserMedia.bind(navigator);navigator.mediaDevices?(this.getUserMedia=l(r),this.enumerateDevices=u(navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices))):(this.getUserMedia=r,this.enumerateDevices=d),this.attachMediaStream=f((function(e,t){return m(e,t),e})),this.getStreamID=function(e){var t=e.id;return\"number\"==typeof t?t:w.filter_special_chars(t)},this.pc_constraints={optional:[{DtlsSrtpKeyAgreement:\"true\"}]},e.useIPv6&&this.pc_constraints.optional.push({googIPv6:!0}),b.isAndroid()&&(this.pc_constraints={}),webkitMediaStream.prototype.getVideoTracks||(webkitMediaStream.prototype.getVideoTracks=function(){return this.videoTracks}),webkitMediaStream.prototype.getAudioTracks||(webkitMediaStream.prototype.getAudioTracks=function(){return this.audioTracks})}else{if(!b.isTemasysPluginUsed()){var o=\"Browser does not appear to be WebRTC-capable\";return y.error(o),void n(new Error(o))}var a=this;D.webRTCReady((function(){a.peerconnection=RTCPeerConnection,a.getUserMedia=window.getUserMedia,a.enumerateDevices=d,a.attachMediaStream=f((function(e,t){if(t){if(\"dummyAudio\"===t.id||\"dummyVideo\"===t.id)return;var n=$(e);if(b.isTemasysPluginUsed()&&!n.is(\":visible\")&&n.show(),t.getVideoTracks().length&&!$(e).is(\":visible\"))throw new Error(\"video element must be visible to attach video stream\")}return attachMediaStream(e,t)})),a.getStreamID=function(e){return w.filter_special_chars(e.label)},s(e,a.getUserMediaWithConstraints.bind(a)),t()}))}b.isTemasysPluginUsed()||(s(e,this.getUserMediaWithConstraints.bind(this)),t())}).bind(this))},getUserMediaWithConstraints:function(t,n,o,a){var s=i(t,a=a||{});y.info(\"Get media constraints\",s);try{this.getUserMedia(s,(function(e){y.log(\"onUserMediaSuccess\"),r(t,e),n(e)}),(function(e){r(t,void 0),y.warn(\"Failed to get access to local media. Error \",e,s),o&&o(new v.default(e,s,t))}))}catch(e){y.error(\"GUM failed: \",e),o&&o(new v.default(e,s,t))}},obtainAudioAndVideoPermissions:function(e){var t=this,n=(e=e||{}).desktopSharingExtensionExternalInstallation;return new Promise((function(r,o){var a=function(t){r(function(e,t){var n,i,r,o=[];if(e){var a=e.audioVideo;if(a){var s=a.getAudioTracks();if(s.length){n=new webkitMediaStream;for(var c=0;c<s.length;c++)n.addTrack(s[c])}var l=a.getVideoTracks();if(l.length){i=new webkitMediaStream;for(var u=0;u<l.length;u++)i.addTrack(l[u])}}else n=e.audio,i=e.video;r=e.desktopStream||e.desktop}return r&&o.push({stream:r,track:r.getVideoTracks()[0],mediaType:C.VIDEO,videoType:A.DESKTOP}),n&&o.push({stream:n,track:n.getAudioTracks()[0],mediaType:C.AUDIO,videoType:null}),i&&o.push({stream:i,track:i.getVideoTracks()[0],mediaType:C.VIDEO,videoType:A.CAMERA,resolution:t}),o}(t,e.resolution))};if(e.devices=e.devices||[\"audio\",\"video\"],S.isSupported()||-1===e.devices.indexOf(\"desktop\")||o(new Error(\"Desktop sharing is not supported!\")),b.isFirefox()||b.isReactNative()||b.isTemasysPluginUsed()){var s=function(t,n,i){this.getUserMediaWithConstraints(t,n,i,e)},c={audio:s.bind(t,[\"audio\"]),video:s.bind(t,[\"video\"])};S.isSupported()&&(c.desktop=S.obtainStream.bind(S,n)),h({devices:e.devices,streams:[],successCallback:a,errorCallback:o,deviceGUM:c})}else{var l=e.devices.indexOf(\"desktop\")>-1;l&&e.devices.splice(e.devices.indexOf(\"desktop\"),1),e.resolution=e.resolution||\"360\",e.devices.length?this.getUserMediaWithConstraints(e.devices,(function(r){var s=-1!==e.devices.indexOf(\"audio\"),c=-1!==e.devices.indexOf(\"video\"),u=!!r.getAudioTracks().length,d=!!r.getVideoTracks().length;if(s&&!u||c&&!d){t.stopMediaStream(r);var p=[];return s&&!u&&p.push(\"audio\"),c&&!d&&p.push(\"video\"),void t.getUserMediaWithConstraints(p,(function(){o(new v.default({name:\"UnknownError\"},i(e.devices,e),p))}),(function(e){o(e)}),e)}l?S.obtainStream(n,(function(e){a({audioVideo:r,desktopStream:e})}),(function(e){t.stopMediaStream(r),o(e)})):a({audioVideo:r})}),(function(e){o(e)}),e):l&&S.obtainStream(n,(function(e){a({desktopStream:e})}),(function(e){o(e)}))}}).bind(this))},addListener:function(e,t){x.on(e,t)},removeListener:function(e,t){x.removeListener(e,t)},getDeviceAvailability:function(){return O},isRTCReady:function(){return H},_isDeviceListAvailable:function(){if(!H)throw new Error(\"WebRTC not ready yet\");return!(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)||!(\"undefined\"==typeof MediaStreamTrack||!MediaStreamTrack.getSources)},onRTCReady:function(){return H?Promise.resolve():new Promise((function(e){x.addListener(E.RTC_READY,(function t(){x.removeListener(E.RTC_READY,t),e()}))}))},isDeviceListAvailable:function(){return this.onRTCReady().then((function(){return this._isDeviceListAvailable()}).bind(this))},isDeviceChangeAvailable:function(e){return\"output\"===e||\"audiooutput\"===e?F:b.isChrome()||b.isFirefox()||b.isOpera()||b.isTemasysPluginUsed()||b.isNWJS()},stopMediaStream:function(e){e.getTracks().forEach((function(e){!b.isTemasysPluginUsed()&&e.stop&&e.stop()})),e.stop&&e.stop(),e.release&&e.release();var t=e.jitsiObjectURL;t&&(delete e.jitsiObjectURL,(URL||webkitURL).revokeObjectURL(t))},isDesktopSharingEnabled:function(){return S.isSupported()},setAudioOutputDevice:function(e){return this.isDeviceChangeAvailable(\"output\")||Promise.reject(new Error(\"Audio output device change is not supported\")),j.setSinkId(e).then((function(){N=e,L=!0,y.log(\"Audio output device set to \"+e),x.emit(E.AUDIO_OUTPUT_DEVICE_CHANGED,e)}))},getAudioOutputDevice:function(){return N},getCurrentlyAvailableMediaDevices:function(){return g},getEventDataForActiveDevice:function(e){var t=[];return t.push({deviceId:e.deviceId,kind:e.kind,label:e.label,groupId:e.groupId}),{deviceList:t}}};e.exports=G}).call(t,\"modules/RTC/RTCUtils.js\")},function(e,t){\"use strict\";e.exports={1080:{width:1920,height:1080,order:7},fullhd:{width:1920,height:1080,order:7},720:{width:1280,height:720,order:6},hd:{width:1280,height:720,order:6},960:{width:960,height:720,order:5},360:{width:640,height:360,order:4},640:{width:640,height:480,order:3},vga:{width:640,height:480,order:3},180:{width:320,height:180,order:2},320:{width:320,height:240,order:1}}},function(e,t,n){(function(t){\"use strict\";var i=(0,n(9).getLogger)(t),r=n(32),o={filter_special_chars:function(e){return e?e.replace(/[\\\\\\/\\{,\\}\\+]/g,\"\"):e},iceparams:function(e,t){var n,i,r=null;return(n=o.find_line(e,\"a=ice-ufrag:\",t))&&(i=o.find_line(e,\"a=ice-pwd:\",t))&&(r={ufrag:o.parse_iceufrag(n),pwd:o.parse_icepwd(i)}),r},parse_iceufrag:function(e){return e.substring(12)},build_iceufrag:function(e){return\"a=ice-ufrag:\"+e},parse_icepwd:function(e){return e.substring(10)},build_icepwd:function(e){return\"a=ice-pwd:\"+e},parse_mid:function(e){return e.substring(6)},parse_mline:function(e){var t=e.substring(2).split(\" \"),n={};return n.media=t.shift(),n.port=t.shift(),n.proto=t.shift(),\"\"===t[t.length-1]&&t.pop(),n.fmt=t,n},build_mline:function(e){return\"m=\"+e.media+\" \"+e.port+\" \"+e.proto+\" \"+e.fmt.join(\" \")},parse_rtpmap:function(e){var t=e.substring(9).split(\" \"),n={};return n.id=t.shift(),t=t[0].split(\"/\"),n.name=t.shift(),n.clockrate=t.shift(),n.channels=t.length?t.shift():\"1\",n},parse_sctpmap:function(e){var t=e.substring(10).split(\" \");return[t[0],t[1],t.length>2?t[2]:null]},build_rtpmap:function(e){var t=\"a=rtpmap:\"+e.getAttribute(\"id\")+\" \"+e.getAttribute(\"name\")+\"/\"+e.getAttribute(\"clockrate\");return e.getAttribute(\"channels\")&&\"1\"!=e.getAttribute(\"channels\")&&(t+=\"/\"+e.getAttribute(\"channels\")),t},parse_crypto:function(e){var t=e.substring(9).split(\" \"),n={};return n.tag=t.shift(),n[\"crypto-suite\"]=t.shift(),n[\"key-params\"]=t.shift(),t.length&&(n[\"session-params\"]=t.join(\" \")),n},parse_fingerprint:function(e){var t=e.substring(14).split(\" \"),n={};return n.hash=t.shift(),n.fingerprint=t.shift(),n},parse_fmtp:function(e){var t,n,i,r=e.split(\" \"),o=[];for(r.shift(),r=r.join(\" \").split(\";\"),t=0;t<r.length;t++){for(n=r[t].split(\"=\")[0];n.length&&\" \"==n[0];)n=n.substring(1);i=r[t].split(\"=\")[1],n&&i?o.push({name:n,value:i}):n&&o.push({name:\"\",value:n})}return o},parse_icecandidate:function(e){var t={},n=e.split(\" \");t.foundation=n[0].substring(12),t.component=n[1],t.protocol=n[2].toLowerCase(),t.priority=n[3],t.ip=n[4],t.port=n[5],t.type=n[7],t.generation=0;for(var r=8;r<n.length;r+=2)switch(n[r]){case\"raddr\":t[\"rel-addr\"]=n[r+1];break;case\"rport\":t[\"rel-port\"]=n[r+1];break;case\"generation\":t.generation=n[r+1];break;case\"tcptype\":t.tcptype=n[r+1];break;default:i.log('parse_icecandidate not translating \"'+n[r]+'\" = \"'+n[r+1]+'\"')}return t.network=\"1\",t.id=Math.random().toString(36).substr(2,10),t},build_icecandidate:function(e){var t=[\"a=candidate:\"+e.foundation,e.component,e.protocol,e.priority,e.ip,e.port,\"typ\",e.type].join(\" \");switch(t+=\" \",e.type){case\"srflx\":case\"prflx\":case\"relay\":e.hasOwnAttribute(\"rel-addr\")&&e.hasOwnAttribute(\"rel-port\")&&(t+=\"raddr\",t+=\" \",t+=e[\"rel-addr\"],t+=\" \",t+=\"rport\",t+=\" \",t+=e[\"rel-port\"],t+=\" \")}return e.hasOwnAttribute(\"tcptype\")&&(t+=\"tcptype\",t+=\" \",t+=e.tcptype,t+=\" \"),t+=\"generation\",(t+=\" \")+(e.hasOwnAttribute(\"generation\")?e.generation:\"0\")},parse_ssrc:function(e){for(var t=e.split(\"\\r\\n\"),n={},i=0;i<t.length;i++)if(\"a=ssrc:\"==t[i].substring(0,7)){var r=t[i].indexOf(\" \");n[t[i].substr(r+1).split(\":\",2)[0]]=t[i].substr(r+1).split(\":\",2)[1]}return n},parse_rtcpfb:function(e){var t=e.substr(10).split(\" \"),n={};return n.pt=t.shift(),n.type=t.shift(),n.params=t,n},parse_extmap:function(e){var t=e.substr(9).split(\" \"),n={};return n.value=t.shift(),-1!=n.value.indexOf(\"/\")?(n.direction=n.value.substr(n.value.indexOf(\"/\")+1),n.value=n.value.substr(0,n.value.indexOf(\"/\"))):n.direction=\"both\",n.uri=t.shift(),n.params=t,n},find_line:function(e,t,n){for(var i=e.split(\"\\r\\n\"),r=0;r<i.length;r++)if(i[r].substring(0,t.length)==t)return i[r];if(!n)return!1;i=n.split(\"\\r\\n\");for(var o=0;o<i.length;o++)if(i[o].substring(0,t.length)==t)return i[o];return!1},find_lines:function(e,t,n){for(var i=e.split(\"\\r\\n\"),r=[],o=0;o<i.length;o++)i[o].substring(0,t.length)==t&&r.push(i[o]);if(r.length||!n)return r;i=n.split(\"\\r\\n\");for(var a=0;a<i.length;a++)i[a].substring(0,t.length)==t&&r.push(i[a]);return r},candidateToJingle:function(e){if(0===e.indexOf(\"candidate:\"))e=\"a=\"+e;else if(\"a=candidate:\"!=e.substring(0,12))return i.log(\"parseCandidate called with a line that is not a candidate line\"),i.log(e),null;\"\\r\\n\"==e.substring(e.length-2)&&(e=e.substring(0,e.length-2));var t,n={},r=e.split(\" \");if(\"typ\"!=r[6])return i.log(\"did not find typ in the right place\"),i.log(e),null;for(n.foundation=r[0].substring(12),n.component=r[1],n.protocol=r[2].toLowerCase(),n.priority=r[3],n.ip=r[4],n.port=r[5],n.type=r[7],n.generation=\"0\",t=8;t<r.length;t+=2)switch(r[t]){case\"raddr\":n[\"rel-addr\"]=r[t+1];break;case\"rport\":n[\"rel-port\"]=r[t+1];break;case\"generation\":n.generation=r[t+1];break;case\"tcptype\":n.tcptype=r[t+1];break;default:i.log('not translating \"'+r[t]+'\" = \"'+r[t+1]+'\"')}return n.network=\"1\",n.id=Math.random().toString(36).substr(2,10),n},candidateFromJingle:function(e){var t=\"a=candidate:\";t+=e.getAttribute(\"foundation\"),t+=\" \",t+=e.getAttribute(\"component\"),t+=\" \";var n=e.getAttribute(\"protocol\");switch(r.isFirefox()&&\"ssltcp\"==n.toLowerCase()&&(n=\"tcp\"),t+=n,t+=\" \",t+=e.getAttribute(\"priority\"),t+=\" \",t+=e.getAttribute(\"ip\"),t+=\" \",t+=e.getAttribute(\"port\"),t+=\" \",t+=\"typ\",t+=\" \"+e.getAttribute(\"type\"),t+=\" \",e.getAttribute(\"type\")){case\"srflx\":case\"prflx\":case\"relay\":e.getAttribute(\"rel-addr\")&&e.getAttribute(\"rel-port\")&&(t+=\"raddr\",t+=\" \",t+=e.getAttribute(\"rel-addr\"),t+=\" \",t+=\"rport\",t+=\" \",t+=e.getAttribute(\"rel-port\"),t+=\" \")}return\"tcp\"==n.toLowerCase()&&(t+=\"tcptype\",t+=\" \",t+=e.getAttribute(\"tcptype\"),t+=\" \"),t+=\"generation\",t+=\" \",(t+=e.getAttribute(\"generation\")||\"0\")+\"\\r\\n\"}};e.exports=o}).call(t,\"modules/xmpp/SDPUtil.js\")},function(e,t,n){(function(t){\"use strict\";function i(e,t,n){y([\"screen\"],t,n)}function r(e){return\"https://chrome.google.com/webstore/detail/\"+(e.desktopSharingChromeExtId||e.chromeExtensionId)}function o(e,t){return\"undefined\"!=typeof chrome&&chrome&&chrome.runtime?void chrome.runtime.sendMessage(t.desktopSharingChromeExtId||t.chromeExtensionId,{getVersion:!0},(function(n){if(!n||!n.version)return p.warn(\"Extension not installed?: \",chrome.runtime.lastError),void e(!1,!1);var i=n.version;p.log(\"Extension version is: \"+i);var r=function(e,t){try{for(var n=e.split(\".\"),i=t.split(\".\"),r=Math.max(n.length,i.length),o=0;o<r;o++){var a=0,s=0;if(o<n.length&&(a=parseInt(n[o])),o<i.length&&(s=parseInt(i[o])),isNaN(a)||isNaN(s))return!0;if(a!==s)return a>s}return!1}catch(e){return d.callErrorHandler(e),p.error(\"Failed to parse extension version\",e),!0}}(t.desktopSharingChromeMinExtVersion||t.minChromeExtVersion,i);e(!r,r)})):void e(!1,!1)}function a(e,t,n){chrome.runtime.sendMessage(e.desktopSharingChromeExtId||e.chromeExtensionId,{getStream:!0,sources:e.desktopSharingChromeSources||e.desktopSharingSources},(function(e){if(e)if(p.log(\"Response from extension: \",e),e.streamId)y([\"desktop\"],(function(e){return t(e)}),n,{desktopStream:e.streamId});else{if(\"\"===e.streamId)return void n(new l.default(u.CHROME_EXTENSION_USER_CANCELED));n(new l.default(u.CHROME_EXTENSION_GENERIC_ERROR,e.error))}else{var i=chrome.runtime.lastError;n(i instanceof Error?i:new l.default(u.CHROME_EXTENSION_GENERIC_ERROR,i))}}))}function s(e,t,n){return 0===n?Promise.reject():new Promise((function(i,r){var a=n,s=window.setInterval((function(){o((function(e){e?(window.clearInterval(s),i()):0==--a&&(r(),window.clearInterval(s))}),e)}),t)}))}function c(e){if(!e.desktopSharingFirefoxDisabled&&!1!==g&&!0!==g){if(!e.desktopSharingFirefoxExtId)return void(g=!1);var t=document.createElement(\"img\");t.onload=function(){p.log(\"Detected firefox screen sharing extension.\"),g=!0},t.onerror=function(){p.log(\"Detected lack of firefox screen sharing extension.\"),g=!1};var n=\"chrome://\"+e.desktopSharingFirefoxExtId.replace(\"@\",\".\")+\"/content/\"+document.location.hostname+\".png\";t.setAttribute(\"src\",n)}}var l=function(e){return e&&e.__esModule?e:{default:e}}(n(6)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7)),d=n(39),p=n(9).getLogger(t),h=n(32),f=!1,m=!1,g=null,v=!1,y=null;e.exports={obtainStream:null,init:function(e,t){var a=null;this.options=e=e||{},y=t,h.isFirefox()&&c(e);var s=e.desktopSharingChromeMethod||e.desktopSharing;if(h.isNWJS())a=function(e,t,n){window.JitsiMeetNW.obtainDesktopStream(t,(function(e,t){var i;i=e&&\"InvalidStateError\"==e.name?new l.default(u.CHROME_EXTENSION_USER_CANCELED):new l.default(e,t,[\"desktop\"]),\"function\"==typeof n&&n(i)}))};else if(h.isTemasysPluginUsed()){var d=n(54);d.WebRTCPlugin.plugin.HasScreensharingFeature?d.WebRTCPlugin.plugin.isScreensharingAvailable?(a=i,p.info(\"Using Temasys plugin for desktop sharing\")):p.info(\"Screensharing not available with Temasys plugin on this site\"):p.info(\"Screensharing not supported by this plugin version\")}else h.isChrome()?\"ext\"==s?h.getChromeVersion()>=34?(a=this.obtainScreenFromExtension,p.info(\"Using Chrome extension for desktop sharing\"),function(e){(function(e){0===$(\"link[rel=chrome-webstore-item]\").length&&$(\"head\").append('<link rel=\"chrome-webstore-item\">'),$(\"link[rel=chrome-webstore-item]\").attr(\"href\",r(e))})(e),o((function(e,t){p.info(\"Chrome extension installed: \"+(f=e)+\" updateRequired: \"+(m=t))}),e)}(e)):p.info(\"Chrome extension not supported until ver 34\"):\"webrtc\"==s&&(a=i,p.info(\"Using Chrome WebRTC for desktop sharing\")):h.isFirefox()&&(e.desktopSharingFirefoxDisabled?a=null:\"http:\"===window.location.protocol?(p.log(\"Screen sharing is not supported over HTTP. Use of HTTPS is required.\"),a=null):a=this.obtainScreenOnFirefox);a||p.info(\"Desktop sharing disabled\"),this.obtainStream=a},isSupported:function(){return!!this.obtainStream},obtainScreenOnFirefox:function(e,t,n){var r=this,o=!1;return(-1===this.options.desktopSharingFirefoxMaxVersionExtRequired||this.options.desktopSharingFirefoxMaxVersionExtRequired>=0&&h.getFirefoxVersion()<=this.options.desktopSharingFirefoxMaxVersionExtRequired)&&(o=!0,p.log(\"Jidesha extension required on firefox version \"+h.getFirefoxVersion())),o&&!0!==g?(v&&(v=!1,c(this.options)),null===g?(window.setTimeout((function(){null===g&&(g=!1),r.obtainScreenOnFirefox(t,n)}),300),void p.log(\"Waiting for detection of jidesha on firefox to finish.\")):(g=null,v=!0,void n(new l.default(u.FIREFOX_EXTENSION_NEEDED)))):void i(0,t,n)},obtainScreenFromExtension:function(t,n,i){var o=this;if(f)a(this.options,n,i);else{m&&alert(\"Jitsi Desktop Streamer requires update. Changes will take effect after next Chrome restart.\");try{chrome.webstore.install(r(this.options),(function(e){p.log(\"Extension installed successfully\",e),f=!0,s(o.options,200,10).then((function(){a(o.options,n,i)})).catch((function(){o.handleExtensionInstallationError(t,n,i)}))}),this.handleExtensionInstallationError.bind(this,t,n,i))}catch(e){this.handleExtensionInstallationError(t,n,i,e)}}},handleExtensionInstallationError:function(e,t,n,i){var o=r(this.options);if(\"Inline installs can not be initiated from pop-up windows.\"===i&&e.interval>0&&\"function\"==typeof e.checkAgain&&\"function\"==typeof e.listener)return e.listener(\"waitingForExtension\",o),void this.checkForChromeExtensionOnInterval(e,t,n,i);var a=\"Failed to install the extension from \"+o;p.log(a,i),n(new l.default(u.CHROME_EXTENSION_INSTALLATION_ERROR,a))},checkForChromeExtensionOnInterval:function(e,t,n){var i=this;return!1===e.checkAgain()?void n(new l.default(u.CHROME_EXTENSION_INSTALLATION_ERROR)):void s(this.options,e.interval,1).then((function(){f=!0,e.listener(\"extensionFound\"),i.obtainScreenFromExtension(e,t,n)})).catch((function(){i.checkForChromeExtensionOnInterval(e,t,n)}))}}}).call(t,\"modules/RTC/ScreenObtainer.js\")},function(e,t,n){(function(t){var r=n(9).getLogger(t),o=o||{};e.exports=o,o.options=o.options||{},o.VERSION=\"0.14.0\",o.onwebrtcready=o.onwebrtcready||function(e){},o._onwebrtcreadies=[],o.webRTCReady=function(e){if(\"function\"!=typeof e)throw new Error(\"Callback provided is not a function\");!0===o.onwebrtcreadyDone?e(null!==o.WebRTCPlugin.plugin):o._onwebrtcreadies.push(e)},o.WebRTCPlugin=o.WebRTCPlugin||{},o.WebRTCPlugin.pluginInfo=o.WebRTCPlugin.pluginInfo||{prefix:\"Tem\",plugName:\"TemWebRTCPlugin\",pluginId:\"plugin0\",type:\"application/x-temwebrtcplugin\",onload:\"__TemWebRTCReady0\",portalLink:\"http://skylink.io/plugin/\",downloadLink:null,companyName:\"Temasys\",downloadLinks:{mac:\"http://bit.ly/webrtcpluginpkg\",win:\"http://bit.ly/webrtcpluginmsi\"}},null!=o.WebRTCPlugin.pluginInfo.downloadLinks&&(navigator.platform.match(/^Mac/i)?o.WebRTCPlugin.pluginInfo.downloadLink=o.WebRTCPlugin.pluginInfo.downloadLinks.mac:navigator.platform.match(/^Win/i)&&(o.WebRTCPlugin.pluginInfo.downloadLink=o.WebRTCPlugin.pluginInfo.downloadLinks.win)),o.WebRTCPlugin.TAGS={NONE:\"none\",AUDIO:\"audio\",VIDEO:\"video\"},o.WebRTCPlugin.pageId=Math.random().toString(36).slice(2),o.WebRTCPlugin.plugin=null,o.WebRTCPlugin.setLogLevel=null,o.WebRTCPlugin.defineWebRTCInterface=null,o.WebRTCPlugin.isPluginInstalled=null,o.WebRTCPlugin.pluginInjectionInterval=null,o.WebRTCPlugin.injectPlugin=null,o.WebRTCPlugin.PLUGIN_STATES={NONE:0,INITIALIZING:1,INJECTING:2,INJECTED:3,READY:4},o.WebRTCPlugin.pluginState=o.WebRTCPlugin.PLUGIN_STATES.NONE,o.onwebrtcreadyDone=!1,o.WebRTCPlugin.PLUGIN_LOG_LEVELS={NONE:\"NONE\",ERROR:\"ERROR\",WARNING:\"WARNING\",INFO:\"INFO\",VERBOSE:\"VERBOSE\",SENSITIVE:\"SENSITIVE\"},o.WebRTCPlugin.WaitForPluginReady=null,o.WebRTCPlugin.callWhenPluginReady=null,__TemWebRTCReady0=function(){if(\"complete\"===document.readyState)o.WebRTCPlugin.pluginState=o.WebRTCPlugin.PLUGIN_STATES.READY,o.maybeThroughWebRTCReady();else var e=setInterval((function(){\"complete\"===document.readyState&&(clearInterval(e),o.WebRTCPlugin.pluginState=o.WebRTCPlugin.PLUGIN_STATES.READY,o.maybeThroughWebRTCReady())}),100)},o.maybeThroughWebRTCReady=function(){o.onwebrtcreadyDone||(o.onwebrtcreadyDone=!0,o._onwebrtcreadies.length?o._onwebrtcreadies.forEach((function(e){\"function\"==typeof e&&e(null!==o.WebRTCPlugin.plugin)})):\"function\"==typeof o.onwebrtcready&&o.onwebrtcready(null!==o.WebRTCPlugin.plugin))},o.TEXT={PLUGIN:{REQUIRE_INSTALLATION:\"This website requires you to install a WebRTC-enabling plugin to work on this browser.\",NOT_SUPPORTED:\"Your browser does not support WebRTC.\",BUTTON:\"Install Now\"},REFRESH:{REQUIRE_REFRESH:\"Please refresh page\",BUTTON:\"Refresh Page\"}},o._iceConnectionStates={starting:\"starting\",checking:\"checking\",connected:\"connected\",completed:\"connected\",done:\"completed\",disconnected:\"disconnected\",failed:\"failed\",closed:\"closed\"},o._iceConnectionFiredStates=[],o.isDefined=null,o.parseWebrtcDetectedBrowser=function(){var e=null;if(window.opr&&opr.addons||window.opera||navigator.userAgent.indexOf(\" OPR/\")>=0)e=navigator.userAgent.match(/OPR\\/(\\d+)/i)||[],webrtcDetectedBrowser=\"opera\",webrtcDetectedVersion=parseInt(e[1]||\"0\",10),webrtcMinimumVersion=26,webrtcDetectedType=\"webkit\",webrtcDetectedDCSupport=\"SCTP\";else if(navigator.userAgent.match(/Bowser\\/[0-9.]*/g)){e=navigator.userAgent.match(/Bowser\\/[0-9.]*/g)||[];var t=parseInt((navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./i)||[])[2]||\"0\",10);webrtcDetectedBrowser=\"bowser\",webrtcDetectedVersion=parseFloat((e[0]||\"0/0\").split(\"/\")[1],10),webrtcMinimumVersion=0,webrtcDetectedType=\"webkit\",webrtcDetectedDCSupport=t>30?\"SCTP\":\"RTP\"}else if(navigator.userAgent.indexOf(\"OPiOS\")>0)e=navigator.userAgent.match(/OPiOS\\/([0-9]+)\\./),webrtcDetectedBrowser=\"opera\",webrtcDetectedVersion=parseInt(e[1]||\"0\",10),webrtcMinimumVersion=0,webrtcDetectedType=null,webrtcDetectedDCSupport=null;else if(navigator.userAgent.indexOf(\"CriOS\")>0)e=navigator.userAgent.match(/CriOS\\/([0-9]+)\\./)||[],webrtcDetectedBrowser=\"chrome\",webrtcDetectedVersion=parseInt(e[1]||\"0\",10),webrtcMinimumVersion=0,webrtcDetectedType=null,webrtcDetectedDCSupport=null;else if(navigator.userAgent.indexOf(\"FxiOS\")>0)e=navigator.userAgent.match(/FxiOS\\/([0-9]+)\\./)||[],webrtcDetectedBrowser=\"firefox\",webrtcDetectedVersion=parseInt(e[1]||\"0\",10),webrtcMinimumVersion=0,webrtcDetectedType=null,webrtcDetectedDCSupport=null;else if(document.documentMode)e=/\\brv[ :]+(\\d+)/g.exec(navigator.userAgent)||[],webrtcDetectedBrowser=\"IE\",webrtcDetectedVersion=parseInt(e[1],10),webrtcMinimumVersion=9,webrtcDetectedType=\"plugin\",webrtcDetectedDCSupport=\"SCTP\",webrtcDetectedVersion||(e=/\\bMSIE[ :]+(\\d+)/g.exec(navigator.userAgent)||[],webrtcDetectedVersion=parseInt(e[1]||\"0\",10));else if(window.StyleMedia||navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/))e=navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)||[],webrtcDetectedBrowser=\"edge\",webrtcDetectedVersion=parseFloat((e[0]||\"0/0\").split(\"/\")[1],10),webrtcMinimumVersion=13.10547,webrtcDetectedType=\"ms\",webrtcDetectedDCSupport=null;else if(\"undefined\"!=typeof InstallTrigger||navigator.userAgent.indexOf(\"irefox\")>0)e=navigator.userAgent.match(/Firefox\\/([0-9]+)\\./)||[],webrtcDetectedBrowser=\"firefox\",webrtcDetectedVersion=parseInt(e[1]||\"0\",10),webrtcMinimumVersion=31,webrtcDetectedType=\"moz\",webrtcDetectedDCSupport=\"SCTP\";else if(window.chrome&&window.chrome.webstore||navigator.userAgent.indexOf(\"Chrom\")>0)e=navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./i)||[],webrtcDetectedBrowser=\"chrome\",webrtcDetectedVersion=parseInt(e[2]||\"0\",10),webrtcMinimumVersion=38,webrtcDetectedType=\"webkit\",webrtcDetectedDCSupport=webrtcDetectedVersion>30?\"SCTP\":\"RTP\";else if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent)){e=navigator.userAgent.match(/version\\/(\\d+)/i)||[];var n=navigator.userAgent.match(/(iPhone|iPad)/gi)||[];webrtcDetectedBrowser=\"safari\",webrtcDetectedVersion=parseInt(e[1]||\"0\",10),webrtcMinimumVersion=7,webrtcDetectedType=0===n.length?\"plugin\":null,webrtcDetectedDCSupport=0===n.length?\"SCTP\":null}window.webrtcDetectedBrowser=webrtcDetectedBrowser,window.webrtcDetectedVersion=webrtcDetectedVersion,window.webrtcMinimumVersion=webrtcMinimumVersion,window.webrtcDetectedType=webrtcDetectedType,window.webrtcDetectedDCSupport=webrtcDetectedDCSupport},o.addEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent(\"on\"+t,n):e[t]=n},o.renderNotificationBar=function(e,t,n,i,r){if(\"complete\"===document.readyState){var a=window,s=document.createElement(\"iframe\");s.name=\"adapterjs-alert\",s.style.position=\"fixed\",s.style.top=\"-41px\",s.style.left=0,s.style.right=0,s.style.width=\"100%\",s.style.height=\"40px\",s.style.backgroundColor=\"#ffffe1\",s.style.border=\"none\",s.style.borderBottom=\"1px solid #888888\",s.style.zIndex=\"9999999\",\"string\"==typeof s.style.webkitTransition?s.style.webkitTransition=\"all .5s ease-out\":\"string\"==typeof s.style.transition&&(s.style.transition=\"all .5s ease-out\"),document.body.appendChild(s);var c=s.contentWindow?s.contentWindow:s.contentDocument.document?s.contentDocument.document:s.contentDocument;c.document.open(),c.document.write('<span style=\"display: inline-block; font-family: Helvetica, Arial,sans-serif; font-size: .9rem; padding: 4px; vertical-align: middle; cursor: default;\">'+e+\"</span>\"),t&&n?(c.document.write('<button id=\"okay\">'+t+'</button><button id=\"cancel\">Cancel</button>'),c.document.close(),o.addEvent(c.document.getElementById(\"okay\"),\"click\",(function(e){r&&o.renderNotificationBar(o.TEXT.EXTENSION?o.TEXT.EXTENSION.REQUIRE_REFRESH:o.TEXT.REFRESH.REQUIRE_REFRESH,o.TEXT.REFRESH.BUTTON,\"javascript:location.reload()\"),window.open(n,i?\"_blank\":\"_top\"),e.preventDefault();try{e.cancelBubble=!0}catch(e){}var t=setInterval((function(){isIE||navigator.plugins.refresh(!1),o.WebRTCPlugin.isPluginInstalled(o.WebRTCPlugin.pluginInfo.prefix,o.WebRTCPlugin.pluginInfo.plugName,o.WebRTCPlugin.pluginInfo.type,(function(){clearInterval(t),o.WebRTCPlugin.defineWebRTCInterface()}),(function(){}))}),500)})),o.addEvent(c.document.getElementById(\"cancel\"),\"click\",(function(e){a.document.body.removeChild(s)}))):c.document.close(),setTimeout((function(){\"string\"==typeof s.style.webkitTransform?s.style.webkitTransform=\"translateY(40px)\":\"string\"==typeof s.style.transform?s.style.transform=\"translateY(40px)\":s.style.top=\"0px\"}),300)}},webrtcDetectedType=null,checkMediaDataChannelSettings=function(e,t,n,i){if(\"function\"==typeof n){var o=!0,a=\"firefox\"===webrtcDetectedBrowser,s=\"moz\"===webrtcDetectedType&&webrtcDetectedVersion>30,c=\"firefox\"===e;if(a&&c||s)try{delete i.mandatory.MozDontOfferDataChannel}catch(e){r.error(\"Failed deleting MozDontOfferDataChannel\"),r.error(e)}else a&&!c&&(i.mandatory.MozDontOfferDataChannel=!0);if(!a)for(var l in i.mandatory)i.mandatory.hasOwnProperty(l)&&-1!==l.indexOf(\"Moz\")&&delete i.mandatory[l];!a||c||s||(o=!1),n(o,i)}},checkIceConnectionState=function(e,t,n){return\"function\"!=typeof n?void r.warn(\"No callback specified in checkIceConnectionState. Aborted.\"):(o._iceConnectionFiredStates[e=e||\"peer\"]&&t!==o._iceConnectionStates.disconnected&&t!==o._iceConnectionStates.failed&&t!==o._iceConnectionStates.closed||(o._iceConnectionFiredStates[e]=[]),void(o._iceConnectionFiredStates[e].indexOf(t=o._iceConnectionStates[t])<0&&(o._iceConnectionFiredStates[e].push(t),t===o._iceConnectionStates.connected&&setTimeout((function(){o._iceConnectionFiredStates[e].push(o._iceConnectionStates.done),n(o._iceConnectionStates.done)}),1e3),n(t))))},createIceServer=null,createIceServers=null,RTCPeerConnection=null,RTCSessionDescription=\"function\"==typeof RTCSessionDescription?RTCSessionDescription:null,RTCIceCandidate=\"function\"==typeof RTCIceCandidate?RTCIceCandidate:null,getUserMedia=null,attachMediaStream=null,reattachMediaStream=null,webrtcDetectedBrowser=null,webrtcDetectedVersion=null,webrtcMinimumVersion=null,!(navigator.mozGetUserMedia||navigator.webkitGetUserMedia||navigator.mediaDevices&&navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/))||0===(navigator.userAgent.match(/android/gi)||[]).length&&0===(navigator.userAgent.match(/chrome/gi)||[]).length&&navigator.userAgent.indexOf(\"Safari/\")>0?(\"object\"==typeof r&&\"function\"==typeof r.log||((r={}||r).log=function(e){},r.info=function(e){},r.error=function(e){},r.dir=function(e){},r.exception=function(e){},r.trace=function(e){},r.warn=function(e){},r.count=function(e){},r.debug=function(e){},r.count=function(e){},r.time=function(e){},r.timeEnd=function(e){},r.group=function(e){},r.groupCollapsed=function(e){},r.groupEnd=function(e){}),o.parseWebrtcDetectedBrowser(),isIE=\"IE\"===webrtcDetectedBrowser,o.WebRTCPlugin.WaitForPluginReady=function(){for(;o.WebRTCPlugin.pluginState!==o.WebRTCPlugin.PLUGIN_STATES.READY;);},o.WebRTCPlugin.callWhenPluginReady=function(e){if(o.WebRTCPlugin.pluginState===o.WebRTCPlugin.PLUGIN_STATES.READY)e();else var t=setInterval((function(){o.WebRTCPlugin.pluginState===o.WebRTCPlugin.PLUGIN_STATES.READY&&(clearInterval(t),e())}),100)},o.WebRTCPlugin.setLogLevel=function(e){o.WebRTCPlugin.callWhenPluginReady((function(){o.WebRTCPlugin.plugin.setLogLevel(e)}))},o.WebRTCPlugin.injectPlugin=function(){if(\"complete\"===document.readyState&&o.WebRTCPlugin.pluginState===o.WebRTCPlugin.PLUGIN_STATES.INITIALIZING){if(o.WebRTCPlugin.pluginState=o.WebRTCPlugin.PLUGIN_STATES.INJECTING,\"IE\"===webrtcDetectedBrowser&&webrtcDetectedVersion<=10){var e=document.createDocumentFragment();for(o.WebRTCPlugin.plugin=document.createElement(\"div\"),o.WebRTCPlugin.plugin.innerHTML='<object id=\"'+o.WebRTCPlugin.pluginInfo.pluginId+'\" type=\"'+o.WebRTCPlugin.pluginInfo.type+'\" width=\"1\" height=\"1\"><param name=\"pluginId\" value=\"'+o.WebRTCPlugin.pluginInfo.pluginId+'\" /> <param name=\"windowless\" value=\"false\" /> <param name=\"pageId\" value=\"'+o.WebRTCPlugin.pageId+'\" /> <param name=\"onload\" value=\"'+o.WebRTCPlugin.pluginInfo.onload+'\" /><param name=\"tag\" value=\"'+o.WebRTCPlugin.TAGS.NONE+'\" />'+(o.options.getAllCams?'<param name=\"forceGetAllCams\" value=\"True\" />':\"\")+\"</object>\";o.WebRTCPlugin.plugin.firstChild;)e.appendChild(o.WebRTCPlugin.plugin.firstChild);document.body.appendChild(e),o.WebRTCPlugin.plugin=document.getElementById(o.WebRTCPlugin.pluginInfo.pluginId)}else o.WebRTCPlugin.plugin=document.createElement(\"object\"),o.WebRTCPlugin.plugin.id=o.WebRTCPlugin.pluginInfo.pluginId,isIE?(o.WebRTCPlugin.plugin.width=\"1px\",o.WebRTCPlugin.plugin.height=\"1px\"):(o.WebRTCPlugin.plugin.width=\"0px\",o.WebRTCPlugin.plugin.height=\"0px\"),o.WebRTCPlugin.plugin.type=o.WebRTCPlugin.pluginInfo.type,o.WebRTCPlugin.plugin.innerHTML='<param name=\"onload\" value=\"'+o.WebRTCPlugin.pluginInfo.onload+'\"><param name=\"pluginId\" value=\"'+o.WebRTCPlugin.pluginInfo.pluginId+'\"><param name=\"windowless\" value=\"false\" /> '+(o.options.getAllCams?'<param name=\"forceGetAllCams\" value=\"True\" />':\"\")+'<param name=\"pageId\" value=\"'+o.WebRTCPlugin.pageId+'\"><param name=\"tag\" value=\"'+o.WebRTCPlugin.TAGS.NONE+'\" />',document.body.appendChild(o.WebRTCPlugin.plugin);o.WebRTCPlugin.pluginState=o.WebRTCPlugin.PLUGIN_STATES.INJECTED}},o.WebRTCPlugin.isPluginInstalled=function(e,t,n,i,r){if(isIE){try{new ActiveXObject(e+\".\"+t)}catch(e){return void r()}i()}else{for(var o=navigator.mimeTypes,a=0;a<o.length;a++)if(o[a].type.indexOf(n)>=0)return void i();r()}},o.WebRTCPlugin.defineWebRTCInterface=function(){if(o.WebRTCPlugin.pluginState!==o.WebRTCPlugin.PLUGIN_STATES.READY){o.WebRTCPlugin.pluginState=o.WebRTCPlugin.PLUGIN_STATES.INITIALIZING,o.isDefined=function(e){return null!=e},createIceServer=function(e,t,n){var i=null,r=e.split(\":\");return 0===r[0].indexOf(\"stun\")?i={url:e,hasCredentials:!1}:0===r[0].indexOf(\"turn\")&&(i={url:e,hasCredentials:!0,credential:n,username:t}),i},createIceServers=function(e,t,n){for(var i=[],r=0;r<e.length;++r)i.push(createIceServer(e[r],t,n));return i},RTCSessionDescription=function(e){return o.WebRTCPlugin.WaitForPluginReady(),o.WebRTCPlugin.plugin.ConstructSessionDescription(e.type,e.sdp)},RTCPeerConnection=function(e,t){if(null!=e&&!Array.isArray(e.iceServers))throw new Error(\"Failed to construct 'RTCPeerConnection': Malformed RTCConfiguration\");if(null!=t){var n=!1;if(n|=\"object\"!=typeof t,n|=t.hasOwnProperty(\"mandatory\")&&null!=t.mandatory&&t.mandatory.constructor!==Object,n|=t.hasOwnProperty(\"optional\")&&null!=t.optional&&!Array.isArray(t.optional))throw new Error(\"Failed to construct 'RTCPeerConnection': Malformed constraints object\")}o.WebRTCPlugin.WaitForPluginReady();var i=null;if(e&&Array.isArray(e.iceServers)){i=e.iceServers;for(var r=0;r<i.length;r++)i[r].urls&&!i[r].url&&(i[r].url=i[r].urls),i[r].hasCredentials=o.isDefined(i[r].username)&&o.isDefined(i[r].credential)}return o.WebRTCPlugin.plugin.PEER_CONNECTION_VERSION&&o.WebRTCPlugin.plugin.PEER_CONNECTION_VERSION>1?(i&&(e.iceServers=i),o.WebRTCPlugin.plugin.PeerConnection(e)):o.WebRTCPlugin.plugin.PeerConnection(o.WebRTCPlugin.pageId,i,t&&t.mandatory?t.mandatory:null,t&&t.optional?t.optional:null)},MediaStreamTrack=function(){},MediaStreamTrack.getSources=function(e){o.WebRTCPlugin.callWhenPluginReady((function(){o.WebRTCPlugin.plugin.GetSources(e)}))};var e=function(e){if(\"object\"!=typeof e||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(n){if(\"require\"!==n&&\"advanced\"!==n&&\"mediaSource\"!==n){var i=\"object\"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==i.exact&&\"number\"==typeof i.exact&&(i.min=i.max=i.exact);var r=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):\"deviceId\"===t?\"sourceId\":t};if(void 0!==i.ideal){t.optional=t.optional||[];var o={};\"number\"==typeof i.ideal?(o[r(\"min\",n)]=i.ideal,t.optional.push(o),(o={})[r(\"max\",n)]=i.ideal,t.optional.push(o)):(o[r(\"\",n)]=i.ideal,t.optional.push(o))}void 0!==i.exact&&\"number\"!=typeof i.exact?(t.mandatory=t.mandatory||{},t.mandatory[r(\"\",n)]=i.exact):[\"min\",\"max\"].forEach((function(e){void 0!==i[e]&&(t.mandatory=t.mandatory||{},t.mandatory[r(e,n)]=i[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t};getUserMedia=function(t,n,i){var r={};r.audio=!!t.audio&&e(t.audio),r.video=!!t.video&&e(t.video),o.WebRTCPlugin.callWhenPluginReady((function(){o.WebRTCPlugin.plugin.getUserMedia(r,n,i)}))},window.navigator.getUserMedia=getUserMedia,navigator.mediaDevices||\"undefined\"==typeof Promise||(requestUserMedia=function(e){return new Promise((function(t,n){getUserMedia(e,t,n)}))},navigator.mediaDevices={getUserMedia:requestUserMedia,enumerateDevices:function(){return new Promise((function(e){var t={audio:\"audioinput\",video:\"videoinput\"};return MediaStreamTrack.getSources((function(n){e(n.map((function(e){return{label:e.label,kind:t[e.kind],id:e.id,deviceId:e.id,groupId:\"\"}})))}))}))}}),attachMediaStream=function(e,t){if(e&&e.parentNode){var n;null===t?n=\"\":(void 0!==t.enableSoundTracks&&t.enableSoundTracks(!0),n=t.id);var i=0===e.id.length?Math.random().toString(36).slice(2):e.id,r=e.nodeName.toLowerCase();if(\"object\"!==r){var a;switch(r){case\"audio\":a=o.WebRTCPlugin.TAGS.AUDIO;break;case\"video\":a=o.WebRTCPlugin.TAGS.VIDEO;break;default:a=o.WebRTCPlugin.TAGS.NONE}var s=document.createDocumentFragment(),c=document.createElement(\"div\"),l=\"\";for(e.className?l='class=\"'+e.className+'\" ':e.attributes&&e.attributes.class&&(l='class=\"'+e.attributes.class.value+'\" '),c.innerHTML='<object id=\"'+i+'\" '+l+'type=\"'+o.WebRTCPlugin.pluginInfo.type+'\"><param name=\"pluginId\" value=\"'+i+'\" /> <param name=\"pageId\" value=\"'+o.WebRTCPlugin.pageId+'\" /> <param name=\"windowless\" value=\"true\" /> <param name=\"streamId\" value=\"'+n+'\" /> <param name=\"tag\" value=\"'+a+'\" /> </object>';c.firstChild;)s.appendChild(c.firstChild);var u=\"\",d=\"\";e.clientWidth||e.clientHeight?(d=e.clientWidth,u=e.clientHeight):(e.width||e.height)&&(d=e.width,u=e.height),e.parentNode.insertBefore(s,e),(s=document.getElementById(i)).width=d,s.height=u,e.parentNode.removeChild(e)}else{for(var p=e.children,h=0;h!==p.length;++h)if(\"streamId\"===p[h].name){p[h].value=n;break}e.setStreamId(n)}var f=document.getElementById(i);return o.forwardEventHandlers(f,e,Object.getPrototypeOf(e)),f}},reattachMediaStream=function(e,t){for(var n=null,i=t.children,a=0;a!==i.length;++a)if(\"streamId\"===i[a].name){o.WebRTCPlugin.WaitForPluginReady(),n=o.WebRTCPlugin.plugin.getStreamWithId(o.WebRTCPlugin.pageId,i[a].value);break}return null!==n?attachMediaStream(e,n):void r.log(\"Could not find the stream associated with this element\")},window.attachMediaStream=attachMediaStream,window.reattachMediaStream=reattachMediaStream,window.getUserMedia=getUserMedia,o.attachMediaStream=attachMediaStream,o.reattachMediaStream=reattachMediaStream,o.getUserMedia=getUserMedia,o.forwardEventHandlers=function(e,t,n){for(var i in properties=Object.getOwnPropertyNames(n),properties)i&&(propName=properties[i],\"function\"==typeof propName.slice&&\"on\"===propName.slice(0,2)&&\"function\"==typeof t[propName]&&o.addEvent(e,propName.slice(2),t[propName]));var r=Object.getPrototypeOf(n);r&&o.forwardEventHandlers(e,t,r)},RTCIceCandidate=function(e){return e.sdpMid||(e.sdpMid=\"\"),o.WebRTCPlugin.WaitForPluginReady(),o.WebRTCPlugin.plugin.ConstructIceCandidate(e.sdpMid,e.sdpMLineIndex,e.candidate)},o.addEvent(document,\"readystatechange\",o.WebRTCPlugin.injectPlugin),o.WebRTCPlugin.injectPlugin()}else r.error(\"AdapterJS - WebRTC interface has already been defined\")},o.WebRTCPlugin.pluginNeededButNotInstalledCb=o.WebRTCPlugin.pluginNeededButNotInstalledCb||function(){o.addEvent(document,\"readystatechange\",o.WebRTCPlugin.pluginNeededButNotInstalledCbPriv),o.WebRTCPlugin.pluginNeededButNotInstalledCbPriv()},o.WebRTCPlugin.pluginNeededButNotInstalledCbPriv=function(){if(!o.options.hidePluginInstallPrompt){var e=o.WebRTCPlugin.pluginInfo.downloadLink;e?o.renderNotificationBar(o.WebRTCPlugin.pluginInfo.portalLink?'This website requires you to install the  <a href=\"'+o.WebRTCPlugin.pluginInfo.portalLink+'\" target=\"_blank\">'+o.WebRTCPlugin.pluginInfo.companyName+\" WebRTC Plugin</a> to work on this browser.\":o.TEXT.PLUGIN.REQUIRE_INSTALLATION,o.TEXT.PLUGIN.BUTTON,e):o.renderNotificationBar(o.TEXT.PLUGIN.NOT_SUPPORTED)}},o.WebRTCPlugin.isPluginInstalled(o.WebRTCPlugin.pluginInfo.prefix,o.WebRTCPlugin.pluginInfo.plugName,o.WebRTCPlugin.pluginInfo.type,o.WebRTCPlugin.defineWebRTCInterface,o.WebRTCPlugin.pluginNeededButNotInstalledCb)):(e.exports=function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var c=new Error(\"Cannot find module '\"+a+\"'\");throw c.code=\"MODULE_NOT_FOUND\",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,(function(e){return r(t[a][1][e]||e)}),l,l.exports,e,t,n,i)}return n[a].exports}for(var o=!1,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){\"use strict\";var i={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};i.localCName=i.generateIdentifier(),i.splitLines=function(e){return e.trim().split(\"\\n\").map((function(e){return e.trim()}))},i.splitSections=function(e){return e.split(\"\\nm=\").map((function(e,t){return(t>0?\"m=\"+e:e).trim()+\"\\r\\n\"}))},i.matchPrefix=function(e,t){return i.splitLines(e).filter((function(e){return 0===e.indexOf(t)}))},i.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf(\"a=candidate:\")?e.substring(12).split(\" \"):e.substring(10).split(\" \"))[0],component:t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],port:parseInt(t[5],10),type:t[7]},i=8;i<t.length;i+=2)switch(t[i]){case\"raddr\":n.relatedAddress=t[i+1];break;case\"rport\":n.relatedPort=parseInt(t[i+1],10);break;case\"tcptype\":n.tcpType=t[i+1]}return n},i.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.ip),t.push(e.port);var n=e.type;return t.push(\"typ\"),t.push(n),\"host\"!==n&&e.relatedAddress&&e.relatedPort&&(t.push(\"raddr\"),t.push(e.relatedAddress),t.push(\"rport\"),t.push(e.relatedPort)),e.tcpType&&\"tcp\"===e.protocol.toLowerCase()&&(t.push(\"tcptype\"),t.push(e.tcpType)),\"candidate:\"+t.join(\" \")},i.parseRtpMap=function(e){var t=e.substr(9).split(\" \"),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split(\"/\"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.numChannels=3===t.length?parseInt(t[2],10):1,n},i.writeRtpMap=function(e){var t=e.payloadType;return void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType),\"a=rtpmap:\"+t+\" \"+e.name+\"/\"+e.clockRate+(1!==e.numChannels?\"/\"+e.numChannels:\"\")+\"\\r\\n\"},i.parseExtmap=function(e){var t=e.substr(9).split(\" \");return{id:parseInt(t[0],10),uri:t[1]}},i.writeExtmap=function(e){return\"a=extmap:\"+(e.id||e.preferredId)+\" \"+e.uri+\"\\r\\n\"},i.parseFmtp=function(e){for(var t,n={},i=e.substr(e.indexOf(\" \")+1).split(\";\"),r=0;r<i.length;r++)n[(t=i[r].trim().split(\"=\"))[0].trim()]=t[1];return n},i.writeFmtp=function(e){var t=\"\",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var i=[];Object.keys(e.parameters).forEach((function(t){i.push(t+\"=\"+e.parameters[t])})),t+=\"a=fmtp:\"+n+\" \"+i.join(\";\")+\"\\r\\n\"}return t},i.parseRtcpFb=function(e){var t=e.substr(e.indexOf(\" \")+1).split(\" \");return{type:t.shift(),parameter:t.join(\" \")}},i.writeRtcpFb=function(e){var t=\"\",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+=\"a=rtcp-fb:\"+n+\" \"+e.type+(e.parameter&&e.parameter.length?\" \"+e.parameter:\"\")+\"\\r\\n\"})),t},i.parseSsrcMedia=function(e){var t=e.indexOf(\" \"),n={ssrc:parseInt(e.substr(7,t-7),10)},i=e.indexOf(\":\",t);return i>-1?(n.attribute=e.substr(t+1,i-t-1),n.value=e.substr(i+1)):n.attribute=e.substr(t+1),n},i.getDtlsParameters=function(e,t){var n=i.splitLines(e),r=(n=n.concat(i.splitLines(t))).filter((function(e){return 0===e.indexOf(\"a=fingerprint:\")}))[0].substr(14);return{role:\"auto\",fingerprints:[{algorithm:r.split(\" \")[0],value:r.split(\" \")[1]}]}},i.writeDtlsParameters=function(e,t){var n=\"a=setup:\"+t+\"\\r\\n\";return e.fingerprints.forEach((function(e){n+=\"a=fingerprint:\"+e.algorithm+\" \"+e.value+\"\\r\\n\"})),n},i.getIceParameters=function(e,t){var n=i.splitLines(e);return{usernameFragment:(n=n.concat(i.splitLines(t))).filter((function(e){return 0===e.indexOf(\"a=ice-ufrag:\")}))[0].substr(12),password:n.filter((function(e){return 0===e.indexOf(\"a=ice-pwd:\")}))[0].substr(10)}},i.writeIceParameters=function(e){return\"a=ice-ufrag:\"+e.usernameFragment+\"\\r\\na=ice-pwd:\"+e.password+\"\\r\\n\"},i.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=i.splitLines(e)[0].split(\" \"),r=3;r<n.length;r++){var o=n[r],a=i.matchPrefix(e,\"a=rtpmap:\"+o+\" \")[0];if(a){var s=i.parseRtpMap(a),c=i.matchPrefix(e,\"a=fmtp:\"+o+\" \");switch(s.parameters=c.length?i.parseFmtp(c[0]):{},s.rtcpFeedback=i.matchPrefix(e,\"a=rtcp-fb:\"+o+\" \").map(i.parseRtcpFb),t.codecs.push(s),s.name.toUpperCase()){case\"RED\":case\"ULPFEC\":t.fecMechanisms.push(s.name.toUpperCase())}}}return i.matchPrefix(e,\"a=extmap:\").forEach((function(e){t.headerExtensions.push(i.parseExtmap(e))})),t},i.writeRtpDescription=function(e,t){var n=\"\";return n+=\"m=\"+e+\" \",n+=t.codecs.length>0?\"9\":\"0\",n+=\" UDP/TLS/RTP/SAVPF \",n+=t.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(\" \")+\"\\r\\n\",n+=\"c=IN IP4 0.0.0.0\\r\\n\",n+=\"a=rtcp:9 IN IP4 0.0.0.0\\r\\n\",t.codecs.forEach((function(e){n+=i.writeRtpMap(e),n+=i.writeFmtp(e),n+=i.writeRtcpFb(e)})),n+=\"a=rtcp-mux\\r\\n\"},i.parseRtpEncodingParameters=function(e){var t,n=[],r=i.parseRtpParameters(e),o=-1!==r.fecMechanisms.indexOf(\"RED\"),a=-1!==r.fecMechanisms.indexOf(\"ULPFEC\"),s=i.matchPrefix(e,\"a=ssrc:\").map((function(e){return i.parseSsrcMedia(e)})).filter((function(e){return\"cname\"===e.attribute})),c=s.length>0&&s[0].ssrc,l=i.matchPrefix(e,\"a=ssrc-group:FID\").map((function(e){var t=e.split(\" \");return t.shift(),t.map((function(e){return parseInt(e,10)}))}));l.length>0&&l[0].length>1&&l[0][0]===c&&(t=l[0][1]),r.codecs.forEach((function(e){if(\"RTX\"===e.name.toUpperCase()&&e.parameters.apt){var i={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10),rtx:{payloadType:e.payloadType,ssrc:t}};n.push(i),o&&((i=JSON.parse(JSON.stringify(i))).fec={ssrc:t,mechanism:a?\"red+ulpfec\":\"red\"},n.push(i))}})),0===n.length&&c&&n.push({ssrc:c});var u=i.matchPrefix(e,\"b=\");return u.length&&(0===u[0].indexOf(\"b=TIAS:\")?u=parseInt(u[0].substr(7),10):0===u[0].indexOf(\"b=AS:\")&&(u=parseInt(u[0].substr(5),10)),n.forEach((function(e){e.maxBitrate=u}))),n},i.writeSessionBoilerplate=function(){return\"v=0\\r\\no=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\\r\\ns=-\\r\\nt=0 0\\r\\n\"},i.writeMediaSection=function(e,t,n,r){var o=i.writeRtpDescription(e.kind,t);if(o+=i.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=i.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),\"offer\"===n?\"actpass\":\"active\"),o+=\"a=mid:\"+e.mid+\"\\r\\n\",o+=e.rtpSender&&e.rtpReceiver?\"a=sendrecv\\r\\n\":e.rtpSender?\"a=sendonly\\r\\n\":e.rtpReceiver?\"a=recvonly\\r\\n\":\"a=inactive\\r\\n\",e.rtpSender){var a=\"msid:\"+r.id+\" \"+e.rtpSender.track.id+\"\\r\\n\";o+=\"a=\"+a,o+=\"a=ssrc:\"+e.sendEncodingParameters[0].ssrc+\" \"+a}return o+\"a=ssrc:\"+e.sendEncodingParameters[0].ssrc+\" cname:\"+i.localCName+\"\\r\\n\"},i.getDirection=function(e,t){for(var n=i.splitLines(e),r=0;r<n.length;r++)switch(n[r]){case\"a=sendrecv\":case\"a=sendonly\":case\"a=recvonly\":case\"a=inactive\":return n[r].substr(2)}return t?i.getDirection(t):\"sendrecv\"},t.exports=i},{}],2:[function(e,t,n){\"use strict\";!function(){var n=e(\"./utils\").log,i=e(\"./utils\").browserDetails;t.exports.browserDetails=i,t.exports.extractVersion=e(\"./utils\").extractVersion,t.exports.disableLog=e(\"./utils\").disableLog;var r=e(\"./chrome/chrome_shim\")||null,o=e(\"./edge/edge_shim\")||null,a=e(\"./firefox/firefox_shim\")||null,s=e(\"./safari/safari_shim\")||null;switch(i.browser){case\"opera\":case\"chrome\":if(!r||!r.shimPeerConnection)return void n(\"Chrome shim is not included in this adapter release.\");n(\"adapter.js shimming chrome.\"),t.exports.browserShim=r,r.shimGetUserMedia(),r.shimMediaStream(),r.shimSourceObject(),r.shimPeerConnection(),r.shimOnTrack();break;case\"firefox\":if(!a||!a.shimPeerConnection)return void n(\"Firefox shim is not included in this adapter release.\");n(\"adapter.js shimming firefox.\"),t.exports.browserShim=a,a.shimGetUserMedia(),a.shimSourceObject(),a.shimPeerConnection(),a.shimOnTrack();break;case\"edge\":if(!o||!o.shimPeerConnection)return void n(\"MS edge shim is not included in this adapter release.\");n(\"adapter.js shimming edge.\"),t.exports.browserShim=o,o.shimGetUserMedia(),o.shimPeerConnection();break;case\"safari\":if(!s)return void n(\"Safari shim is not included in this adapter release.\");n(\"adapter.js shimming safari.\"),t.exports.browserShim=s,s.shimGetUserMedia();break;default:n(\"Unsupported browser!\")}}()},{\"./chrome/chrome_shim\":3,\"./edge/edge_shim\":5,\"./firefox/firefox_shim\":7,\"./safari/safari_shim\":9,\"./utils\":10}],3:[function(e,t,n){\"use strict\";var i=e(\"../utils.js\").log,r=e(\"../utils.js\").browserDetails,o={shimMediaStream:function(){window.MediaStream=window.MediaStream||window.webkitMediaStream},shimOnTrack:function(){\"object\"!=typeof window||!window.RTCPeerConnection||\"ontrack\"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,\"ontrack\",{get:function(){return this._ontrack},set:function(e){var t=this;this._ontrack&&(this.removeEventListener(\"track\",this._ontrack),this.removeEventListener(\"addstream\",this._ontrackpoly)),this.addEventListener(\"track\",this._ontrack=e),this.addEventListener(\"addstream\",this._ontrackpoly=(function(e){e.stream.addEventListener(\"addtrack\",(function(n){var i=new Event(\"track\");i.track=n.track,i.receiver={track:n.track},i.streams=[e.stream],t.dispatchEvent(i)})),e.stream.getTracks().forEach((function(t){var n=new Event(\"track\");n.track=t,n.receiver={track:t},n.streams=[e.stream],this.dispatchEvent(n)}).bind(this))}).bind(this))}})},shimSourceObject:function(){\"object\"==typeof window&&(!window.HTMLMediaElement||\"srcObject\"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,\"srcObject\",{get:function(){return this._srcObject},set:function(e){var t=this;return this._srcObject=e,this.src&&URL.revokeObjectURL(this.src),e?(this.src=URL.createObjectURL(e),e.addEventListener(\"addtrack\",(function(){t.src&&URL.revokeObjectURL(t.src),t.src=URL.createObjectURL(e)})),void e.addEventListener(\"removetrack\",(function(){t.src&&URL.revokeObjectURL(t.src),t.src=URL.createObjectURL(e)}))):void(this.src=\"\")}}))},shimPeerConnection:function(){window.RTCPeerConnection=function(e,t){i(\"PeerConnection\"),e&&e.iceTransportPolicy&&(e.iceTransports=e.iceTransportPolicy);var n=new webkitRTCPeerConnection(e,t),r=n.getStats.bind(n);return n.getStats=function(e,t,n){var i=this,o=arguments;if(arguments.length>0&&\"function\"==typeof e)return r(e,t);var a=function(e){var t={};return e.result().forEach((function(e){var n={id:e.id,timestamp:e.timestamp,type:e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t[n.id]=n})),t},s=function(e,t){var n=new Map(Object.keys(e).map((function(t){return[t,e[t]]})));return t=t||e,Object.keys(t).forEach((function(e){n[e]=t[e]})),n};if(arguments.length>=2){var c=function(e){o[1](s(a(e)))};return r.apply(this,[c,arguments[0]])}return new Promise((function(t,n){r.apply(i,1===o.length&&\"object\"==typeof e?[function(e){t(s(a(e)))},n]:[function(e){t(s(a(e),e.result()))},n])})).then(t,n)},n},window.RTCPeerConnection.prototype=webkitRTCPeerConnection.prototype,webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,\"generateCertificate\",{get:function(){return webkitRTCPeerConnection.generateCertificate}}),[\"createOffer\",\"createAnswer\"].forEach((function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){var e=this;if(arguments.length<1||1===arguments.length&&\"object\"==typeof arguments[0]){var n=1===arguments.length?arguments[0]:void 0;return new Promise((function(i,r){t.apply(e,[i,r,n])}))}return t.apply(this,arguments)}})),r.version<51&&[\"setLocalDescription\",\"setRemoteDescription\",\"addIceCandidate\"].forEach((function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){var e=arguments,n=this,i=new Promise((function(i,r){t.apply(n,[e[0],i,r])}));return e.length<2?i:i.then((function(){e[1].apply(null,[])}),(function(t){e.length>=3&&e[2].apply(null,[t])}))}})),[\"setLocalDescription\",\"setRemoteDescription\",\"addIceCandidate\"].forEach((function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){return arguments[0]=new(\"addIceCandidate\"===e?RTCIceCandidate:RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}}));var e=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return null===arguments[0]?Promise.resolve():e.apply(this,arguments)}}};t.exports={shimMediaStream:o.shimMediaStream,shimOnTrack:o.shimOnTrack,shimSourceObject:o.shimSourceObject,shimPeerConnection:o.shimPeerConnection,shimGetUserMedia:e(\"./getusermedia\")}},{\"../utils.js\":10,\"./getusermedia\":4}],4:[function(e,t,n){\"use strict\";var i=e(\"../utils.js\").log;t.exports=function(){var e=function(e){if(\"object\"!=typeof e||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(n){if(\"require\"!==n&&\"advanced\"!==n&&\"mediaSource\"!==n){var i=\"object\"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==i.exact&&\"number\"==typeof i.exact&&(i.min=i.max=i.exact);var r=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):\"deviceId\"===t?\"sourceId\":t};if(void 0!==i.ideal){t.optional=t.optional||[];var o={};\"number\"==typeof i.ideal?(o[r(\"min\",n)]=i.ideal,t.optional.push(o),(o={})[r(\"max\",n)]=i.ideal,t.optional.push(o)):(o[r(\"\",n)]=i.ideal,t.optional.push(o))}void 0!==i.exact&&\"number\"!=typeof i.exact?(t.mandatory=t.mandatory||{},t.mandatory[r(\"\",n)]=i.exact):[\"min\",\"max\"].forEach((function(e){void 0!==i[e]&&(t.mandatory=t.mandatory||{},t.mandatory[r(e,n)]=i[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},t=function(t,n){if((t=JSON.parse(JSON.stringify(t)))&&t.audio&&(t.audio=e(t.audio)),t&&\"object\"==typeof t.video){var r=t.video.facingMode;if((r=r&&(\"object\"==typeof r?r:{ideal:r}))&&(\"user\"===r.exact||\"environment\"===r.exact||\"user\"===r.ideal||\"environment\"===r.ideal)&&(!navigator.mediaDevices.getSupportedConstraints||!navigator.mediaDevices.getSupportedConstraints().facingMode)&&(delete t.video.facingMode,\"environment\"===r.exact||\"environment\"===r.ideal))return navigator.mediaDevices.enumerateDevices().then((function(o){var a=(o=o.filter((function(e){return\"videoinput\"===e.kind}))).find((function(e){return-1!==e.label.toLowerCase().indexOf(\"back\")}))||o.length&&o[o.length-1];return a&&(t.video.deviceId=r.exact?{exact:a.deviceId}:{ideal:a.deviceId}),t.video=e(t.video),i(\"chrome: \"+JSON.stringify(t)),n(t)}));t.video=e(t.video)}return i(\"chrome: \"+JSON.stringify(t)),n(t)},n=function(e){return{name:{PermissionDeniedError:\"NotAllowedError\",ConstraintNotSatisfiedError:\"OverconstrainedError\"}[e.name]||e.name,message:e.message,constraint:e.constraintName,toString:function(){return this.name+(this.message&&\": \")+this.message}}};navigator.getUserMedia=function(e,i,r){t(e,(function(e){navigator.webkitGetUserMedia(e,i,(function(e){r(n(e))}))}))};var r=function(e){return new Promise((function(t,n){navigator.getUserMedia(e,t,n)}))};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:r,enumerateDevices:function(){return new Promise((function(e){var t={audio:\"audioinput\",video:\"videoinput\"};return MediaStreamTrack.getSources((function(n){e(n.map((function(e){return{label:e.label,kind:t[e.kind],deviceId:e.id,groupId:\"\"}})))}))}))}}),navigator.mediaDevices.getUserMedia){var o=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(e){return t(e,(function(e){return o(e).catch((function(e){return Promise.reject(n(e))}))}))}}else navigator.mediaDevices.getUserMedia=function(e){return r(e)};void 0===navigator.mediaDevices.addEventListener&&(navigator.mediaDevices.addEventListener=function(){i(\"Dummy mediaDevices.addEventListener called.\")}),void 0===navigator.mediaDevices.removeEventListener&&(navigator.mediaDevices.removeEventListener=function(){i(\"Dummy mediaDevices.removeEventListener called.\")})}},{\"../utils.js\":10}],5:[function(e,t,n){\"use strict\";var i=e(\"sdp\"),r=e(\"../utils\").browserDetails,o={shimPeerConnection:function(){window.RTCIceGatherer&&(window.RTCIceCandidate||(window.RTCIceCandidate=function(e){return e}),window.RTCSessionDescription||(window.RTCSessionDescription=function(e){return e})),window.RTCPeerConnection=function(e){var t=this,n=document.createDocumentFragment();if([\"addEventListener\",\"removeEventListener\",\"dispatchEvent\"].forEach((function(e){t[e]=n[e].bind(n)})),this.onicecandidate=null,this.onaddstream=null,this.ontrack=null,this.onremovestream=null,this.onsignalingstatechange=null,this.oniceconnectionstatechange=null,this.onnegotiationneeded=null,this.ondatachannel=null,this.localStreams=[],this.remoteStreams=[],this.getLocalStreams=function(){return t.localStreams},this.getRemoteStreams=function(){return t.remoteStreams},this.localDescription=new RTCSessionDescription({type:\"\",sdp:\"\"}),this.remoteDescription=new RTCSessionDescription({type:\"\",sdp:\"\"}),this.signalingState=\"stable\",this.iceConnectionState=\"new\",this.iceGatheringState=\"new\",this.iceOptions={gatherPolicy:\"all\",iceServers:[]},e&&e.iceTransportPolicy)switch(e.iceTransportPolicy){case\"all\":case\"relay\":this.iceOptions.gatherPolicy=e.iceTransportPolicy;break;case\"none\":throw new TypeError('iceTransportPolicy \"none\" not supported')}if(this.usingBundle=e&&\"max-bundle\"===e.bundlePolicy,e&&e.iceServers){var i=JSON.parse(JSON.stringify(e.iceServers));this.iceOptions.iceServers=i.filter((function(e){if(e&&e.urls){var t=e.urls;return\"string\"==typeof t&&(t=[t]),!!(t=t.filter((function(e){return 0===e.indexOf(\"turn:\")&&-1!==e.indexOf(\"transport=udp\")&&-1===e.indexOf(\"turn:[\")||0===e.indexOf(\"stun:\")&&r.version>=14393}))[0])}return!1}))}this.transceivers=[],this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype._emitBufferedCandidates=function(){var e=this,t=i.splitSections(e.localDescription.sdp);this._localIceCandidatesBuffer.forEach((function(n){if(n.candidate&&0!==Object.keys(n.candidate).length)-1===n.candidate.candidate.indexOf(\"typ endOfCandidates\")&&(t[n.candidate.sdpMLineIndex+1]+=\"a=\"+n.candidate.candidate+\"\\r\\n\");else for(var i=1;i<t.length;i++)-1===t[i].indexOf(\"\\r\\na=end-of-candidates\\r\\n\")&&(t[i]+=\"a=end-of-candidates\\r\\n\");e.localDescription.sdp=t.join(\"\"),e.dispatchEvent(n),null!==e.onicecandidate&&e.onicecandidate(n),n.candidate||\"complete\"===e.iceGatheringState||e.transceivers.every((function(e){return e.iceGatherer&&\"completed\"===e.iceGatherer.state}))&&(e.iceGatheringState=\"complete\")})),this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype.addStream=function(e){this.localStreams.push(e.clone()),this._maybeFireNegotiationNeeded()},window.RTCPeerConnection.prototype.removeStream=function(e){var t=this.localStreams.indexOf(e);t>-1&&(this.localStreams.splice(t,1),this._maybeFireNegotiationNeeded())},window.RTCPeerConnection.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},window.RTCPeerConnection.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},window.RTCPeerConnection.prototype._getCommonCapabilities=function(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]};return e.codecs.forEach((function(e){for(var i=0;i<t.codecs.length;i++){var r=t.codecs[i];if(e.name.toLowerCase()===r.name.toLowerCase()&&e.clockRate===r.clockRate&&e.numChannels===r.numChannels){n.codecs.push(r),r.rtcpFeedback=r.rtcpFeedback.filter((function(t){for(var n=0;n<e.rtcpFeedback.length;n++)if(e.rtcpFeedback[n].type===t.type&&e.rtcpFeedback[n].parameter===t.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var i=0;i<t.headerExtensions.length;i++){var r=t.headerExtensions[i];if(e.uri===r.uri){n.headerExtensions.push(r);break}}})),n},window.RTCPeerConnection.prototype._createIceAndDtlsTransports=function(e,t){var n=this,r=new RTCIceGatherer(n.iceOptions),o=new RTCIceTransport(r);r.onlocalcandidate=function(a){var s=new Event(\"icecandidate\");s.candidate={sdpMid:e,sdpMLineIndex:t};var c=a.candidate,l=!c||0===Object.keys(c).length;l?(void 0===r.state&&(r.state=\"completed\"),s.candidate.candidate=\"candidate:1 1 udp 1 0.0.0.0 9 typ endOfCandidates\"):(c.component=\"RTCP\"===o.component?2:1,s.candidate.candidate=i.writeCandidate(c));var u=i.splitSections(n.localDescription.sdp);-1===s.candidate.candidate.indexOf(\"typ endOfCandidates\")?u[s.candidate.sdpMLineIndex+1]+=\"a=\"+s.candidate.candidate+\"\\r\\n\":u[s.candidate.sdpMLineIndex+1]+=\"a=end-of-candidates\\r\\n\",n.localDescription.sdp=u.join(\"\");var d=n.transceivers.every((function(e){return e.iceGatherer&&\"completed\"===e.iceGatherer.state}));switch(n.iceGatheringState){case\"new\":n._localIceCandidatesBuffer.push(s),l&&d&&n._localIceCandidatesBuffer.push(new Event(\"icecandidate\"));break;case\"gathering\":n._emitBufferedCandidates(),n.dispatchEvent(s),null!==n.onicecandidate&&n.onicecandidate(s),d&&(n.dispatchEvent(new Event(\"icecandidate\")),null!==n.onicecandidate&&n.onicecandidate(new Event(\"icecandidate\")),n.iceGatheringState=\"complete\")}},o.onicestatechange=function(){n._updateConnectionState()};var a=new RTCDtlsTransport(o);return a.ondtlsstatechange=function(){n._updateConnectionState()},a.onerror=function(){a.state=\"failed\",n._updateConnectionState()},{iceGatherer:r,iceTransport:o,dtlsTransport:a}},window.RTCPeerConnection.prototype._transceive=function(e,t,n){var r=this._getCommonCapabilities(e.localCapabilities,e.remoteCapabilities);t&&e.rtpSender&&(r.encodings=e.sendEncodingParameters,r.rtcp={cname:i.localCName},e.recvEncodingParameters.length&&(r.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(r)),n&&e.rtpReceiver&&(r.encodings=e.recvEncodingParameters,r.rtcp={cname:e.cname},e.sendEncodingParameters.length&&(r.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(r))},window.RTCPeerConnection.prototype.setLocalDescription=function(e){var t,n,r=this;if(\"offer\"===e.type)this._pendingOffer&&(t=i.splitSections(e.sdp),n=t.shift(),t.forEach((function(e,t){var n=i.parseRtpParameters(e);r._pendingOffer[t].localCapabilities=n})),this.transceivers=this._pendingOffer,delete this._pendingOffer);else if(\"answer\"===e.type){t=i.splitSections(r.remoteDescription.sdp),n=t.shift();var o=i.matchPrefix(n,\"a=ice-lite\").length>0;t.forEach((function(e,t){var a=r.transceivers[t],s=a.iceGatherer,c=a.iceTransport,l=a.dtlsTransport,u=a.localCapabilities,d=a.remoteCapabilities;if(\"0\"!==e.split(\"\\n\",1)[0].split(\" \",2)[1]&&!a.isDatachannel){var p=i.getIceParameters(e,n);if(o){var h=i.matchPrefix(e,\"a=candidate:\").map((function(e){return i.parseCandidate(e)})).filter((function(e){return\"1\"===e.component}));h.length&&c.setRemoteCandidates(h)}var f=i.getDtlsParameters(e,n);o&&(f.role=\"server\"),r.usingBundle&&0!==t||(c.start(s,p,o?\"controlling\":\"controlled\"),l.start(f));var m=r._getCommonCapabilities(u,d);r._transceive(a,m.codecs.length>0,!1)}}))}switch(this.localDescription={type:e.type,sdp:e.sdp},e.type){case\"offer\":this._updateSignalingState(\"have-local-offer\");break;case\"answer\":this._updateSignalingState(\"stable\");break;default:throw new TypeError('unsupported type \"'+e.type+'\"')}var a=arguments.length>1&&\"function\"==typeof arguments[1];if(a){var s=arguments[1];window.setTimeout((function(){s(),\"new\"===r.iceGatheringState&&(r.iceGatheringState=\"gathering\"),r._emitBufferedCandidates()}),0)}var c=Promise.resolve();return c.then((function(){a||(\"new\"===r.iceGatheringState&&(r.iceGatheringState=\"gathering\"),window.setTimeout(r._emitBufferedCandidates.bind(r),500))})),c},window.RTCPeerConnection.prototype.setRemoteDescription=function(e){var t=this,n=new MediaStream,r=[],o=i.splitSections(e.sdp),a=o.shift(),s=i.matchPrefix(a,\"a=ice-lite\").length>0;switch(this.usingBundle=i.matchPrefix(a,\"a=group:BUNDLE \").length>0,o.forEach((function(o,c){var l=i.splitLines(o)[0].substr(2).split(\" \"),u=l[0],d=\"0\"===l[1],p=i.getDirection(o,a),h=i.matchPrefix(o,\"a=mid:\");if(h=h.length?h[0].substr(6):i.generateIdentifier(),\"application\"!==u||\"DTLS/SCTP\"!==l[2]){var f,m,g,v,y,b,_,E,w,T,S,C,A=i.parseRtpParameters(o);d||(S=i.getIceParameters(o,a),(C=i.getDtlsParameters(o,a)).role=\"client\"),E=i.parseRtpEncodingParameters(o);var R,k=i.matchPrefix(o,\"a=ssrc:\").map((function(e){return i.parseSsrcMedia(e)})).filter((function(e){return\"cname\"===e.attribute}))[0];k&&(R=k.value);var D=i.matchPrefix(o,\"a=end-of-candidates\",a).length>0,x=i.matchPrefix(o,\"a=candidate:\").map((function(e){return i.parseCandidate(e)})).filter((function(e){return\"1\"===e.component}));if(\"offer\"!==e.type||d)\"answer\"!==e.type||d||(m=(f=t.transceivers[c]).iceGatherer,g=f.iceTransport,v=f.dtlsTransport,y=f.rtpSender,b=f.rtpReceiver,_=f.sendEncodingParameters,w=f.localCapabilities,t.transceivers[c].recvEncodingParameters=E,t.transceivers[c].remoteCapabilities=A,t.transceivers[c].cname=R,(s||D)&&x.length&&g.setRemoteCandidates(x),t.usingBundle&&0!==c||(g.start(m,S,\"controlling\"),v.start(C)),t._transceive(f,\"sendrecv\"===p||\"recvonly\"===p,\"sendrecv\"===p||\"sendonly\"===p),!b||\"sendrecv\"!==p&&\"sendonly\"!==p?delete f.rtpReceiver:(r.push([T=b.track,b]),n.addTrack(T)));else{var I,O=t.usingBundle&&c>0?{iceGatherer:t.transceivers[0].iceGatherer,iceTransport:t.transceivers[0].iceTransport,dtlsTransport:t.transceivers[0].dtlsTransport}:t._createIceAndDtlsTransports(h,c);D&&O.iceTransport.setRemoteCandidates(x),w=RTCRtpReceiver.getCapabilities(u),_=[{ssrc:1001*(2*c+2)}],b=new RTCRtpReceiver(O.dtlsTransport,u),r.push([T=b.track,b]),n.addTrack(T),t.localStreams.length>0&&t.localStreams[0].getTracks().length>=c&&(\"audio\"===u?I=t.localStreams[0].getAudioTracks()[0]:\"video\"===u&&(I=t.localStreams[0].getVideoTracks()[0]),I&&(y=new RTCRtpSender(I,O.dtlsTransport))),t.transceivers[c]={iceGatherer:O.iceGatherer,iceTransport:O.iceTransport,dtlsTransport:O.dtlsTransport,localCapabilities:w,remoteCapabilities:A,rtpSender:y,rtpReceiver:b,kind:u,mid:h,cname:R,sendEncodingParameters:_,recvEncodingParameters:E},t._transceive(t.transceivers[c],!1,\"sendrecv\"===p||\"sendonly\"===p)}}else t.transceivers[c]={mid:h,isDatachannel:!0}})),this.remoteDescription={type:e.type,sdp:e.sdp},e.type){case\"offer\":this._updateSignalingState(\"have-remote-offer\");break;case\"answer\":this._updateSignalingState(\"stable\");break;default:throw new TypeError('unsupported type \"'+e.type+'\"')}return n.getTracks().length&&(t.remoteStreams.push(n),window.setTimeout((function(){var e=new Event(\"addstream\");e.stream=n,t.dispatchEvent(e),null!==t.onaddstream&&window.setTimeout((function(){t.onaddstream(e)}),0),r.forEach((function(i){var r=i[0],o=i[1],a=new Event(\"track\");a.track=r,a.receiver=o,a.streams=[n],t.dispatchEvent(e),null!==t.ontrack&&window.setTimeout((function(){t.ontrack(a)}),0)}))}),0)),arguments.length>1&&\"function\"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._updateSignalingState(\"closed\")},window.RTCPeerConnection.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event(\"signalingstatechange\");this.dispatchEvent(t),null!==this.onsignalingstatechange&&this.onsignalingstatechange(t)},window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded=function(){var e=new Event(\"negotiationneeded\");this.dispatchEvent(e),null!==this.onnegotiationneeded&&this.onnegotiationneeded(e)},window.RTCPeerConnection.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,checking:0,connected:0,completed:0,failed:0};if(this.transceivers.forEach((function(e){t[e.iceTransport.state]++,t[e.dtlsTransport.state]++})),t.connected+=t.completed,e=\"new\",t.failed>0?e=\"failed\":t.connecting>0||t.checking>0?e=\"connecting\":t.disconnected>0?e=\"disconnected\":t.new>0?e=\"new\":(t.connected>0||t.completed>0)&&(e=\"connected\"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event(\"iceconnectionstatechange\");this.dispatchEvent(n),null!==this.oniceconnectionstatechange&&this.oniceconnectionstatechange(n)}},window.RTCPeerConnection.prototype.createOffer=function(){var e,t=this;if(this._pendingOffer)throw new Error(\"createOffer called while there is a pending offer.\");1===arguments.length&&\"function\"!=typeof arguments[0]?e=arguments[0]:3===arguments.length&&(e=arguments[2]);var n=[],r=0,o=0;if(this.localStreams.length&&(r=this.localStreams[0].getAudioTracks().length,o=this.localStreams[0].getVideoTracks().length),e){if(e.mandatory||e.optional)throw new TypeError(\"Legacy mandatory/optional constraints not supported.\");void 0!==e.offerToReceiveAudio&&(r=e.offerToReceiveAudio),void 0!==e.offerToReceiveVideo&&(o=e.offerToReceiveVideo)}for(this.localStreams.length&&this.localStreams[0].getTracks().forEach((function(e){n.push({kind:e.kind,track:e,wantReceive:\"audio\"===e.kind?r>0:o>0}),\"audio\"===e.kind?r--:\"video\"===e.kind&&o--}));r>0||o>0;)r>0&&(n.push({kind:\"audio\",wantReceive:!0}),r--),o>0&&(n.push({kind:\"video\",wantReceive:!0}),o--);var a=i.writeSessionBoilerplate(),s=[];n.forEach((function(e,n){var r,o,a=e.track,c=e.kind,l=i.generateIdentifier(),u=t.usingBundle&&n>0?{iceGatherer:s[0].iceGatherer,iceTransport:s[0].iceTransport,dtlsTransport:s[0].dtlsTransport}:t._createIceAndDtlsTransports(l,n),d=RTCRtpSender.getCapabilities(c),p=[{ssrc:1001*(2*n+1)}];a&&(r=new RTCRtpSender(a,u.dtlsTransport)),e.wantReceive&&(o=new RTCRtpReceiver(u.dtlsTransport,c)),s[n]={iceGatherer:u.iceGatherer,iceTransport:u.iceTransport,dtlsTransport:u.dtlsTransport,localCapabilities:d,remoteCapabilities:null,rtpSender:r,rtpReceiver:o,kind:c,mid:l,sendEncodingParameters:p,recvEncodingParameters:null}})),this.usingBundle&&(a+=\"a=group:BUNDLE \"+s.map((function(e){return e.mid})).join(\" \")+\"\\r\\n\"),n.forEach((function(e,n){var r=s[n];a+=i.writeMediaSection(r,r.localCapabilities,\"offer\",t.localStreams[0])})),this._pendingOffer=s;var c=new RTCSessionDescription({type:\"offer\",sdp:a});return arguments.length&&\"function\"==typeof arguments[0]&&window.setTimeout(arguments[0],0,c),Promise.resolve(c)},window.RTCPeerConnection.prototype.createAnswer=function(){var e=this,t=i.writeSessionBoilerplate();this.usingBundle&&(t+=\"a=group:BUNDLE \"+this.transceivers.map((function(e){return e.mid})).join(\" \")+\"\\r\\n\"),this.transceivers.forEach((function(n){if(n.isDatachannel)t+=\"m=application 0 DTLS/SCTP 5000\\r\\nc=IN IP4 0.0.0.0\\r\\na=mid:\"+n.mid+\"\\r\\n\";else{var r=e._getCommonCapabilities(n.localCapabilities,n.remoteCapabilities);t+=i.writeMediaSection(n,r,\"answer\",e.localStreams[0])}}));var n=new RTCSessionDescription({type:\"answer\",sdp:t});return arguments.length&&\"function\"==typeof arguments[0]&&window.setTimeout(arguments[0],0,n),Promise.resolve(n)},window.RTCPeerConnection.prototype.addIceCandidate=function(e){if(null===e)this.transceivers.forEach((function(e){e.iceTransport.addRemoteCandidate({})}));else{var t=e.sdpMLineIndex;if(e.sdpMid)for(var n=0;n<this.transceivers.length;n++)if(this.transceivers[n].mid===e.sdpMid){t=n;break}var r=this.transceivers[t];if(r){var o=Object.keys(e.candidate).length>0?i.parseCandidate(e.candidate):{};if(\"tcp\"===o.protocol&&(0===o.port||9===o.port))return;if(\"1\"!==o.component)return;\"endOfCandidates\"===o.type&&(o={}),r.iceTransport.addRemoteCandidate(o);var a=i.splitSections(this.remoteDescription.sdp);a[t+1]+=(o.type?e.candidate.trim():\"a=end-of-candidates\")+\"\\r\\n\",this.remoteDescription.sdp=a.join(\"\")}}return arguments.length>1&&\"function\"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.getStats=function(){var e=[];this.transceivers.forEach((function(t){[\"rtpSender\",\"rtpReceiver\",\"iceGatherer\",\"iceTransport\",\"dtlsTransport\"].forEach((function(n){t[n]&&e.push(t[n].getStats())}))}));var t=arguments.length>1&&\"function\"==typeof arguments[1]&&arguments[1];return new Promise((function(n){var i=new Map;Promise.all(e).then((function(e){e.forEach((function(e){Object.keys(e).forEach((function(t){i.set(t,e[t]),i[t]=e[t]}))})),t&&window.setTimeout(t,0,i),n(i)}))}))}}};t.exports={shimPeerConnection:o.shimPeerConnection,shimGetUserMedia:e(\"./getusermedia\")}},{\"../utils\":10,\"./getusermedia\":6,sdp:1}],6:[function(e,t,n){\"use strict\";t.exports=function(){var e=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(t){return e(t).catch((function(e){return Promise.reject(function(e){return{name:{PermissionDeniedError:\"NotAllowedError\"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}}(e))}))}}},{}],7:[function(e,t,n){\"use strict\";var i=e(\"../utils\").browserDetails,r={shimOnTrack:function(){\"object\"!=typeof window||!window.RTCPeerConnection||\"ontrack\"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,\"ontrack\",{get:function(){return this._ontrack},set:function(e){this._ontrack&&(this.removeEventListener(\"track\",this._ontrack),this.removeEventListener(\"addstream\",this._ontrackpoly)),this.addEventListener(\"track\",this._ontrack=e),this.addEventListener(\"addstream\",this._ontrackpoly=(function(e){e.stream.getTracks().forEach((function(t){var n=new Event(\"track\");n.track=t,n.receiver={track:t},n.streams=[e.stream],this.dispatchEvent(n)}).bind(this))}).bind(this))}})},shimSourceObject:function(){\"object\"==typeof window&&(!window.HTMLMediaElement||\"srcObject\"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,\"srcObject\",{get:function(){return this.mozSrcObject},set:function(e){this.mozSrcObject=e}}))},shimPeerConnection:function(){if(\"object\"==typeof window&&(window.RTCPeerConnection||window.mozRTCPeerConnection)){window.RTCPeerConnection||(window.RTCPeerConnection=function(e,t){if(i.version<38&&e&&e.iceServers){for(var n=[],r=0;r<e.iceServers.length;r++){var o=e.iceServers[r];if(o.hasOwnProperty(\"urls\"))for(var a=0;a<o.urls.length;a++){var s={url:o.urls[a]};0===o.urls[a].indexOf(\"turn\")&&(s.username=o.username,s.credential=o.credential),n.push(s)}else n.push(e.iceServers[r])}e.iceServers=n}return new mozRTCPeerConnection(e,t)},window.RTCPeerConnection.prototype=mozRTCPeerConnection.prototype,mozRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,\"generateCertificate\",{get:function(){return mozRTCPeerConnection.generateCertificate}}),window.RTCSessionDescription=mozRTCSessionDescription,window.RTCIceCandidate=mozRTCIceCandidate),[\"setLocalDescription\",\"setRemoteDescription\",\"addIceCandidate\"].forEach((function(e){var t=RTCPeerConnection.prototype[e];RTCPeerConnection.prototype[e]=function(){return arguments[0]=new(\"addIceCandidate\"===e?RTCIceCandidate:RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}}));var e=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return null===arguments[0]?Promise.resolve():e.apply(this,arguments)};var t=RTCPeerConnection.prototype.getStats;RTCPeerConnection.prototype.getStats=function(e,n,i){return t.apply(this,[e||null]).then((function(e){return function(e){var t=new Map;return Object.keys(e).forEach((function(n){t.set(n,e[n]),t[n]=e[n]})),t}(e)})).then(n,i)}}}};t.exports={shimOnTrack:r.shimOnTrack,shimSourceObject:r.shimSourceObject,shimPeerConnection:r.shimPeerConnection,shimGetUserMedia:e(\"./getusermedia\")}},{\"../utils\":10,\"./getusermedia\":8}],8:[function(e,t,n){\"use strict\";var i=e(\"../utils\").log,o=e(\"../utils\").browserDetails;t.exports=function(){var e=function(e){return{name:{SecurityError:\"NotAllowedError\",PermissionDeniedError:\"NotAllowedError\"}[e.name]||e.name,message:{\"The operation is insecure.\":\"The request is not allowed by the user agent or the platform in the current context.\"}[e.message]||e.message,constraint:e.constraint,toString:function(){return this.name+(this.message&&\": \")+this.message}}},t=function(t,n,r){var a=function(e){if(\"object\"!=typeof e||e.require)return e;var t=[];return Object.keys(e).forEach((function(n){if(\"require\"!==n&&\"advanced\"!==n&&\"mediaSource\"!==n){var i=e[n]=\"object\"==typeof e[n]?e[n]:{ideal:e[n]};if(void 0===i.min&&void 0===i.max&&void 0===i.exact||t.push(n),void 0!==i.exact&&(\"number\"==typeof i.exact?i.min=i.max=i.exact:e[n]=i.exact,delete i.exact),void 0!==i.ideal){e.advanced=e.advanced||[];var r={};r[n]=\"number\"==typeof i.ideal?{min:i.ideal,max:i.ideal}:i.ideal,e.advanced.push(r),delete i.ideal,Object.keys(i).length||delete e[n]}}})),t.length&&(e.require=t),e};return t=JSON.parse(JSON.stringify(t)),o.version<38&&(i(\"spec: \"+JSON.stringify(t)),t.audio&&(t.audio=a(t.audio)),t.video&&(t.video=a(t.video)),i(\"ff37: \"+JSON.stringify(t))),navigator.mozGetUserMedia(t,n,(function(t){r(e(t))}))};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:function(e){return new Promise((function(n,i){t(e,n,i)}))},addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.enumerateDevices=navigator.mediaDevices.enumerateDevices||function(){return new Promise((function(e){e([{kind:\"audioinput\",deviceId:\"default\",label:\"\",groupId:\"\"},{kind:\"videoinput\",deviceId:\"default\",label:\"\",groupId:\"\"}])}))},o.version<41){var n=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return n().then(void 0,(function(e){if(\"NotFoundError\"===e.name)return[];throw e}))}}if(o.version<49){var a=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(t){return a(t).catch((function(t){return Promise.reject(e(t))}))}}navigator.getUserMedia=function(e,n,i){return o.version<44?t(e,n,i):(r.warn(\"navigator.getUserMedia has been replaced by navigator.mediaDevices.getUserMedia\"),void navigator.mediaDevices.getUserMedia(e).then(n,i))}}},{\"../utils\":10}],9:[function(e,t,n){\"use strict\";t.exports={shimGetUserMedia:function(){navigator.getUserMedia=navigator.webkitGetUserMedia}}},{}],10:[function(e,t,n){\"use strict\";var i=!0,o={disableLog:function(e){return\"boolean\"!=typeof e?new Error(\"Argument type: \"+typeof e+\". Please use a boolean.\"):(i=e,e?\"adapter.js logging disabled\":\"adapter.js logging enabled\")},log:function(){if(\"object\"==typeof window){if(i)return;void 0!==r&&\"function\"==typeof r.log&&r.log.apply(r,arguments)}},extractVersion:function(e,t,n){var i=e.match(t);return i&&i.length>=n&&parseInt(i[n],10)},detectBrowser:function(){var e={browser:null,version:null};if(\"undefined\"==typeof window||!window.navigator)return e.browser=\"Not a browser.\",e;if(navigator.mozGetUserMedia)e.browser=\"firefox\",e.version=this.extractVersion(navigator.userAgent,/Firefox\\/([0-9]+)\\./,1);else if(navigator.webkitGetUserMedia)if(window.webkitRTCPeerConnection)e.browser=\"chrome\",e.version=this.extractVersion(navigator.userAgent,/Chrom(e|ium)\\/([0-9]+)\\./,2);else{if(!navigator.userAgent.match(/Version\\/(\\d+).(\\d+)/))return e.browser=\"Unsupported webkit-based browser with GUM support but no WebRTC support.\",e;e.browser=\"safari\",e.version=this.extractVersion(navigator.userAgent,/AppleWebKit\\/([0-9]+)\\./,1)}else{if(!navigator.mediaDevices||!navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/))return e.browser=\"Not a supported browser.\",e;e.browser=\"edge\",e.version=this.extractVersion(navigator.userAgent,/Edge\\/(\\d+).(\\d+)$/,2)}return e}};t.exports={log:o.log,disableLog:o.disableLog,browserDetails:o.detectBrowser(),extractVersion:o.extractVersion}},{}]},{},[2])(2),o.parseWebrtcDetectedBrowser(),navigator.mozGetUserMedia?(MediaStreamTrack.getSources=function(e){setTimeout((function(){e([{kind:\"audio\",id:\"default\",label:\"\",facing:\"\"},{kind:\"video\",id:\"default\",label:\"\",facing:\"\"}])}),0)},attachMediaStream=function(e,t){return e.srcObject=t,e},reattachMediaStream=function(e,t){return e.srcObject=t.srcObject,e},createIceServer=function(e,t,n){r.warn(\"createIceServer is deprecated. It should be replaced with an application level implementation.\");var i=null,o=e.split(\":\");if(0===o[0].indexOf(\"stun\"))i={urls:[e]};else if(0===o[0].indexOf(\"turn\"))if(webrtcDetectedVersion<27){var a=e.split(\"?\");1!==a.length&&0!==a[1].indexOf(\"transport=udp\")||(i={urls:[a[0]],credential:n,username:t})}else i={urls:[e],credential:n,username:t};return i},createIceServers=function(e,t,n){r.warn(\"createIceServers is deprecated. It should be replaced with an application level implementation.\");var o=[];for(i=0;i<e.length;i++){var a=createIceServer(e[i],t,n);null!==a&&o.push(a)}return o}):navigator.webkitGetUserMedia?(attachMediaStream=function(e,t){return webrtcDetectedVersion>=43?e.srcObject=t:void 0!==e.src?e.src=URL.createObjectURL(t):r.error(\"Error attaching stream to element.\"),e},reattachMediaStream=function(e,t){return webrtcDetectedVersion>=43?e.srcObject=t.srcObject:e.src=t.src,e},createIceServer=function(e,t,n){r.warn(\"createIceServer is deprecated. It should be replaced with an application level implementation.\");var i=null,o=e.split(\":\");return 0===o[0].indexOf(\"stun\")?i={url:e}:0===o[0].indexOf(\"turn\")&&(i={url:e,credential:n,username:t}),i},createIceServers=function(e,t,n){r.warn(\"createIceServers is deprecated. It should be replaced with an application level implementation.\");var o=[];if(webrtcDetectedVersion>=34)o={urls:e,credential:n,username:t};else for(i=0;i<e.length;i++){var a=createIceServer(e[i],t,n);null!==a&&o.push(a)}return o}):navigator.mediaDevices&&navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)&&(attachMediaStream=function(e,t){return e.srcObject=t,e},reattachMediaStream=function(e,t){return e.srcObject=t.srcObject,e}),attachMediaStream_base=attachMediaStream,\"opera\"===webrtcDetectedBrowser&&(attachMediaStream_base=function(e,t){webrtcDetectedVersion>38?e.srcObject=t:void 0!==e.src&&(e.src=URL.createObjectURL(t))}),attachMediaStream=function(e,t){return\"chrome\"!==webrtcDetectedBrowser&&\"opera\"!==webrtcDetectedBrowser||t?attachMediaStream_base(e,t):e.src=\"\",e},reattachMediaStream_base=reattachMediaStream,reattachMediaStream=function(e,t){return reattachMediaStream_base(e,t),e},window.attachMediaStream=attachMediaStream,window.reattachMediaStream=reattachMediaStream,window.getUserMedia=function(e,t,n){navigator.getUserMedia(e,t,n)},o.attachMediaStream=attachMediaStream,o.reattachMediaStream=reattachMediaStream,o.getUserMedia=getUserMedia,\"undefined\"==typeof Promise&&(requestUserMedia=null),o.maybeThroughWebRTCReady()),function(){\"use strict\";var e=null;o.TEXT.EXTENSION={REQUIRE_INSTALLATION_FF:\"To enable screensharing you need to install the Skylink WebRTC tools Firefox Add-on.\",REQUIRE_INSTALLATION_CHROME:\"To enable screensharing you need to install the Skylink WebRTC tools Chrome Extension.\",REQUIRE_REFRESH:\"Please refresh this page after the Skylink WebRTC tools extension has been installed.\",BUTTON_FF:\"Install Now\",BUTTON_CHROME:\"Go to Chrome Web Store\"};var t=function(e){if(null===e||\"object\"!=typeof e)return e;var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t};if(window.navigator.mozGetUserMedia?(e=window.navigator.getUserMedia,navigator.getUserMedia=function(n,i,r){if(n&&n.video&&n.video.mediaSource){if(\"screen\"!==n.video.mediaSource&&\"window\"!==n.video.mediaSource)return void r(new Error('GetUserMedia: Only \"screen\" and \"window\" are supported as mediaSource constraints'));var a=t(n);a.video.mozMediaSource=a.video.mediaSource;var s=setInterval((function(){\"complete\"===document.readyState&&(clearInterval(s),e(a,i,(function(e){[\"PermissionDeniedError\",\"SecurityError\"].indexOf(e.name)>-1&&\"https:\"===window.parent.location.protocol?o.renderNotificationBar(o.TEXT.EXTENSION.REQUIRE_INSTALLATION_FF,o.TEXT.EXTENSION.BUTTON_FF,\"https://addons.mozilla.org/en-US/firefox/addon/skylink-webrtc-tools/\",!0,!0):r(e)})))}),1)}else e(n,i,r)},o.getUserMedia=window.getUserMedia=navigator.getUserMedia):window.navigator.webkitGetUserMedia&&\"safari\"!==window.webrtcDetectedBrowser?(e=window.navigator.getUserMedia,navigator.getUserMedia=function(n,r,a){if(n&&n.video&&n.video.mediaSource){if(\"chrome\"!==window.webrtcDetectedBrowser)return void a(new Error(\"Current browser does not support screensharing\"));var s=t(n),c=function(t,n){t?a(\"permission-denied\"===t?new Error(\"Permission denied for screen retrieval\"):new Error(\"Failed retrieving selected screen\")):(s.video.mandatory=s.video.mandatory||{},s.video.mandatory.chromeMediaSource=\"desktop\",s.video.mandatory.maxWidth=window.screen.width>1920?window.screen.width:1920,s.video.mandatory.maxHeight=window.screen.height>1080?window.screen.height:1080,n&&(s.video.mandatory.chromeMediaSourceId=n),delete s.video.mediaSource,e(s,r,a))},l=function(e){e.data&&(e.data.chromeMediaSourceId&&(\"PermissionDeniedError\"===e.data.chromeMediaSourceId?c(\"permission-denied\"):c(null,e.data.chromeMediaSourceId)),e.data.chromeExtensionStatus&&(\"not-installed\"===e.data.chromeExtensionStatus?o.renderNotificationBar(o.TEXT.EXTENSION.REQUIRE_INSTALLATION_CHROME,o.TEXT.EXTENSION.BUTTON_CHROME,e.data.data,!0,!0):c(e.data.chromeExtensionStatus,null)),window.removeEventListener(\"message\",l))};window.addEventListener(\"message\",l),i({captureSourceId:!0})}else e(n,r,a)},o.getUserMedia=window.getUserMedia=navigator.getUserMedia,navigator.mediaDevices.getUserMedia=function(e){return new Promise((function(t,n){window.getUserMedia(e,t,n)}))}):navigator.mediaDevices&&navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)?r.warn(\"Edge does not support screensharing feature in getUserMedia\"):(e=window.navigator.getUserMedia,navigator.getUserMedia=function(n,i,r){if(n&&n.video&&n.video.mediaSource){var a=t(n);o.WebRTCPlugin.callWhenPluginReady((function(){return o.WebRTCPlugin.plugin.HasScreensharingFeature&&o.WebRTCPlugin.plugin.isScreensharingAvailable?(a.video.optional=a.video.optional||[],a.video.optional.push({sourceId:o.WebRTCPlugin.plugin.screensharingKey||\"Screensharing\"}),delete a.video.mediaSource,void e(a,i,r)):void r(new Error(\"Your version of the WebRTC plugin does not support screensharing\"))}))}else e(n,i,r)},o.getUserMedia=getUserMedia=window.getUserMedia=navigator.getUserMedia,navigator.mediaDevices&&\"undefined\"!=typeof Promise&&(navigator.mediaDevices.getUserMedia=requestUserMedia)),\"chrome\"===window.webrtcDetectedBrowser){var n=document.createElement(\"iframe\");n.onload=function(){n.isLoaded=!0},n.src=\"https://cdn.temasys.com.sg/skylink/extensions/detectRTC.html\",n.style.display=\"none\",(document.body||document.documentElement).appendChild(n);var i=function(e){return e=e||{},n.isLoaded?void n.contentWindow.postMessage(e,\"*\"):void setTimeout((function(){n.contentWindow.postMessage(e,\"*\")}),100)}}else\"opera\"===window.webrtcDetectedBrowser&&r.warn(\"Opera does not support screensharing feature in getUserMedia\")}()}).call(t,\"modules/RTC/adapter.screenshare.js\")},function(e,t){\"use strict\";e.exports={CAMERA:\"camera\",DESKTOP:\"desktop\"}},function(e,t){\"use strict\";e.exports={ENVIRONMENT:\"environment\",USER:\"user\"}},function(e,t,n){(function(t){\"use strict\";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t,n,i,r,o,a){var s=this;u.call(this,null,e,t,(function(){this.dontFireRemoveEvent||this.eventEmitter.emit(c.LOCAL_TRACK_STOPPED),this.dontFireRemoveEvent=!1}).bind(this),n,i,null),this.dontFireRemoveEvent=!1,this.resolution=r,h.isFirefox()&&(this.resolution=null),this.deviceId=o,this.startMuted=!1,this.initialMSID=this.getMSID(),this.inMuteOrUnmuteProgress=!1,this._facingMode=a,this._trackEnded=!1,this._bytesSent=null,this._testByteSent=!0,this._realDeviceId=\"\"===this.deviceId?void 0:this.deviceId,this.stopStreamInProgress=!1,this._noDataFromSourceTimeout=null,this._onDeviceListChanged=function(e){s._setRealDeviceIdFromDeviceList(e),void 0!==s.getTrack().readyState||void 0===s._realDeviceId||e.find((function(e){return e.deviceId===s._realDeviceId}))||(s._trackEnded=!0)},this.isAudioTrack()&&m.isDeviceChangeAvailable(\"output\")&&(this._onAudioOutputDeviceChanged=this.setAudioOutput.bind(this),m.addListener(f.AUDIO_OUTPUT_DEVICE_CHANGED,this._onAudioOutputDeviceChanged)),m.addListener(f.DEVICE_LIST_CHANGED,this._onDeviceListChanged),this._initNoDataFromSourceHandlers()}function o(e,t){return e.inMuteOrUnmuteProgress?Promise.reject(new a.default(s.TRACK_MUTE_UNMUTE_IN_PROGRESS)):(e.inMuteOrUnmuteProgress=!0,e._setMute(t).then((function(){e.inMuteOrUnmuteProgress=!1})).catch((function(t){throw e.inMuteOrUnmuteProgress=!1,t})))}var a=function(e){return e&&e.__esModule?e:{default:e}}(n(6)),s=i(n(7)),c=i(n(8)),l=n(56),u=n(58),d=n(9).getLogger(t),p=n(36),h=n(32),f=n(49),m=n(50),g=n(59),v=n(55);(r.prototype=Object.create(u.prototype)).constructor=r,r.prototype.isEnded=function(){return\"ended\"===this.getTrack().readyState||this._trackEnded},r.prototype._initNoDataFromSourceHandlers=function(){var e=this;this.isVideoTrack()&&this.videoType===v.CAMERA&&function(){var t=e._onNoDataFromSourceError.bind(e);e._setHandler(\"track_mute\",(function(){e._checkForCameraIssues()&&function(){var n=window.performance.now();e._noDataFromSourceTimeout=setTimeout(t,3e3),e._setHandler(\"track_unmute\",(function(){e._clearNoDataFromSourceMuteResources(),g.sendEventToAll(e.getType()+\".track_unmute\",{value:window.performance.now()-n})}))}()})),e._setHandler(\"track_ended\",t)}()},r.prototype._clearNoDataFromSourceMuteResources=function(){this._noDataFromSourceTimeout&&(clearTimeout(this._noDataFromSourceTimeout),this._noDataFromSourceTimeout=null),this._setHandler(\"track_unmute\",void 0)},r.prototype._onNoDataFromSourceError=function(){this._clearNoDataFromSourceMuteResources(),this._checkForCameraIssues()&&this._fireNoDataFromSourceEvent()},r.prototype._fireNoDataFromSourceEvent=function(){this.eventEmitter.emit(c.NO_DATA_FROM_SOURCE),g.sendEventToAll(this.getType()+\".no_data_from_source\")},r.prototype._setRealDeviceIdFromDeviceList=function(e){var t=this.getTrack(),n=e.find((function(e){return e.kind===t.kind+\"input\"&&e.label===t.label}));n&&(this._realDeviceId=n.deviceId)},r.prototype.mute=function(){return o(this,!0)},r.prototype.unmute=function(){return o(this,!1)},r.prototype._setMute=function(e){var t=this;if(this.isMuted()===e)return Promise.resolve();var n=Promise.resolve(),i=this;if(this.conference&&this.conference.room||(this.startMuted=e),this.dontFireRemoveEvent=!1,\"https:\"!==window.location.protocol||this.isAudioTrack()||this.videoType===v.DESKTOP||h.isFirefox())this.track&&(this.track.enabled=!e);else if(e)this.dontFireRemoveEvent=!0,n=new Promise((function(e,n){t._removeStreamFromConferenceAsMute((function(){t._stopMediaStream(),t._setStream(null),e()}),(function(e){n(e)}))}));else{var r={cameraDeviceId:this.getDeviceId(),devices:[p.VIDEO],facingMode:this.getCameraFacingMode()};this.resolution&&(r.resolution=this.resolution),n=m.obtainAudioAndVideoPermissions(r).then((function(e){var t=i.getType(),n=e.find((function(e){return e.mediaType===t}));if(!n)throw new a.default(s.TRACK_NO_STREAM_FOUND);return i._setStream(n.stream),i.track=n.track,i.videoType!==n.videoType&&(d.warn(\"Video type has changed after unmute!\",i.videoType,n.videoType),i.videoType=n.videoType),i.containers=i.containers.map((function(e){return m.attachMediaStream(e,i.stream)})),i._addStreamToConferenceAsUnmute()}))}return n.then((function(){return i._sendMuteStatus(e)})).then((function(){i.eventEmitter.emit(c.TRACK_MUTE_CHANGED,this)}))},r.prototype._addStreamToConferenceAsUnmute=function(){if(!this.conference||!this.conference.room)return Promise.resolve();var e=this;return new Promise((function(t,n){e.conference.room.addStream(e.stream,t,n,{mtype:e.type,type:\"unmute\",ssrc:e.ssrc,msid:e.getMSID()})}))},r.prototype._removeStreamFromConferenceAsMute=function(e,t){return this.conference&&this.conference.room?void this.conference.room.removeStream(this.stream,e,t,{mtype:this.type,type:\"mute\",ssrc:this.ssrc}):void e()},r.prototype._sendMuteStatus=function(e){if(!this.conference||!this.conference.room)return Promise.resolve();var t=this;return new Promise((function(n){t.conference.room[t.isAudioTrack()?\"setAudioMute\":\"setVideoMute\"](e,n)}))},r.prototype.dispose=function(){var e=this,t=Promise.resolve();return this.conference&&(t=this.conference.removeTrack(this)),this.stream&&(this._stopMediaStream(),this.detach()),m.removeListener(f.DEVICE_LIST_CHANGED,this._onDeviceListChanged),this._onAudioOutputDeviceChanged&&m.removeListener(f.AUDIO_OUTPUT_DEVICE_CHANGED,this._onAudioOutputDeviceChanged),t.then((function(){return u.prototype.dispose.call(e)}))},r.prototype.isMuted=function(){return!(this.stream&&(!this.isVideoTrack()||this.isActive())&&this.track&&this.track.enabled)},r.prototype._setSSRC=function(e){this.ssrc=e},r.prototype._setConference=function(e){this.conference=e;for(var t=0;t<this.containers.length;t++)this._maybeFireTrackAttached(this.containers[t])},r.prototype.getSSRC=function(){return this.ssrc&&this.ssrc.groups&&this.ssrc.groups.length?this.ssrc.groups[0].primarySSRC:this.ssrc&&this.ssrc.ssrcs&&this.ssrc.ssrcs.length?this.ssrc.ssrcs[0]:null},r.prototype.isLocal=function(){return!0},r.prototype.getDeviceId=function(){return this._realDeviceId||this.deviceId},r.prototype._setByteSent=function(e){this._bytesSent=e;var t=this.conference?this.conference.getConnectionState():null;this._testByteSent&&\"connected\"===t&&(setTimeout((function(){this._bytesSent<=0&&this._fireNoDataFromSourceEvent()}).bind(this),3e3),this._testByteSent=!1)},r.prototype.getCameraFacingMode=function(){if(this.isVideoTrack()&&this.videoType===v.CAMERA){var e;try{e=this.track.getSettings()}catch(e){}return e&&\"facingMode\"in e?e.facingMode:void 0!==this._facingMode?this._facingMode:l.USER}},r.prototype._stopMediaStream=function(){this.stopStreamInProgress=!0,m.stopMediaStream(this.stream),this.stopStreamInProgress=!1},r.prototype._checkForCameraIssues=function(){return!(!this.isVideoTrack()||this.stopStreamInProgress||this.videoType===v.DESKTOP||this._isReceivingData())},r.prototype._isReceivingData=function(){return!!this.stream&&this.stream.getTracks().some((function(e){return!(\"readyState\"in e&&\"live\"!==e.readyState||\"muted\"in e&&!0===e.muted)}))},e.exports=r}).call(t,\"modules/RTC/JitsiLocalTrack.js\")},function(e,t,n){(function(t){\"use strict\";function i(e,t,n,i,r,o,a){this.containers=[],this.conference=e,this.stream=t,this.ssrc=a,this.eventEmitter=new c,this.audioLevel=-1,this.type=r,this.track=n,this.videoType=o,this.handlers={},this.disposed=!1,this._setHandler(\"inactive\",i)}var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(8)),o=n(9).getLogger(t),a=n(32),s=n(50),c=n(14),l=n(36),u={track_mute:\"onmute\",track_unmute:\"onunmute\",track_ended:\"onended\"};i.prototype._setHandler=function(e,t){this.handlers[e]=t,this.stream&&(\"inactive\"===e?(a.isFirefox()&&function(e){var t=e.getOriginalStream();if(t){var n=t.stop;t.stop=function(){n.apply(t),e.isActive()&&t.onended()}}}(this),function(e,t){void 0!==e.active?e.oninactive=t:e.onended=t}(this.stream,t)):u.hasOwnProperty(e)&&this.stream.getVideoTracks().forEach((function(n){n[u[e]]=t}),this))},i.prototype._setStream=function(e){this.stream=e,Object.keys(this.handlers).forEach((function(e){\"function\"==typeof this.handlers[e]&&this._setHandler(e,this.handlers[e])}),this)},i.prototype.getType=function(){return this.type},i.prototype.isAudioTrack=function(){return this.getType()===l.AUDIO},i.prototype.isVideoTrack=function(){return this.getType()===l.VIDEO},i.prototype.isLocal=function(){throw new Error(\"Not implemented by subclass\")},i.prototype.getOriginalStream=function(){return this.stream},i.prototype.getStreamId=function(){return this.stream?this.stream.id:null},i.prototype.getTrack=function(){return this.track},i.prototype.getTrackId=function(){return this.track?this.track.id:null},i.prototype.getUsageLabel=function(){return this.isAudioTrack()?\"mic\":this.videoType?this.videoType:\"default\"},i.prototype._maybeFireTrackAttached=function(e){this.conference&&e&&this.conference._onTrackAttach(this,e)},i.prototype.attach=function(e){return this.stream&&(e=s.attachMediaStream(e,this.stream)),this.containers.push(e),this._maybeFireTrackAttached(e),this._attachTTFMTracker(e),e},i.prototype.detach=function(e){for(var t=this.containers,n=t.length-1;n>=0;--n){var i=t[n];e||s.attachMediaStream(i,null),e&&i!==e||t.splice(n,1)}e&&s.attachMediaStream(e,null)},i.prototype._attachTTFMTracker=function(e){},i.prototype.dispose=function(){return this.eventEmitter.removeAllListeners(),this.disposed=!0,Promise.resolve()},i.prototype.isScreenSharing=function(){},i.prototype._getId=function(){return this.getTrackId()},i.prototype.getId=function(){return this.stream?s.getStreamID(this.stream):null},i.prototype.isActive=function(){return void 0===this.stream.active||this.stream.active},i.prototype.on=function(e,t){this.eventEmitter&&this.eventEmitter.on(e,t)},i.prototype.off=function(e,t){this.eventEmitter&&this.eventEmitter.removeListener(e,t)},i.prototype.addEventListener=i.prototype.on,i.prototype.removeEventListener=i.prototype.off,i.prototype.setAudioLevel=function(e){this.audioLevel!==e&&(this.eventEmitter.emit(r.TRACK_AUDIO_LEVEL_CHANGED,e),this.audioLevel=e)},i.prototype.getMSID=function(){var e=this.getStreamId(),t=this.getTrackId();return e&&t?e+\" \"+t:null},i.prototype.setAudioOutput=function(e){var t=this;return s.isDeviceChangeAvailable(\"output\")?this.isVideoTrack()?Promise.resolve():Promise.all(this.containers.map((function(t){return t.setSinkId(e).catch((function(e){throw o.warn(\"Failed to change audio output device on element. Default or previously set audio output device will be used.\",t,e),e}))}))).then((function(){t.eventEmitter.emit(r.TRACK_AUDIO_OUTPUT_CHANGED,e)})):Promise.reject(new Error(\"Audio output device change is not supported\"))},e.exports=i}).call(t,\"modules/RTC/JitsiTrack.js\")},function(e,t,n){(function(t){\"use strict\";function i(e){var t=new Error;return t.stack=e.stack,t.name=(e.name||\"Unknown error\")+(e.gum&&e.gum.error&&e.gum.error.name?\" - \"+e.gum.error.name:\"\"),t.constraintName=e.gum&&e.gum.constraints?JSON.stringify(e.gum.constraints):\"\",t.message=e.message,t}function r(e,t){this.rtpStats=null,this.eventEmitter=new l,this.xmpp=e,this.options=t||{},this.callStatsIntegrationEnabled=this.options.callStatsID&&this.options.callStatsSecret&&!0!==r.disableThirdPartyRequests,this.callStatsIntegrationEnabled&&function(e){f||(h.loadScript(e||\"https://api.callstats.io/static/callstats-ws.min.js\",!0,!0),f=!0)}(this.options.callStatsCustomScriptUrl),this.callStats=null,this.callStatsStarted=!1,this.logStatsIntervalId=null}var o=function(e){return e&&e.__esModule?e:{default:e}}(n(6)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(60)),s=n(61),c=n(62),l=n(14),u=n(9).getLogger(t),d=n(112),p=n(113),h=n(114),f=!1;r.init=function(e){r.audioLevelsEnabled=!e.disableAudioLevels,\"number\"==typeof e.audioLevelsInterval&&(r.audioLevelsInterval=e.audioLevelsInterval),!0!==(r.disableThirdPartyRequests=e.disableThirdPartyRequests)?function(e){h.loadScript(e||\"analytics.js\",!0,!1,!e,(function(){r.analytics.loaded()}),(function(){r.analytics.dispose()}))}(e.analyticsScriptUrl):r.analytics.dispose()},r.audioLevelsEnabled=!1,r.audioLevelsInterval=200,r.disableThirdPartyRequests=!1,r.analytics=s,r.callsStatsInstances=[],r.prototype.startRemoteStats=function(e){this.stopRemoteStats();try{this.rtpStats=new p(e,r.audioLevelsInterval,2e3,this.eventEmitter),this.rtpStats.start(r.audioLevelsEnabled)}catch(e){this.rtpStats=null,u.error(\"Failed to start collecting remote statistics: \"+e)}this.rtpStats&&(this.logStatsIntervalId=setInterval((function(){var e=this.rtpStats.getCollectedStats();this.xmpp.sendLogs(e)&&this.rtpStats.clearCollectedStats()}).bind(this),6e4))},r.localStats=[],r.startLocalStats=function(e,t){if(r.audioLevelsEnabled){var n=new d(e,r.audioLevelsInterval,t);this.localStats.push(n),n.start()}},r.prototype.addAudioLevelListener=function(e){r.audioLevelsEnabled&&this.eventEmitter.on(a.AUDIO_LEVEL,e)},r.prototype.removeAudioLevelListener=function(e){r.audioLevelsEnabled&&this.eventEmitter.removeListener(a.AUDIO_LEVEL,e)},r.prototype.addAudioProblemListener=function(e){this.eventEmitter.on(a.AUDIO_NOT_WORKING,e)},r.prototype.addConnectionStatsListener=function(e){this.eventEmitter.on(a.CONNECTION_STATS,e)},r.prototype.removeConnectionStatsListener=function(e){this.eventEmitter.removeListener(a.CONNECTION_STATS,e)},r.prototype.addByteSentStatsListener=function(e){this.eventEmitter.on(a.BYTE_SENT_STATS,e)},r.prototype.removeByteSentStatsListener=function(e){this.eventEmitter.removeListener(a.BYTE_SENT_STATS,e)},r.prototype.dispose=function(){this.stopCallStats(),this.stopRemoteStats(),this.eventEmitter&&this.eventEmitter.removeAllListeners()},r.stopLocalStats=function(e){if(r.audioLevelsEnabled)for(var t=0;t<r.localStats.length;t++)if(r.localStats[t].stream===e){r.localStats.splice(t,1)[0].stop();break}},r.prototype.stopRemoteStats=function(){this.rtpStats&&(this.rtpStats.stop(),this.rtpStats=null,this.logStatsIntervalId&&(clearInterval(this.logStatsIntervalId),this.logStatsIntervalId=null))},r.prototype.startCallStats=function(e,t){this.callStatsIntegrationEnabled&&!this.callStatsStarted&&(this.callstats=new c(e,t,this.options),r.callsStatsInstances.push(this.callstats),this.callStatsStarted=!0)},r.prototype.stopCallStats=function(){if(this.callStatsStarted){var e=r.callsStatsInstances.indexOf(this.callstats);e>-1&&r.callsStatsInstances.splice(e,1),c.dispose(),this.callStatsStarted=!1}},r.prototype.isCallstatsEnabled=function(){return this.callStatsIntegrationEnabled},r.prototype.sendIceConnectionFailedEvent=function(e){this.callstats&&this.callstats.sendIceConnectionFailedEvent(e,this.callstats),r.analytics.sendEvent(\"connection.ice_failed\")},r.prototype.sendMuteEvent=function(e,t){this.callstats&&c.sendMuteEvent(e,t,this.callstats)},r.prototype.sendScreenSharingEvent=function(e){this.callstats&&c.sendScreenSharingEvent(e,this.callstats)},r.prototype.sendDominantSpeakerEvent=function(){this.callstats&&c.sendDominantSpeakerEvent(this.callstats)},r.sendActiveDeviceListEvent=function(e){r.callsStatsInstances.length?r.callsStatsInstances.forEach((function(t){c.sendActiveDeviceListEvent(e,t)})):c.sendActiveDeviceListEvent(e,null)},r.prototype.associateStreamWithVideoTag=function(e,t,n,i){this.callstats&&this.callstats.associateStreamWithVideoTag(e,t,n,i)},r.sendGetUserMediaFailed=function(e){r.callsStatsInstances.length?r.callsStatsInstances.forEach((function(t){c.sendGetUserMediaFailed(e instanceof o.default?i(e):e,t)})):c.sendGetUserMediaFailed(e instanceof o.default?i(e):e,null)},r.prototype.sendCreateOfferFailed=function(e,t){this.callstats&&c.sendCreateOfferFailed(e,t,this.callstats)},r.prototype.sendCreateAnswerFailed=function(e,t){this.callstats&&c.sendCreateAnswerFailed(e,t,this.callstats)},r.prototype.sendSetLocalDescFailed=function(e,t){this.callstats&&c.sendSetLocalDescFailed(e,t,this.callstats)},r.prototype.sendSetRemoteDescFailed=function(e,t){this.callstats&&c.sendSetRemoteDescFailed(e,t,this.callstats)},r.prototype.sendAddIceCandidateFailed=function(e,t){this.callstats&&c.sendAddIceCandidateFailed(e,t,this.callstats)},r.prototype.sendDetectedAudioProblem=function(e){this.callstats&&this.callstats.sendDetectedAudioProblem(e)},r.sendLog=function(e){r.callsStatsInstances.length?r.callsStatsInstances.forEach((function(t){c.sendApplicationLog(e,t)})):c.sendApplicationLog(e,null)},r.prototype.sendFeedback=function(e,t){this.callstats&&this.callstats.sendFeedback(e,t),r.analytics.sendEvent(\"feedback.rating\",{value:e,detailed:t})},r.LOCAL_JID=n(116).LOCAL_JID,r.reportGlobalError=function(e){e instanceof o.default&&e.gum?r.sendGetUserMediaFailed(e):r.sendLog(e)},r.sendEventToAll=function(e,t){this.analytics.sendEvent(e,t),r.sendLog(JSON.stringify({name:e,data:t}))},e.exports=r}).call(t,\"modules/statistics/statistics.js\")},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.AUDIO_LEVEL=\"statistics.audioLevel\",t.AUDIO_NOT_WORKING=\"statistics.audio_not_working\",t.BYTE_SENT_STATS=\"statistics.byte_sent_stats\",t.CONNECTION_STATS=\"statistics.connectionstats\"},function(e,t,n){\"use strict\";function i(){}function r(){this.browserName=o.getBrowserName(),this.permanentProperties={}}var o=n(32);i.prototype.sendEvent=function(){},r.eventsQueue=[],r.prototype.sendEvent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._checkAnalyticsAndMaybeCacheEvent(e,t)){t.browserName=this.browserName;try{this.analytics.sendEvent(e,Object.assign({},this.permanentProperties,t))}catch(e){}}},r.prototype._checkAnalyticsAndMaybeCacheEvent=function(e,t){if(null==this.analytics){if(!window.Analytics)return r.eventsQueue.push({action:e,data:t}),!1;this.loaded()}return!0},r.prototype.dispose=function(){this.analytics=new i,r.eventsQueue.length=0},r.prototype.addPermanentProperties=function(e){this.permanentProperties=Object.assign(this.permanentProperties,e)},r.prototype.loaded=function(){var e=window.Analytics||i;this.analytics=new e,r.eventsQueue.length&&(r.eventsQueue.forEach((function(e){this.sendEvent(e.action,e.data)}).bind(this)),r.eventsQueue.length=0)},e.exports=new r},function(e,t,n){(function(t){\"use strict\";function i(e,t){if(o.log(\"CallStats Status: err=\"+e+\" msg=\"+t),d.initializeInProgress=!1,\"success\"===e){var n=l.addNewFabric(this.peerconnection,u,l.fabricUsage.multiplex,this.confID,this.pcCallback.bind(this)),i=\"success\"===n.status;return i?(d.initializeFailed=!1,d.initialized=!0,d.feedbackEnabled=!0,void(d.reportsQueue.length&&(d.reportsQueue.forEach((function(e){if(e.type===p.ERROR){var t=e.data;d._reportError.call(this,t.type,t.error,t.pc)}else if(e.type===p.EVENT&&i){var n=e.data;l.sendFabricEvent(this.peerconnection,n.event,this.confID,n.eventData)}else if(e.type===p.MST_WITH_USERID){var r=e.data;l.associateMstWithUserID(this.peerconnection,r.callStatsId,this.confID,r.ssrc,r.usageLabel,r.containerId)}}),this),d.reportsQueue.length=0))):(d.initializeFailed=!0,void o.log(\"callstats fabric not initilized\",n.message))}d.initializeFailed=!0}function r(e){return function(){try{e.apply(this,arguments)}catch(e){a.callErrorHandler(e),o.error(e)}}}var o=n(9).getLogger(t),a=n(39),s=n(63),c=n(64),l=null,u=\"jitsi\",d=r((function(e,t,n){try{d.feedbackEnabled=!1,l=new callstats($,c,s),this.peerconnection=e.peerconnection.peerconnection,this.userID={aliasName:Strophe.getResourceFromJid(e.room.myroomjid),userName:t.getCallStatsUserName()};var r=window.location;this.confID=r.hostname+\"/\"+n.roomName,this.callStatsID=n.callStatsID,this.callStatsSecret=n.callStatsSecret,d.initializeInProgress=!0,l.initialize(this.callStatsID,this.callStatsSecret,this.userID,i.bind(this))}catch(e){a.callErrorHandler(e),l=null,o.error(e)}}));d.reportsQueue=[],d.initialized=!1,d.initializeInProgress=!1,d.initializeFailed=!1,d.feedbackEnabled=!1,d._checkInitialize=function(){!d.initialized&&d.initializeFailed&&l&&!d.initializeInProgress&&(d.initializeInProgress=!0,l.initialize(l.callStatsID,l.callStatsSecret,l.userID,i.bind(l)))};var p={ERROR:\"error\",EVENT:\"event\",MST_WITH_USERID:\"mstWithUserID\"};d.prototype.pcCallback=r((function(e,t){l&&\"success\"!==e&&o.error(\"Monitoring status: \"+e+\" msg: \"+t)})),d.prototype.associateStreamWithVideoTag=function(e,t,n,i){if(l){var a=t?this.userID:\"focus\";r((function(){o.debug(\"Calling callStats.associateMstWithUserID with:\",this.peerconnection,a,this.confID,e,n,i),d.initialized?l.associateMstWithUserID(this.peerconnection,a,this.confID,e,n,i):(d.reportsQueue.push({type:p.MST_WITH_USERID,data:{callStatsId:a,containerId:i,ssrc:e,usageLabel:n}}),d._checkInitialize())})).bind(this)()}},d.sendMuteEvent=r((function(e,t,n){d._reportEvent.call(n,\"video\"===t?e?\"videoPause\":\"videoResume\":e?\"audioMute\":\"audioUnmute\")})),d.sendScreenSharingEvent=r((function(e,t){d._reportEvent.call(t,e?\"screenShareStart\":\"screenShareStop\")})),d.sendDominantSpeakerEvent=r((function(e){d._reportEvent.call(e,\"dominantSpeaker\")})),d.sendActiveDeviceListEvent=r((function(e,t){d._reportEvent.call(t,\"activeDeviceList\",e)})),d._reportEvent=function(e,t){d.initialized?l.sendFabricEvent(this.peerconnection,e,this.confID,t):(d.reportsQueue.push({type:p.EVENT,data:{event:e,eventData:t}}),d._checkInitialize())},d.prototype.sendTerminateEvent=r((function(){d.initialized&&l.sendFabricEvent(this.peerconnection,l.fabricEvent.fabricTerminated,this.confID)})),d.prototype.sendDetectedAudioProblem=r((function(e){d._reportError.call(this,\"applicationLog\",e,this.peerconnection)})),d.prototype.sendIceConnectionFailedEvent=r((function(e,t){d._reportError.call(t,\"iceConnectionFailure\",null,e)})),d.prototype.sendFeedback=r((function(e,t){d.feedbackEnabled&&l.sendUserFeedback(this.confID,{userID:this.userID,overall:e,comment:t})})),d._reportError=function(e,t,n){t||(o.warn(\"No error is passed!\"),t=new Error(\"Unknown error\")),d.initialized?l.reportError(n,this.confID,e,t):(d.reportsQueue.push({type:p.ERROR,data:{type:e,error:t,pc:n}}),d._checkInitialize())},d.sendGetUserMediaFailed=r((function(e,t){d._reportError.call(t,\"getUserMedia\",e,null)})),d.sendCreateOfferFailed=r((function(e,t,n){d._reportError.call(n,\"createOffer\",e,t)})),d.sendCreateAnswerFailed=r((function(e,t,n){d._reportError.call(n,\"createAnswer\",e,t)})),d.sendSetLocalDescFailed=r((function(e,t,n){d._reportError.call(n,\"setLocalDescription\",e,t)})),d.sendSetRemoteDescFailed=r((function(e,t,n){d._reportError.call(n,\"setRemoteDescription\",e,t)})),d.sendAddIceCandidateFailed=r((function(e,t,n){d._reportError.call(n,\"addIceCandidate\",e,t)})),d.sendApplicationLog=r((function(e,t){d._reportError.call(t,\"applicationLog\",e,null)})),d.dispose=function(){d.initialized=!1,d.initializeFailed=!1,d.initializeInProgress=!1},e.exports=d}).call(t,\"modules/statistics/CallStats.js\")},function(e,t,n){var i;!function(r){function o(e,t,n){var i,r=0,o=[0],a=null;if(\"UTF8\"!==(i=n||\"UTF8\")&&\"UTF16\"!==i)throw\"encoding must be UTF8 or UTF16\";if(\"HEX\"===t){if(0!=e.length%2)throw\"srcString of HEX type must be in byte increments\";a=c(e),r=a.binLen,o=a.value}else if(\"ASCII\"===t||\"TEXT\"===t)a=s(e,i),r=a.binLen,o=a.value;else{if(\"B64\"!==t)throw\"inputFormat must be HEX, TEXT, ASCII, or B64\";a=l(e),r=a.binLen,o=a.value}this.getHash=function(e,t,n,i){var a,s=null,c=o.slice(),l=r;if(3===arguments.length?\"number\"!=typeof n&&(i=n,n=1):2===arguments.length&&(n=1),n!==parseInt(n,10)||1>n)throw\"numRounds must a integer >= 1\";switch(t){case\"HEX\":s=u;break;case\"B64\":s=d;break;default:throw\"format must be HEX or B64\"}if(\"SHA-1\"===e)for(a=0;a<n;a++)c=P(c,l),l=160;else if(\"SHA-224\"===e)for(a=0;a<n;a++)c=j(c,l,e),l=224;else if(\"SHA-256\"===e)for(a=0;a<n;a++)c=j(c,l,e),l=256;else if(\"SHA-384\"===e)for(a=0;a<n;a++)c=j(c,l,e),l=384;else{if(\"SHA-512\"!==e)throw\"Chosen SHA variant is not supported\";for(a=0;a<n;a++)c=j(c,l,e),l=512}return s(c,p(i))},this.getHMAC=function(e,t,n,a,h){var f,m,g,v,y=[],b=[];switch(f=null,a){case\"HEX\":a=u;break;case\"B64\":a=d;break;default:throw\"outputFormat must be HEX or B64\"}if(\"SHA-1\"===n)m=64,v=160;else if(\"SHA-224\"===n)m=64,v=224;else if(\"SHA-256\"===n)m=64,v=256;else if(\"SHA-384\"===n)m=128,v=384;else{if(\"SHA-512\"!==n)throw\"Chosen SHA variant is not supported\";m=128,v=512}if(\"HEX\"===t)g=(f=c(e)).binLen,f=f.value;else if(\"ASCII\"===t||\"TEXT\"===t)g=(f=s(e,i)).binLen,f=f.value;else{if(\"B64\"!==t)throw\"inputFormat must be HEX, TEXT, ASCII, or B64\";g=(f=l(e)).binLen,f=f.value}for(e=8*m,t=m/4-1,m<g/8?(f=\"SHA-1\"===n?P(f,g):j(f,g,n))[t]&=4294967040:m>g/8&&(f[t]&=4294967040),m=0;m<=t;m+=1)y[m]=909522486^f[m],b[m]=1549556828^f[m];return a(n=\"SHA-1\"===n?P(b.concat(P(y.concat(o),e+r)),e+v):j(b.concat(j(y.concat(o),e+r,n)),e+v,n),p(h))}}function a(e,t){this.a=e,this.b=t}function s(e,t){var n,i,r=[],o=[],a=0;if(\"UTF8\"===t)for(i=0;i<e.length;i+=1)for(o=[],2048<(n=e.charCodeAt(i))?(o[0]=224|(61440&n)>>>12,o[1]=128|(4032&n)>>>6,o[2]=128|63&n):128<n?(o[0]=192|(1984&n)>>>6,o[1]=128|63&n):o[0]=n,n=0;n<o.length;n+=1)r[a>>>2]|=o[n]<<24-a%4*8,a+=1;else if(\"UTF16\"===t)for(i=0;i<e.length;i+=1)r[a>>>2]|=e.charCodeAt(i)<<16-a%4*8,a+=2;return{value:r,binLen:8*a}}function c(e){var t,n,i=[],r=e.length;if(0!=r%2)throw\"String of HEX type must be in byte increments\";for(t=0;t<r;t+=2){if(n=parseInt(e.substr(t,2),16),isNaN(n))throw\"String of HEX type contains invalid characters\";i[t>>>3]|=n<<24-t%8*4}return{value:i,binLen:4*r}}function l(e){var t,n,i,r,o,a=[],s=0;if(-1===e.search(/^[a-zA-Z0-9=+\\/]+$/))throw\"Invalid character in base-64 string\";if(t=e.indexOf(\"=\"),e=e.replace(/\\=/g,\"\"),-1!==t&&t<e.length)throw\"Invalid '=' found in base-64 string\";for(n=0;n<e.length;n+=4){for(o=e.substr(n,4),i=r=0;i<o.length;i+=1)r|=(t=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(o[i]))<<18-6*i;for(i=0;i<o.length-1;i+=1)a[s>>2]|=(r>>>16-8*i&255)<<24-s%4*8,s+=1}return{value:a,binLen:8*s}}function u(e,t){var n,i,r=\"\",o=4*e.length;for(n=0;n<o;n+=1)r+=\"0123456789abcdef\".charAt((i=e[n>>>2]>>>8*(3-n%4))>>>4&15)+\"0123456789abcdef\".charAt(15&i);return t.outputUpper?r.toUpperCase():r}function d(e,t){var n,i,r,o=\"\",a=4*e.length;for(n=0;n<a;n+=3)for(r=(e[n>>>2]>>>8*(3-n%4)&255)<<16|(e[n+1>>>2]>>>8*(3-(n+1)%4)&255)<<8|e[n+2>>>2]>>>8*(3-(n+2)%4)&255,i=0;4>i;i+=1)o=8*n+6*i<=32*e.length?o+\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(r>>>6*(3-i)&63):o+t.b64Pad;return o}function p(e){var t={outputUpper:!1,b64Pad:\"=\"};try{e.hasOwnProperty(\"outputUpper\")&&(t.outputUpper=e.outputUpper),e.hasOwnProperty(\"b64Pad\")&&(t.b64Pad=e.b64Pad)}catch(e){}if(\"boolean\"!=typeof t.outputUpper)throw\"Invalid outputUpper formatting option\";if(\"string\"!=typeof t.b64Pad)throw\"Invalid b64Pad formatting option\";return t}function h(e,t){return e<<t|e>>>32-t}function f(e,t){return e>>>t|e<<32-t}function m(e,t){var n;return n=new a(e.a,e.b),32>=t?new a(n.a>>>t|n.b<<32-t&4294967295,n.b>>>t|n.a<<32-t&4294967295):new a(n.b>>>t-32|n.a<<64-t&4294967295,n.a>>>t-32|n.b<<64-t&4294967295)}function g(e,t){return 32>=t?new a(e.a>>>t,e.b>>>t|e.a<<32-t&4294967295):new a(0,e.a>>>t-32)}function v(e,t,n){return e^t^n}function y(e,t,n){return e&t^~e&n}function b(e,t,n){return new a(e.a&t.a^~e.a&n.a,e.b&t.b^~e.b&n.b)}function _(e,t,n){return e&t^e&n^t&n}function E(e,t,n){return new a(e.a&t.a^e.a&n.a^t.a&n.a,e.b&t.b^e.b&n.b^t.b&n.b)}function w(e){return f(e,2)^f(e,13)^f(e,22)}function T(e){var t=m(e,28),n=m(e,34);return e=m(e,39),new a(t.a^n.a^e.a,t.b^n.b^e.b)}function S(e){return f(e,6)^f(e,11)^f(e,25)}function C(e){var t=m(e,14),n=m(e,18);return e=m(e,41),new a(t.a^n.a^e.a,t.b^n.b^e.b)}function A(e){return f(e,7)^f(e,18)^e>>>3}function R(e){var t=m(e,1),n=m(e,8);return e=g(e,7),new a(t.a^n.a^e.a,t.b^n.b^e.b)}function k(e){return f(e,17)^f(e,19)^e>>>10}function D(e){var t=m(e,19),n=m(e,61);return e=g(e,6),new a(t.a^n.a^e.a,t.b^n.b^e.b)}function x(e,t){var n=(65535&e)+(65535&t);return((e>>>16)+(t>>>16)+(n>>>16)&65535)<<16|65535&n}function I(e,t,n,i){var r=(65535&e)+(65535&t)+(65535&n)+(65535&i);return((e>>>16)+(t>>>16)+(n>>>16)+(i>>>16)+(r>>>16)&65535)<<16|65535&r}function O(e,t,n,i,r){var o=(65535&e)+(65535&t)+(65535&n)+(65535&i)+(65535&r);return((e>>>16)+(t>>>16)+(n>>>16)+(i>>>16)+(r>>>16)+(o>>>16)&65535)<<16|65535&o}function N(e,t){var n,i,r;return r=(65535&(i=(e.b>>>16)+(t.b>>>16)+((n=(65535&e.b)+(65535&t.b))>>>16)))<<16|65535&n,new a((65535&(i=(e.a>>>16)+(t.a>>>16)+((n=(65535&e.a)+(65535&t.a)+(i>>>16))>>>16)))<<16|65535&n,r)}function L(e,t,n,i){var r,o,s;return s=(65535&(o=(e.b>>>16)+(t.b>>>16)+(n.b>>>16)+(i.b>>>16)+((r=(65535&e.b)+(65535&t.b)+(65535&n.b)+(65535&i.b))>>>16)))<<16|65535&r,new a((65535&(o=(e.a>>>16)+(t.a>>>16)+(n.a>>>16)+(i.a>>>16)+((r=(65535&e.a)+(65535&t.a)+(65535&n.a)+(65535&i.a)+(o>>>16))>>>16)))<<16|65535&r,s)}function M(e,t,n,i,r){var o,s,c;return c=(65535&(s=(e.b>>>16)+(t.b>>>16)+(n.b>>>16)+(i.b>>>16)+(r.b>>>16)+((o=(65535&e.b)+(65535&t.b)+(65535&n.b)+(65535&i.b)+(65535&r.b))>>>16)))<<16|65535&o,new a((65535&(s=(e.a>>>16)+(t.a>>>16)+(n.a>>>16)+(i.a>>>16)+(r.a>>>16)+((o=(65535&e.a)+(65535&t.a)+(65535&n.a)+(65535&i.a)+(65535&r.a)+(s>>>16))>>>16)))<<16|65535&o,c)}function P(e,t){var n,i,r,o,a,s,c,l,u,d=[],p=y,f=v,m=_,g=h,b=x,E=O,w=[1732584193,4023233417,2562383102,271733878,3285377520];for(e[t>>>5]|=128<<24-t%32,e[15+(t+65>>>9<<4)]=t,u=e.length,c=0;c<u;c+=16){for(n=w[0],i=w[1],r=w[2],o=w[3],a=w[4],l=0;80>l;l+=1)d[l]=16>l?e[l+c]:g(d[l-3]^d[l-8]^d[l-14]^d[l-16],1),s=20>l?E(g(n,5),p(i,r,o),a,1518500249,d[l]):40>l?E(g(n,5),f(i,r,o),a,1859775393,d[l]):60>l?E(g(n,5),m(i,r,o),a,2400959708,d[l]):E(g(n,5),f(i,r,o),a,3395469782,d[l]),a=o,o=r,r=g(i,30),i=n,n=s;w[0]=b(n,w[0]),w[1]=b(i,w[1]),w[2]=b(r,w[2]),w[3]=b(o,w[3]),w[4]=b(a,w[4])}return w}function j(e,t,n){var i,r,o,s,c,l,u,d,p,h,f,m,g,v,P,j,F,U,B,H,J,G,W,V,q,z,K=[],$=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];if(h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],r=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],\"SHA-224\"===n||\"SHA-256\"===n)f=64,i=15+(t+65>>>9<<4),v=16,P=1,q=Number,j=x,F=I,U=O,B=A,H=k,J=w,G=S,V=_,W=y,h=\"SHA-224\"===n?h:r;else{if(\"SHA-384\"!==n&&\"SHA-512\"!==n)throw\"Unexpected error in SHA-2 implementation\";f=80,i=31+(t+128>>>10<<5),v=32,P=2,j=N,F=L,U=M,B=R,H=D,J=T,G=C,V=E,W=b,$=[new(q=a)($[0],3609767458),new q($[1],602891725),new q($[2],3964484399),new q($[3],2173295548),new q($[4],4081628472),new q($[5],3053834265),new q($[6],2937671579),new q($[7],3664609560),new q($[8],2734883394),new q($[9],1164996542),new q($[10],1323610764),new q($[11],3590304994),new q($[12],4068182383),new q($[13],991336113),new q($[14],633803317),new q($[15],3479774868),new q($[16],2666613458),new q($[17],944711139),new q($[18],2341262773),new q($[19],2007800933),new q($[20],1495990901),new q($[21],1856431235),new q($[22],3175218132),new q($[23],2198950837),new q($[24],3999719339),new q($[25],766784016),new q($[26],2566594879),new q($[27],3203337956),new q($[28],1034457026),new q($[29],2466948901),new q($[30],3758326383),new q($[31],168717936),new q($[32],1188179964),new q($[33],1546045734),new q($[34],1522805485),new q($[35],2643833823),new q($[36],2343527390),new q($[37],1014477480),new q($[38],1206759142),new q($[39],344077627),new q($[40],1290863460),new q($[41],3158454273),new q($[42],3505952657),new q($[43],106217008),new q($[44],3606008344),new q($[45],1432725776),new q($[46],1467031594),new q($[47],851169720),new q($[48],3100823752),new q($[49],1363258195),new q($[50],3750685593),new q($[51],3785050280),new q($[52],3318307427),new q($[53],3812723403),new q($[54],2003034995),new q($[55],3602036899),new q($[56],1575990012),new q($[57],1125592928),new q($[58],2716904306),new q($[59],442776044),new q($[60],593698344),new q($[61],3733110249),new q($[62],2999351573),new q($[63],3815920427),new q(3391569614,3928383900),new q(3515267271,566280711),new q(3940187606,3454069534),new q(4118630271,4000239992),new q(116418474,1914138554),new q(174292421,2731055270),new q(289380356,3203993006),new q(460393269,320620315),new q(685471733,587496836),new q(852142971,1086792851),new q(1017036298,365543100),new q(1126000580,2618297676),new q(1288033470,3409855158),new q(1501505948,4234509866),new q(1607167915,987167468),new q(1816402316,1246189591)],h=\"SHA-384\"===n?[new q(3418070365,h[0]),new q(1654270250,h[1]),new q(2438529370,h[2]),new q(355462360,h[3]),new q(1731405415,h[4]),new q(41048885895,h[5]),new q(3675008525,h[6]),new q(1203062813,h[7])]:[new q(r[0],4089235720),new q(r[1],2227873595),new q(r[2],4271175723),new q(r[3],1595750129),new q(r[4],2917565137),new q(r[5],725511199),new q(r[6],4215389547),new q(r[7],327033209)]}for(e[t>>>5]|=128<<24-t%32,e[i]=t,z=e.length,m=0;m<z;m+=v){for(t=h[0],i=h[1],r=h[2],o=h[3],s=h[4],c=h[5],l=h[6],u=h[7],g=0;g<f;g+=1)K[g]=16>g?new q(e[g*P+m],e[g*P+m+1]):F(H(K[g-2]),K[g-7],B(K[g-15]),K[g-16]),d=U(u,G(s),W(s,c,l),$[g],K[g]),p=j(J(t),V(t,i,r)),u=l,l=c,c=s,s=j(o,d),o=r,r=i,i=t,t=j(d,p);h[0]=j(t,h[0]),h[1]=j(i,h[1]),h[2]=j(r,h[2]),h[3]=j(o,h[3]),h[4]=j(s,h[4]),h[5]=j(c,h[5]),h[6]=j(l,h[6]),h[7]=j(u,h[7])}if(\"SHA-224\"===n)e=[h[0],h[1],h[2],h[3],h[4],h[5],h[6]];else if(\"SHA-256\"===n)e=h;else if(\"SHA-384\"===n)e=[h[0].a,h[0].b,h[1].a,h[1].b,h[2].a,h[2].b,h[3].a,h[3].b,h[4].a,h[4].b,h[5].a,h[5].b];else{if(\"SHA-512\"!==n)throw\"Unexpected error in SHA-2 implementation\";e=[h[0].a,h[0].b,h[1].a,h[1].b,h[2].a,h[2].b,h[3].a,h[3].b,h[4].a,h[4].b,h[5].a,h[5].b,h[6].a,h[6].b,h[7].a,h[7].b]}return e}void 0===(i=(function(){return o}).call(t,n,t,e))||(e.exports=i)}()},function(e,t,n){function i(e,t){\"object\"==typeof e&&(t=e,e=void 0),t=t||{};var n,i=r(e),o=i.source,l=i.id;return t.forceNew||t[\"force new connection\"]||!1===t.multiplex||c[l]&&i.path in c[l].nsps?(s(\"ignoring socket cache for %s\",o),n=a(o,t)):(c[l]||(s(\"new io instance for %s\",o),c[l]=a(o,t)),n=c[l]),n.socket(i.path)}var r=n(65),o=n(70),a=n(78),s=n(67)(\"socket.io-client\");e.exports=t=i;var c=t.managers={};t.protocol=o.protocol,t.connect=i,t.Manager=n(78),t.Socket=n(105)},function(e,t,n){(function(t){var i=n(66),r=n(67)(\"socket.io-client:url\");e.exports=function(e,n){var o=e;n=n||t.location,null==e&&(e=n.protocol+\"//\"+n.host),\"string\"==typeof e&&(\"/\"==e.charAt(0)&&(e=\"/\"==e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\\/\\//.test(e)||(r(\"protocol-less url %s\",e),e=void 0!==n?n.protocol+\"//\"+e:\"https://\"+e),r(\"parse %s\",e),o=i(e)),o.port||(/^(http|ws)$/.test(o.protocol)?o.port=\"80\":/^(http|ws)s$/.test(o.protocol)&&(o.port=\"443\")),o.path=o.path||\"/\";var a=-1!==o.host.indexOf(\":\")?\"[\"+o.host+\"]\":o.host;return o.id=o.protocol+\"://\"+a+\":\"+o.port,o.href=o.protocol+\"://\"+a+(n&&n.port==o.port?\"\":\":\"+o.port),o}}).call(t,function(){return this}())},function(e,t){var n=/^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/,i=[\"source\",\"protocol\",\"authority\",\"userInfo\",\"user\",\"password\",\"host\",\"port\",\"relative\",\"path\",\"directory\",\"file\",\"query\",\"anchor\"];e.exports=function(e){var t=e,r=e.indexOf(\"[\"),o=e.indexOf(\"]\");-1!=r&&-1!=o&&(e=e.substring(0,r)+e.substring(r,o).replace(/:/g,\";\")+e.substring(o,e.length));for(var a=n.exec(e||\"\"),s={},c=14;c--;)s[i[c]]=a[c]||\"\";return-1!=r&&-1!=o&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,\":\"),s.authority=s.authority.replace(\"[\",\"\").replace(\"]\",\"\").replace(/;/g,\":\"),s.ipv6uri=!0),s}},function(e,t,n){function i(){var e;try{e=t.storage.debug}catch(e){}return e}(t=e.exports=n(68)).log=function(){return\"object\"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(){var e=arguments,n=this.useColors;if(e[0]=(n?\"%c\":\"\")+this.namespace+(n?\" %c\":\" \")+e[0]+(n?\"%c \":\" \")+\"+\"+t.humanize(this.diff),!n)return e;var i=\"color: \"+this.color;e=[e[0],i,\"color: inherit\"].concat(Array.prototype.slice.call(e,1));var r=0,o=0;return e[0].replace(/%[a-z%]/g,(function(e){\"%%\"!==e&&(r++,\"%c\"===e&&(o=r))})),e.splice(o,0,i),e},t.save=function(e){try{null==e?t.storage.removeItem(\"debug\"):t.storage.debug=e}catch(e){}},t.load=i,t.useColors=function(){return\"WebkitAppearance\"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)&&parseInt(RegExp.$1,10)>=31},t.storage=\"undefined\"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=[\"lightseagreen\",\"forestgreen\",\"goldenrod\",\"dodgerblue\",\"darkorchid\",\"crimson\"],t.formatters.j=function(e){return JSON.stringify(e)},t.enable(i())},function(e,t,n){function i(){return t.colors[o++%t.colors.length]}(t=e.exports=function(e){function n(){}function o(){var e=o,n=+new Date,a=n-(r||n);e.diff=a,e.prev=r,e.curr=n,r=n,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=i());var s=Array.prototype.slice.call(arguments);s[0]=t.coerce(s[0]),\"string\"!=typeof s[0]&&(s=[\"%o\"].concat(s));var c=0;s[0]=s[0].replace(/%([a-z%])/g,(function(n,i){if(\"%%\"===n)return n;c++;var r=t.formatters[i];return\"function\"==typeof r&&(n=r.call(e,s[c]),s.splice(c,1),c--),n})),\"function\"==typeof t.formatArgs&&(s=t.formatArgs.apply(e,s));var l=o.log||t.log||console.log.bind(console);l.apply(e,s)}n.enabled=!1,o.enabled=!0;var a=t.enabled(e)?o:n;return a.namespace=e,a}).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable(\"\")},t.enable=function(e){t.save(e);for(var n=(e||\"\").split(/[\\s,]+/),i=n.length,r=0;r<i;r++)n[r]&&(\"-\"===(e=n[r].replace(/\\*/g,\".*?\"))[0]?t.skips.push(new RegExp(\"^\"+e.substr(1)+\"$\")):t.names.push(new RegExp(\"^\"+e+\"$\")))},t.enabled=function(e){var n,i;for(n=0,i=t.skips.length;n<i;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;n<i;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(69),t.names=[],t.skips=[],t.formatters={};var r,o=0},function(e,t){function n(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+\" \"+n:Math.ceil(e/t)+\" \"+n+\"s\"}var i=1e3,r=6e4,o=36e5,a=24*o;e.exports=function(e,t){return t=t||{},\"string\"==typeof e?function(e){if(!((e=\"\"+e).length>1e4)){var t=/^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||\"ms\").toLowerCase()){case\"years\":case\"year\":case\"yrs\":case\"yr\":case\"y\":return 315576e5*n;case\"days\":case\"day\":case\"d\":return n*a;case\"hours\":case\"hour\":case\"hrs\":case\"hr\":case\"h\":return n*o;case\"minutes\":case\"minute\":case\"mins\":case\"min\":case\"m\":return n*r;case\"seconds\":case\"second\":case\"secs\":case\"sec\":case\"s\":return n*i;case\"milliseconds\":case\"millisecond\":case\"msecs\":case\"msec\":case\"ms\":return n}}}}(e):t.long?function(e){return n(e,a,\"day\")||n(e,o,\"hour\")||n(e,r,\"minute\")||n(e,i,\"second\")||e+\" ms\"}(e):function(e){return e>=a?Math.round(e/a)+\"d\":e>=o?Math.round(e/o)+\"h\":e>=r?Math.round(e/r)+\"m\":e>=i?Math.round(e/i)+\"s\":e+\"ms\"}(e)}},function(e,t,n){function i(){}function r(e){var n=\"\",i=!1;return n+=e.type,t.BINARY_EVENT!=e.type&&t.BINARY_ACK!=e.type||(n+=e.attachments,n+=\"-\"),e.nsp&&\"/\"!=e.nsp&&(i=!0,n+=e.nsp),null!=e.id&&(i&&(n+=\",\",i=!1),n+=e.id),null!=e.data&&(i&&(n+=\",\"),n+=l.stringify(e.data)),c(\"encoded %j as %s\",e,n),n}function o(){this.reconstructor=null}function a(e){this.reconPack=e,this.buffers=[]}function s(e){return{type:t.ERROR,data:\"parser error\"}}var c=n(67)(\"socket.io-parser\"),l=n(71),u=(n(74),n(75)),d=n(76),p=n(77);t.protocol=4,t.types=[\"CONNECT\",\"DISCONNECT\",\"EVENT\",\"ACK\",\"ERROR\",\"BINARY_EVENT\",\"BINARY_ACK\"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=i,t.Decoder=o,i.prototype.encode=function(e,n){c(\"encoding packet %j\",e),t.BINARY_EVENT==e.type||t.BINARY_ACK==e.type?function(e,t){d.removeBlobs(e,(function(e){var n=d.deconstructPacket(e),i=r(n.packet),o=n.buffers;o.unshift(i),t(o)}))}(e,n):n([r(e)])},u(o.prototype),o.prototype.add=function(e){var n;if(\"string\"==typeof e)n=function(e){var n={},i=0;if(n.type=Number(e.charAt(0)),null==t.types[n.type])return s();if(t.BINARY_EVENT==n.type||t.BINARY_ACK==n.type){for(var r=\"\";\"-\"!=e.charAt(++i)&&(r+=e.charAt(i),i!=e.length););if(r!=Number(r)||\"-\"!=e.charAt(i))throw new Error(\"Illegal attachments\");n.attachments=Number(r)}if(\"/\"==e.charAt(i+1))for(n.nsp=\"\";++i&&\",\"!=(a=e.charAt(i))&&(n.nsp+=a,i!=e.length););else n.nsp=\"/\";var o=e.charAt(i+1);if(\"\"!==o&&Number(o)==o){for(n.id=\"\";++i;){var a;if(null==(a=e.charAt(i))||Number(a)!=a){--i;break}if(n.id+=e.charAt(i),i==e.length)break}n.id=Number(n.id)}if(e.charAt(++i))try{n.data=l.parse(e.substr(i))}catch(e){return s()}return c(\"decoded %s as %j\",e,n),n}(e),t.BINARY_EVENT==n.type||t.BINARY_ACK==n.type?(this.reconstructor=new a(n),0===this.reconstructor.reconPack.attachments&&this.emit(\"decoded\",n)):this.emit(\"decoded\",n);else{if(!p(e)&&!e.base64)throw new Error(\"Unknown type: \"+e);if(!this.reconstructor)throw new Error(\"got binary data when not reconstructing a packet\");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit(\"decoded\",n))}},o.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},a.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=d.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},a.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,n){var i;(function(e,r){(function(){function o(e,t){function n(e){if(n[e]!==g)return n[e];var o;if(\"bug-string-char-index\"==e)o=\"a\"!=\"a\"[0];else if(\"json\"==e)o=n(\"json-stringify\")&&n(\"json-parse\");else{var a,s='{\"a\":[1,true,false,null,\"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t\"]}';if(\"json-stringify\"==e){var l=t.stringify,u=\"function\"==typeof l&&b;if(u){(a=function(){return 1}).toJSON=a;try{u=\"0\"===l(0)&&\"0\"===l(new i)&&'\"\"'==l(new r)&&l(y)===g&&l(g)===g&&l()===g&&\"1\"===l(a)&&\"[1]\"==l([a])&&\"[null]\"==l([g])&&\"null\"==l(null)&&\"[null,null,null]\"==l([g,y,null])&&l({a:[a,!0,!1,null,\"\\0\\b\\n\\f\\r\\t\"]})==s&&\"1\"===l(null,a)&&\"[\\n 1,\\n 2\\n]\"==l([1,2],null,1)&&'\"-271821-04-20T00:00:00.000Z\"'==l(new c(-864e13))&&'\"+275760-09-13T00:00:00.000Z\"'==l(new c(864e13))&&'\"-000001-01-01T00:00:00.000Z\"'==l(new c(-621987552e5))&&'\"1969-12-31T23:59:59.999Z\"'==l(new c(-1))}catch(e){u=!1}}o=u}if(\"json-parse\"==e){var d=t.parse;if(\"function\"==typeof d)try{if(0===d(\"0\")&&!d(!1)){var p=5==(a=d(s)).a.length&&1===a.a[0];if(p){try{p=!d('\"\\t\"')}catch(e){}if(p)try{p=1!==d(\"01\")}catch(e){}if(p)try{p=1!==d(\"1.\")}catch(e){}}}}catch(e){p=!1}o=p}}return n[e]=!!o}e||(e=l.Object()),t||(t=l.Object());var i=e.Number||l.Number,r=e.String||l.String,a=e.Object||l.Object,c=e.Date||l.Date,u=e.SyntaxError||l.SyntaxError,d=e.TypeError||l.TypeError,p=e.Math||l.Math,h=e.JSON||l.JSON;\"object\"==typeof h&&h&&(t.stringify=h.stringify,t.parse=h.parse);var f,m,g,v=a.prototype,y=v.toString,b=new c(-0xc782b5b800cec);try{b=-109252==b.getUTCFullYear()&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}catch(e){}if(!n(\"json\")){var _=\"[object Function]\",E=\"[object Number]\",w=\"[object String]\",T=\"[object Array]\",S=n(\"bug-string-char-index\");if(!b)var C=p.floor,A=[0,31,59,90,120,151,181,212,243,273,304,334],R=function(e,t){return A[t]+365*(e-1970)+C((e-1969+(t=+(t>1)))/4)-C((e-1901+t)/100)+C((e-1601+t)/400)};if((f=v.hasOwnProperty)||(f=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=y?f=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,f=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,f.call(this,e)}),m=function(e,t){var n,i,r,o=0;for(r in(n=function(){this.valueOf=0}).prototype.valueOf=0,i=new n)f.call(i,r)&&o++;return n=i=null,o?m=2==o?function(e,t){var n,i={},r=y.call(e)==_;for(n in e)r&&\"prototype\"==n||f.call(i,n)||!(i[n]=1)||!f.call(e,n)||t(n)}:function(e,t){var n,i,r=y.call(e)==_;for(n in e)r&&\"prototype\"==n||!f.call(e,n)||(i=\"constructor\"===n)||t(n);(i||f.call(e,n=\"constructor\"))&&t(n)}:(i=[\"valueOf\",\"toString\",\"toLocaleString\",\"propertyIsEnumerable\",\"isPrototypeOf\",\"hasOwnProperty\",\"constructor\"],m=function(e,t){var n,r,o=y.call(e)==_,a=!o&&\"function\"!=typeof e.constructor&&s[typeof e.hasOwnProperty]&&e.hasOwnProperty||f;for(n in e)o&&\"prototype\"==n||!a.call(e,n)||t(n);for(r=i.length;n=i[--r];a.call(e,n)&&t(n));}),m(e,t)},!n(\"json-stringify\")){var k={92:\"\\\\\\\\\",34:'\\\\\"',8:\"\\\\b\",12:\"\\\\f\",10:\"\\\\n\",13:\"\\\\r\",9:\"\\\\t\"},D=function(e,t){return(\"000000\"+(t||0)).slice(-e)},x=function(e){for(var t='\"',n=0,i=e.length,r=!S||i>10,o=r&&(S?e.split(\"\"):e);n<i;n++){var a=e.charCodeAt(n);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=k[a];break;default:if(a<32){t+=\"\\\\u00\"+D(2,a.toString(16));break}t+=r?o[n]:e.charAt(n)}}return t+'\"'},I=function(e,t,n,i,r,o,a){var s,c,l,u,p,h,v,b,_,S,A,k,O,N,L,M;try{s=t[e]}catch(e){}if(\"object\"==typeof s&&s)if(\"[object Date]\"!=(c=y.call(s))||f.call(s,\"toJSON\"))\"function\"==typeof s.toJSON&&(c!=E&&c!=w&&c!=T||f.call(s,\"toJSON\"))&&(s=s.toJSON(e));else if(s>-1/0&&s<1/0){if(R){for(p=C(s/864e5),l=C(p/365.2425)+1970-1;R(l+1,0)<=p;l++);for(u=C((p-R(l,0))/30.42);R(l,u+1)<=p;u++);p=1+p-R(l,u),v=C((h=(s%864e5+864e5)%864e5)/36e5)%24,b=C(h/6e4)%60,_=C(h/1e3)%60,S=h%1e3}else l=s.getUTCFullYear(),u=s.getUTCMonth(),p=s.getUTCDate(),v=s.getUTCHours(),b=s.getUTCMinutes(),_=s.getUTCSeconds(),S=s.getUTCMilliseconds();s=(l<=0||l>=1e4?(l<0?\"-\":\"+\")+D(6,l<0?-l:l):D(4,l))+\"-\"+D(2,u+1)+\"-\"+D(2,p)+\"T\"+D(2,v)+\":\"+D(2,b)+\":\"+D(2,_)+\".\"+D(3,S)+\"Z\"}else s=null;if(n&&(s=n.call(t,e,s)),null===s)return\"null\";if(\"[object Boolean]\"==(c=y.call(s)))return\"\"+s;if(c==E)return s>-1/0&&s<1/0?\"\"+s:\"null\";if(c==w)return x(\"\"+s);if(\"object\"==typeof s){for(N=a.length;N--;)if(a[N]===s)throw d();if(a.push(s),A=[],L=o,o+=r,c==T){for(O=0,N=s.length;O<N;O++)k=I(O,s,n,i,r,o,a),A.push(k===g?\"null\":k);M=A.length?r?\"[\\n\"+o+A.join(\",\\n\"+o)+\"\\n\"+L+\"]\":\"[\"+A.join(\",\")+\"]\":\"[]\"}else m(i||s,(function(e){var t=I(e,s,n,i,r,o,a);t!==g&&A.push(x(e)+\":\"+(r?\" \":\"\")+t)})),M=A.length?r?\"{\\n\"+o+A.join(\",\\n\"+o)+\"\\n\"+L+\"}\":\"{\"+A.join(\",\")+\"}\":\"{}\";return a.pop(),M}};t.stringify=function(e,t,n){var i,r,o,a;if(s[typeof t]&&t)if((a=y.call(t))==_)r=t;else if(a==T){o={};for(var c,l=0,u=t.length;l<u;c=t[l++],((a=y.call(c))==w||a==E)&&(o[c]=1));}if(n)if((a=y.call(n))==E){if((n-=n%1)>0)for(i=\"\",n>10&&(n=10);i.length<n;i+=\" \");}else a==w&&(i=n.length<=10?n:n.slice(0,10));return I(\"\",((c={})[\"\"]=e,c),r,o,i,\"\",[])}}if(!n(\"json-parse\")){var O,N,L=r.fromCharCode,M={92:\"\\\\\",34:'\"',47:\"/\",98:\"\\b\",116:\"\\t\",110:\"\\n\",102:\"\\f\",114:\"\\r\"},P=function(){throw O=N=null,u()},j=function(){for(var e,t,n,i,r,o=N,a=o.length;O<a;)switch(r=o.charCodeAt(O)){case 9:case 10:case 13:case 32:O++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=S?o.charAt(O):o[O],O++,e;case 34:for(e=\"@\",O++;O<a;)if((r=o.charCodeAt(O))<32)P();else if(92==r)switch(r=o.charCodeAt(++O)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=M[r],O++;break;case 117:for(t=++O,n=O+4;O<n;O++)(r=o.charCodeAt(O))>=48&&r<=57||r>=97&&r<=102||r>=65&&r<=70||P();e+=L(\"0x\"+o.slice(t,O));break;default:P()}else{if(34==r)break;for(r=o.charCodeAt(O),t=O;r>=32&&92!=r&&34!=r;)r=o.charCodeAt(++O);e+=o.slice(t,O)}if(34==o.charCodeAt(O))return O++,e;P();default:if(t=O,45==r&&(i=!0,r=o.charCodeAt(++O)),r>=48&&r<=57){for(48==r&&(r=o.charCodeAt(O+1))>=48&&r<=57&&P(),i=!1;O<a&&(r=o.charCodeAt(O))>=48&&r<=57;O++);if(46==o.charCodeAt(O)){for(n=++O;n<a&&(r=o.charCodeAt(n))>=48&&r<=57;n++);n==O&&P(),O=n}if(101==(r=o.charCodeAt(O))||69==r){for(43!=(r=o.charCodeAt(++O))&&45!=r||O++,n=O;n<a&&(r=o.charCodeAt(n))>=48&&r<=57;n++);n==O&&P(),O=n}return+o.slice(t,O)}if(i&&P(),\"true\"==o.slice(O,O+4))return O+=4,!0;if(\"false\"==o.slice(O,O+5))return O+=5,!1;if(\"null\"==o.slice(O,O+4))return O+=4,null;P()}return\"$\"},F=function(e){var t,n;if(\"$\"==e&&P(),\"string\"==typeof e){if(\"@\"==(S?e.charAt(0):e[0]))return e.slice(1);if(\"[\"==e){for(t=[];\"]\"!=(e=j());n||(n=!0))n&&(\",\"==e?\"]\"==(e=j())&&P():P()),\",\"==e&&P(),t.push(F(e));return t}if(\"{\"==e){for(t={};\"}\"!=(e=j());n||(n=!0))n&&(\",\"==e?\"}\"==(e=j())&&P():P()),\",\"!=e&&\"string\"==typeof e&&\"@\"==(S?e.charAt(0):e[0])&&\":\"==j()||P(),t[e.slice(1)]=F(j());return t}P()}return e},U=function(e,t,n){var i=B(e,t,n);i===g?delete e[t]:e[t]=i},B=function(e,t,n){var i,r=e[t];if(\"object\"==typeof r&&r)if(y.call(r)==T)for(i=r.length;i--;)U(r,i,n);else m(r,(function(e){U(r,e,n)}));return n.call(e,t,r)};t.parse=function(e,t){var n,i;return O=0,N=\"\"+e,n=F(j()),\"$\"!=j()&&P(),O=N=null,t&&y.call(t)==_?B(((i={})[\"\"]=n,i),\"\",t):n}}}return t.runInContext=o,t}var a=n(73),s={function:!0,object:!0},c=s[typeof t]&&t&&!t.nodeType&&t,l=s[typeof window]&&window||this,u=c&&s[typeof e]&&e&&!e.nodeType&&\"object\"==typeof r&&r;if(!u||u.global!==u&&u.window!==u&&u.self!==u||(l=u),c&&!a)o(l,c);else{var d=l.JSON,p=l.JSON3,h=!1,f=o(l,l.JSON3={noConflict:function(){return h||(h=!0,l.JSON=d,l.JSON3=p,d=p=null),f}});l.JSON={parse:f.parse,stringify:f.stringify}}a&&(void 0===(i=(function(){return f}).call(t,n,t,e))||(e.exports=i))}).call(this)}).call(t,n(72)(e),function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t){e.exports=Array.isArray||function(e){return\"[object Array]\"==Object.prototype.toString.call(e)}},function(e,t){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){i.off(e,n),t.apply(this,arguments)}var i=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var i,r=0;r<n.length;r++)if((i=n[r])===t||i.fn===t){n.splice(r,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n)for(var i=0,r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){(function(e){var i=n(74),r=n(77);t.deconstructPacket=function(e){var t=[],n=e;return n.data=function e(n){if(!n)return n;if(r(n)){var o={_placeholder:!0,num:t.length};return t.push(n),o}if(i(n)){for(var a=new Array(n.length),s=0;s<n.length;s++)a[s]=e(n[s]);return a}if(\"object\"==typeof n&&!(n instanceof Date)){for(var c in a={},n)a[c]=e(n[c]);return a}return n}(e.data),n.attachments=t.length,{packet:n,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(n){if(n&&n._placeholder)return t[n.num];if(i(n)){for(var r=0;r<n.length;r++)n[r]=e(n[r]);return n}if(n&&\"object\"==typeof n){for(var o in n)n[o]=e(n[o]);return n}return n}(e.data),e.attachments=void 0,e},t.removeBlobs=function(t,n){var o=0,a=t;(function t(s,c,l){if(!s)return s;if(e.Blob&&s instanceof Blob||e.File&&s instanceof File){o++;var u=new FileReader;u.onload=function(){l?l[c]=this.result:a=this.result,--o||n(a)},u.readAsArrayBuffer(s)}else if(i(s))for(var d=0;d<s.length;d++)t(s[d],d,s);else if(s&&\"object\"==typeof s&&!r(s))for(var p in s)t(s[p],p,s)})(a),o||n(a)}}).call(t,function(){return this}())},function(e,t){(function(t){e.exports=function(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer}}).call(t,function(){return this}())},function(e,t,n){function i(e,t){return this instanceof i?(e&&\"object\"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||\"/socket.io\",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState=\"closed\",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new s.Encoder,this.decoder=new s.Decoder,this.autoConnect=!1!==t.autoConnect,void(this.autoConnect&&this.open())):new i(e,t)}var r=n(79),o=n(105),a=n(106),s=n(70),c=n(108),l=n(109),u=n(67)(\"socket.io-client:manager\"),d=n(103),p=n(111),h=Object.prototype.hasOwnProperty;e.exports=i,i.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)h.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},i.prototype.updateSocketIds=function(){for(var e in this.nsps)h.call(this.nsps,e)&&(this.nsps[e].id=this.engine.id)},a(i.prototype),i.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},i.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},i.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},i.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},i.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},i.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},i.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},i.prototype.open=i.prototype.connect=function(e){if(u(\"readyState %s\",this.readyState),~this.readyState.indexOf(\"open\"))return this;u(\"opening %s\",this.uri),this.engine=r(this.uri,this.opts);var t=this.engine,n=this;this.readyState=\"opening\",this.skipReconnect=!1;var i=c(t,\"open\",(function(){n.onopen(),e&&e()})),o=c(t,\"error\",(function(t){if(u(\"connect_error\"),n.cleanup(),n.readyState=\"closed\",n.emitAll(\"connect_error\",t),e){var i=new Error(\"Connection error\");i.data=t,e(i)}else n.maybeReconnectOnOpen()}));if(!1!==this._timeout){var a=this._timeout;u(\"connect attempt will timeout after %d\",a);var s=setTimeout((function(){u(\"connect attempt timed out after %d\",a),i.destroy(),t.close(),t.emit(\"error\",\"timeout\"),n.emitAll(\"connect_timeout\",a)}),a);this.subs.push({destroy:function(){clearTimeout(s)}})}return this.subs.push(i),this.subs.push(o),this},i.prototype.onopen=function(){u(\"open\"),this.cleanup(),this.readyState=\"open\",this.emit(\"open\");var e=this.engine;this.subs.push(c(e,\"data\",l(this,\"ondata\"))),this.subs.push(c(e,\"ping\",l(this,\"onping\"))),this.subs.push(c(e,\"pong\",l(this,\"onpong\"))),this.subs.push(c(e,\"error\",l(this,\"onerror\"))),this.subs.push(c(e,\"close\",l(this,\"onclose\"))),this.subs.push(c(this.decoder,\"decoded\",l(this,\"ondecoded\")))},i.prototype.onping=function(){this.lastPing=new Date,this.emitAll(\"ping\")},i.prototype.onpong=function(){this.emitAll(\"pong\",new Date-this.lastPing)},i.prototype.ondata=function(e){this.decoder.add(e)},i.prototype.ondecoded=function(e){this.emit(\"packet\",e)},i.prototype.onerror=function(e){u(\"error\",e),this.emitAll(\"error\",e)},i.prototype.socket=function(e){function t(){~d(i.connecting,n)||i.connecting.push(n)}var n=this.nsps[e];if(!n){n=new o(this,e),this.nsps[e]=n;var i=this;n.on(\"connecting\",t),n.on(\"connect\",(function(){n.id=i.engine.id})),this.autoConnect&&t()}return n},i.prototype.destroy=function(e){var t=d(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},i.prototype.packet=function(e){u(\"writing packet %j\",e);var t=this;t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(n){for(var i=0;i<n.length;i++)t.engine.write(n[i],e.options);t.encoding=!1,t.processPacketQueue()})))},i.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},i.prototype.cleanup=function(){u(\"cleanup\");for(var e;e=this.subs.shift();)e.destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},i.prototype.close=i.prototype.disconnect=function(){u(\"disconnect\"),this.skipReconnect=!0,this.reconnecting=!1,\"opening\"==this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState=\"closed\",this.engine&&this.engine.close()},i.prototype.onclose=function(e){u(\"onclose\"),this.cleanup(),this.backoff.reset(),this.readyState=\"closed\",this.emit(\"close\",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},i.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)u(\"reconnect failed\"),this.backoff.reset(),this.emitAll(\"reconnect_failed\"),this.reconnecting=!1;else{var t=this.backoff.duration();u(\"will wait %dms before reconnect attempt\",t),this.reconnecting=!0;var n=setTimeout((function(){e.skipReconnect||(u(\"attempting reconnect\"),e.emitAll(\"reconnect_attempt\",e.backoff.attempts),e.emitAll(\"reconnecting\",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(u(\"reconnect attempt error\"),e.reconnecting=!1,e.reconnect(),e.emitAll(\"reconnect_error\",t.data)):(u(\"reconnect success\"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(n)}})}},i.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll(\"reconnect\",e)}},function(e,t,n){e.exports=n(80)},function(e,t,n){e.exports=n(81),e.exports.parser=n(88)},function(e,t,n){(function(t){function i(e,n){if(!(this instanceof i))return new i(e,n);n=n||{},e&&\"object\"==typeof e&&(n=e,e=null),e?(e=l(e),n.hostname=e.host,n.secure=\"https\"==e.protocol||\"wss\"==e.protocol,n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=l(n.host).host),this.secure=null!=n.secure?n.secure:t.location&&\"https:\"==location.protocol,n.hostname&&!n.port&&(n.port=this.secure?\"443\":\"80\"),this.agent=n.agent||!1,this.hostname=n.hostname||(t.location?location.hostname:\"localhost\"),this.port=n.port||(t.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},\"string\"==typeof this.query&&(this.query=d.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||\"/engine.io\").replace(/\\/$/,\"\")+\"/\",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||\"t\",this.timestampRequests=n.timestampRequests,this.transports=n.transports||[\"polling\",\"websocket\"],this.readyState=\"\",this.writeBuffer=[],this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized?null:n.rejectUnauthorized;var r=\"object\"==typeof t&&t;r.global===r&&n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),this.open()}var r=n(82),o=n(96),a=n(67)(\"engine.io-client:socket\"),s=n(103),c=n(88),l=n(66),u=n(104),d=n(97);e.exports=i,i.priorWebsocketSuccess=!1,o(i.prototype),i.protocol=c.protocol,i.Socket=i,i.Transport=n(87),i.transports=n(82),i.parser=n(88),i.prototype.createTransport=function(e){a('creating transport \"%s\"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);return t.EIO=c.protocol,t.transport=e,this.id&&(t.sid=this.id),new r[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders})},i.prototype.open=function(){var e;if(this.rememberUpgrade&&i.priorWebsocketSuccess&&-1!=this.transports.indexOf(\"websocket\"))e=\"websocket\";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit(\"error\",\"No transports available\")}),0)}e=this.transports[0]}this.readyState=\"opening\";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},i.prototype.setTransport=function(e){a(\"setting transport %s\",e.name);var t=this;this.transport&&(a(\"clearing existing transport %s\",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on(\"drain\",(function(){t.onDrain()})).on(\"packet\",(function(e){t.onPacket(e)})).on(\"error\",(function(e){t.onError(e)})).on(\"close\",(function(){t.onClose(\"transport close\")}))},i.prototype.probe=function(e){function t(){p.onlyBinaryUpgrades&&(d=d||!this.supportsBinary&&p.transport.supportsBinary),d||(a('probe transport \"%s\" opened',e),u.send([{type:\"ping\",data:\"probe\"}]),u.once(\"packet\",(function(t){if(!d)if(\"pong\"==t.type&&\"probe\"==t.data){if(a('probe transport \"%s\" pong',e),p.upgrading=!0,p.emit(\"upgrading\",u),!u)return;i.priorWebsocketSuccess=\"websocket\"==u.name,a('pausing current transport \"%s\"',p.transport.name),p.transport.pause((function(){d||\"closed\"!=p.readyState&&(a(\"changing transport and sending upgrade packet\"),l(),p.setTransport(u),u.send([{type:\"upgrade\"}]),p.emit(\"upgrade\",u),u=null,p.upgrading=!1,p.flush())}))}else{a('probe transport \"%s\" failed',e);var n=new Error(\"probe error\");n.transport=u.name,p.emit(\"upgradeError\",n)}})))}function n(){d||(d=!0,l(),u.close(),u=null)}function r(t){var i=new Error(\"probe error: \"+t);i.transport=u.name,n(),a('probe transport \"%s\" failed because of error: %s',e,t),p.emit(\"upgradeError\",i)}function o(){r(\"transport closed\")}function s(){r(\"socket closed\")}function c(e){u&&e.name!=u.name&&(a('\"%s\" works - aborting \"%s\"',e.name,u.name),n())}function l(){u.removeListener(\"open\",t),u.removeListener(\"error\",r),u.removeListener(\"close\",o),p.removeListener(\"close\",s),p.removeListener(\"upgrading\",c)}a('probing transport \"%s\"',e);var u=this.createTransport(e,{probe:1}),d=!1,p=this;i.priorWebsocketSuccess=!1,u.once(\"open\",t),u.once(\"error\",r),u.once(\"close\",o),this.once(\"close\",s),this.once(\"upgrading\",c),u.open()},i.prototype.onOpen=function(){if(a(\"socket open\"),this.readyState=\"open\",i.priorWebsocketSuccess=\"websocket\"==this.transport.name,this.emit(\"open\"),this.flush(),\"open\"==this.readyState&&this.upgrade&&this.transport.pause){a(\"starting upgrade probes\");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},i.prototype.onPacket=function(e){if(\"opening\"==this.readyState||\"open\"==this.readyState)switch(a('socket receive: type \"%s\", data \"%s\"',e.type,e.data),this.emit(\"packet\",e),this.emit(\"heartbeat\"),e.type){case\"open\":this.onHandshake(u(e.data));break;case\"pong\":this.setPing(),this.emit(\"pong\");break;case\"error\":var t=new Error(\"server error\");t.code=e.data,this.onError(t);break;case\"message\":this.emit(\"data\",e.data),this.emit(\"message\",e.data)}else a('packet received with socket readyState \"%s\"',this.readyState)},i.prototype.onHandshake=function(e){this.emit(\"handshake\",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),\"closed\"!=this.readyState&&(this.setPing(),this.removeListener(\"heartbeat\",this.onHeartbeat),this.on(\"heartbeat\",this.onHeartbeat))},i.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){\"closed\"!=t.readyState&&t.onClose(\"ping timeout\")}),e||t.pingInterval+t.pingTimeout)},i.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){a(\"writing ping packet - expecting pong within %sms\",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},i.prototype.ping=function(){var e=this;this.sendPacket(\"ping\",(function(){e.emit(\"ping\")}))},i.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit(\"drain\"):this.flush()},i.prototype.flush=function(){\"closed\"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a(\"flushing %d packets in socket\",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit(\"flush\"))},i.prototype.write=i.prototype.send=function(e,t,n){return this.sendPacket(\"message\",e,t,n),this},i.prototype.sendPacket=function(e,t,n,i){if(\"function\"==typeof t&&(i=t,t=void 0),\"function\"==typeof n&&(i=n,n=null),\"closing\"!=this.readyState&&\"closed\"!=this.readyState){(n=n||{}).compress=!1!==n.compress;var r={type:e,data:t,options:n};this.emit(\"packetCreate\",r),this.writeBuffer.push(r),i&&this.once(\"flush\",i),this.flush()}},i.prototype.close=function(){function e(){i.onClose(\"forced close\"),a(\"socket closing - telling transport to close\"),i.transport.close()}function t(){i.removeListener(\"upgrade\",t),i.removeListener(\"upgradeError\",t),e()}function n(){i.once(\"upgrade\",t),i.once(\"upgradeError\",t)}if(\"opening\"==this.readyState||\"open\"==this.readyState){this.readyState=\"closing\";var i=this;this.writeBuffer.length?this.once(\"drain\",(function(){this.upgrading?n():e()})):this.upgrading?n():e()}return this},i.prototype.onError=function(e){a(\"socket error %j\",e),i.priorWebsocketSuccess=!1,this.emit(\"error\",e),this.onClose(\"transport error\",e)},i.prototype.onClose=function(e,t){\"opening\"!=this.readyState&&\"open\"!=this.readyState&&\"closing\"!=this.readyState||(a('socket close with reason: \"%s\"',e),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners(\"close\"),this.transport.close(),this.transport.removeAllListeners(),this.readyState=\"closed\",this.id=null,this.emit(\"close\",e,t),this.writeBuffer=[],this.prevBufferLen=0)},i.prototype.filterUpgrades=function(e){for(var t=[],n=0,i=e.length;n<i;n++)~s(this.transports,e[n])&&t.push(e[n]);return t}}).call(t,function(){return this}())},function(e,t,n){(function(e){var i=n(83),r=n(85),o=n(100),a=n(101);t.polling=function(t){var n=!1,a=!1,s=!1!==t.jsonp;if(e.location){var c=\"https:\"==location.protocol,l=location.port;l||(l=c?443:80),n=t.hostname!=location.hostname||l!=t.port,a=t.secure!=c}if(t.xdomain=n,t.xscheme=a,\"open\"in new i(t)&&!t.forceJSONP)return new r(t);if(!s)throw new Error(\"JSONP disabled\");return new o(t)},t.websocket=a}).call(t,function(){return this}())},function(e,t,n){var i=n(84);e.exports=function(e){var t=e.xdomain,n=e.xscheme,r=e.enablesXDR;try{if(\"undefined\"!=typeof XMLHttpRequest&&(!t||i))return new XMLHttpRequest}catch(e){}try{if(\"undefined\"!=typeof XDomainRequest&&!n&&r)return new XDomainRequest}catch(e){}if(!t)try{return new ActiveXObject(\"Microsoft.XMLHTTP\")}catch(e){}}},function(e,t){try{e.exports=\"undefined\"!=typeof XMLHttpRequest&&\"withCredentials\"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t,n){(function(t){function i(){}function r(e){if(c.call(this,e),t.location){var n=\"https:\"==location.protocol,i=location.port;i||(i=n?443:80),this.xd=e.hostname!=t.location.hostname||i!=e.port,this.xs=e.secure!=n}else this.extraHeaders=e.extraHeaders}function o(e){this.method=e.method||\"GET\",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=null!=e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function a(){for(var e in o.requests)o.requests.hasOwnProperty(e)&&o.requests[e].abort()}var s=n(83),c=n(86),l=n(96),u=n(98),d=n(67)(\"engine.io-client:polling-xhr\");e.exports=r,e.exports.Request=o,u(r,c),r.prototype.supportsBinary=!0,r.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.extraHeaders=this.extraHeaders,new o(e)},r.prototype.doWrite=function(e,t){var n=this.request({method:\"POST\",data:e,isBinary:\"string\"!=typeof e&&void 0!==e}),i=this;n.on(\"success\",t),n.on(\"error\",(function(e){i.onError(\"xhr post error\",e)})),this.sendXhr=n},r.prototype.doPoll=function(){d(\"xhr poll\");var e=this.request(),t=this;e.on(\"data\",(function(e){t.onData(e)})),e.on(\"error\",(function(e){t.onError(\"xhr poll error\",e)})),this.pollXhr=e},l(o.prototype),o.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var n=this.xhr=new s(e),i=this;try{d(\"xhr open %s: %s\",this.method,this.uri),n.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var r in n.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&n.setRequestHeader(r,this.extraHeaders[r])}catch(e){}if(this.supportsBinary&&(n.responseType=\"arraybuffer\"),\"POST\"==this.method)try{n.setRequestHeader(\"Content-type\",this.isBinary?\"application/octet-stream\":\"text/plain;charset=UTF-8\")}catch(e){}\"withCredentials\"in n&&(n.withCredentials=!0),this.hasXDR()?(n.onload=function(){i.onLoad()},n.onerror=function(){i.onError(n.responseText)}):n.onreadystatechange=function(){4==n.readyState&&(200==n.status||1223==n.status?i.onLoad():setTimeout((function(){i.onError(n.status)}),0))},d(\"xhr data %s\",this.data),n.send(this.data)}catch(e){return void setTimeout((function(){i.onError(e)}),0)}t.document&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit(\"success\"),this.cleanup()},o.prototype.onData=function(e){this.emit(\"data\",e),this.onSuccess()},o.prototype.onError=function(e){this.emit(\"error\",e),this.cleanup(!0)},o.prototype.cleanup=function(e){if(null!=this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=i:this.xhr.onreadystatechange=i,e)try{this.xhr.abort()}catch(e){}t.document&&delete o.requests[this.index],this.xhr=null}},o.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader(\"Content-Type\").split(\";\")[0]}catch(e){}if(\"application/octet-stream\"===t)e=this.xhr.response;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(t){for(var n=new Uint8Array(this.xhr.response),i=[],r=0,o=n.length;r<o;r++)i.push(n[r]);e=String.fromCharCode.apply(null,i)}else e=this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},o.prototype.hasXDR=function(){return void 0!==t.XDomainRequest&&!this.xs&&this.enablesXDR},o.prototype.abort=function(){this.cleanup()},t.document&&(o.requestsCount=0,o.requests={},t.attachEvent?t.attachEvent(\"onunload\",a):t.addEventListener&&t.addEventListener(\"beforeunload\",a,!1))}).call(t,function(){return this}())},function(e,t,n){function i(e){u&&!(e&&e.forceBase64)||(this.supportsBinary=!1),r.call(this,e)}var r=n(87),o=n(97),a=n(88),s=n(98),c=n(99),l=n(67)(\"engine.io-client:polling\");e.exports=i;var u=null!=new(n(83))({xdomain:!1}).responseType;s(i,r),i.prototype.name=\"polling\",i.prototype.doOpen=function(){this.poll()},i.prototype.pause=function(e){function t(){l(\"paused\"),n.readyState=\"paused\",e()}var n=this;if(this.readyState=\"pausing\",this.polling||!this.writable){var i=0;this.polling&&(l(\"we are currently polling - waiting to pause\"),i++,this.once(\"pollComplete\",(function(){l(\"pre-pause polling complete\"),--i||t()}))),this.writable||(l(\"we are currently writing - waiting to pause\"),i++,this.once(\"drain\",(function(){l(\"pre-pause writing complete\"),--i||t()})))}else t()},i.prototype.poll=function(){l(\"polling\"),this.polling=!0,this.doPoll(),this.emit(\"poll\")},i.prototype.onData=function(e){var t=this;l(\"polling got data %s\",e),a.decodePayload(e,this.socket.binaryType,(function(e,n,i){return\"opening\"==t.readyState&&t.onOpen(),\"close\"==e.type?(t.onClose(),!1):void t.onPacket(e)})),\"closed\"!=this.readyState&&(this.polling=!1,this.emit(\"pollComplete\"),\"open\"==this.readyState?this.poll():l('ignoring poll - transport state \"%s\"',this.readyState))},i.prototype.doClose=function(){function e(){l(\"writing close packet\"),t.write([{type:\"close\"}])}var t=this;\"open\"==this.readyState?(l(\"transport open - closing\"),e()):(l(\"transport not open - deferring close\"),this.once(\"open\",e))},i.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit(\"drain\")};t=this,a.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,n)}))},i.prototype.uri=function(){var e=this.query||{},t=this.secure?\"https\":\"http\",n=\"\";return!1!==this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&(\"https\"==t&&443!=this.port||\"http\"==t&&80!=this.port)&&(n=\":\"+this.port),e.length&&(e=\"?\"+e),t+\"://\"+(-1!==this.hostname.indexOf(\":\")?\"[\"+this.hostname+\"]\":this.hostname)+n+this.path+e}},function(e,t,n){function i(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState=\"\",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders}var r=n(88),o=n(96);e.exports=i,o(i.prototype),i.prototype.onError=function(e,t){var n=new Error(e);return n.type=\"TransportError\",n.description=t,this.emit(\"error\",n),this},i.prototype.open=function(){return\"closed\"!=this.readyState&&\"\"!=this.readyState||(this.readyState=\"opening\",this.doOpen()),this},i.prototype.close=function(){return\"opening\"!=this.readyState&&\"open\"!=this.readyState||(this.doClose(),this.onClose()),this},i.prototype.send=function(e){if(\"open\"!=this.readyState)throw new Error(\"Transport not open\");this.write(e)},i.prototype.onOpen=function(){this.readyState=\"open\",this.writable=!0,this.emit(\"open\")},i.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},i.prototype.onPacket=function(e){this.emit(\"packet\",e)},i.prototype.onClose=function(){this.readyState=\"closed\",this.emit(\"close\")}},function(e,t,n){(function(e){function i(e,n){return n(\"b\"+t.packets[e.type]+e.data.data)}function r(e,n,i){if(!n)return t.encodeBase64Packet(e,i);var r=e.data,o=new Uint8Array(r),a=new Uint8Array(1+r.byteLength);a[0]=g[e.type];for(var s=0;s<o.length;s++)a[s+1]=o[s];return i(a.buffer)}function o(e,n,i){if(!n)return t.encodeBase64Packet(e,i);if(m)return function(e,n,i){if(!n)return t.encodeBase64Packet(e,i);var r=new FileReader;return r.onload=function(){e.data=r.result,t.encodePacket(e,n,!0,i)},r.readAsArrayBuffer(e.data)}(e,n,i);var r=new Uint8Array(1);return r[0]=g[e.type],i(new b([r.buffer,e.data]))}function a(e,t,n){for(var i=new Array(e.length),r=d(e.length,n),o=function(e,n,r){t(n,(function(t,n){i[e]=n,r(t,i)}))},a=0;a<e.length;a++)o(a,e[a],r)}var s=n(89),c=n(90),l=n(91),u=n(92),d=n(93),p=n(94),h=navigator.userAgent.match(/Android/i),f=/PhantomJS/i.test(navigator.userAgent),m=h||f;t.protocol=3;var g=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},v=s(g),y={type:\"error\",data:\"parser error\"},b=n(95);t.encodePacket=function(t,n,a,s){\"function\"==typeof n&&(s=n,n=!1),\"function\"==typeof a&&(s=a,a=null);var c=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&c instanceof ArrayBuffer)return r(t,n,s);if(b&&c instanceof e.Blob)return o(t,n,s);if(c&&c.base64)return i(t,s);var l=g[t.type];return void 0!==t.data&&(l+=a?p.encode(String(t.data)):String(t.data)),s(\"\"+l)},t.encodeBase64Packet=function(n,i){var r,o=\"b\"+t.packets[n.type];if(b&&n.data instanceof e.Blob){var a=new FileReader;return a.onload=function(){var e=a.result.split(\",\")[1];i(o+e)},a.readAsDataURL(n.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(e){for(var s=new Uint8Array(n.data),c=new Array(s.length),l=0;l<s.length;l++)c[l]=s[l];r=String.fromCharCode.apply(null,c)}return o+=e.btoa(r),i(o)},t.decodePacket=function(e,n,i){if(\"string\"==typeof e||void 0===e){if(\"b\"==e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(i)try{e=p.decode(e)}catch(e){return y}var r=e.charAt(0);return Number(r)==r&&v[r]?e.length>1?{type:v[r],data:e.substring(1)}:{type:v[r]}:y}r=new Uint8Array(e)[0];var o=l(e,1);return b&&\"blob\"===n&&(o=new b([o])),{type:v[r],data:o}},t.decodeBase64Packet=function(t,n){var i=v[t.charAt(0)];if(!e.ArrayBuffer)return{type:i,data:{base64:!0,data:t.substr(1)}};var r=u.decode(t.substr(1));return\"blob\"===n&&b&&(r=new b([r])),{type:i,data:r}},t.encodePayload=function(e,n,i){\"function\"==typeof n&&(i=n,n=null);var r=c(e);return n&&r?b&&!m?t.encodePayloadAsBlob(e,i):t.encodePayloadAsArrayBuffer(e,i):e.length?void a(e,(function(e,i){t.encodePacket(e,!!r&&n,!0,(function(e){i(null,function(e){return e.length+\":\"+e}(e))}))}),(function(e,t){return i(t.join(\"\"))})):i(\"0:\")},t.decodePayload=function(e,n,i){if(\"string\"!=typeof e)return t.decodePayloadAsBinary(e,n,i);var r;if(\"function\"==typeof n&&(i=n,n=null),\"\"==e)return i(y,0,1);for(var o,a,s=\"\",c=0,l=e.length;c<l;c++){var u=e.charAt(c);if(\":\"!=u)s+=u;else{if(\"\"==s||s!=(o=Number(s)))return i(y,0,1);if(s!=(a=e.substr(c+1,o)).length)return i(y,0,1);if(a.length){if(r=t.decodePacket(a,n,!0),y.type==r.type&&y.data==r.data)return i(y,0,1);if(!1===i(r,c+o,l))return}c+=o,s=\"\"}}return\"\"!=s?i(y,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){return e.length?void a(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){return n(null,e)}))}),(function(e,t){var i=t.reduce((function(e,t){var n;return e+(n=\"string\"==typeof t?t.length:t.byteLength).toString().length+n+2}),0),r=new Uint8Array(i),o=0;return t.forEach((function(e){var t=\"string\"==typeof e,n=e;if(t){for(var i=new Uint8Array(e.length),a=0;a<e.length;a++)i[a]=e.charCodeAt(a);n=i.buffer}r[o++]=t?0:1;var s=n.byteLength.toString();for(a=0;a<s.length;a++)r[o++]=parseInt(s[a]);for(r[o++]=255,i=new Uint8Array(n),a=0;a<i.length;a++)r[o++]=i[a]})),n(r.buffer)})):n(new ArrayBuffer(0))},t.encodePayloadAsBlob=function(e,n){a(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,\"string\"==typeof e){for(var i=new Uint8Array(e.length),r=0;r<e.length;r++)i[r]=e.charCodeAt(r);e=i.buffer,t[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),a=new Uint8Array(o.length+1);for(r=0;r<o.length;r++)a[r]=parseInt(o[r]);if(a[o.length]=255,b){var s=new b([t.buffer,a.buffer,e]);n(null,s)}}))}),(function(e,t){return n(new b(t))}))},t.decodePayloadAsBinary=function(e,n,i){\"function\"==typeof n&&(i=n,n=null);for(var r=e,o=[],a=!1;r.byteLength>0;){for(var s=new Uint8Array(r),c=0===s[0],u=\"\",d=1;255!=s[d];d++){if(u.length>310){a=!0;break}u+=s[d]}if(a)return i(y,0,1);r=l(r,2+u.length),u=parseInt(u);var p=l(r,0,u);if(c)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(e){var h=new Uint8Array(p);for(p=\"\",d=0;d<h.length;d++)p+=String.fromCharCode(h[d])}o.push(p),r=l(r,u)}var f=o.length;o.forEach((function(e,r){i(t.decodePacket(e,n,!0),r,f)}))}}).call(t,function(){return this}())},function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var i in e)n.call(e,i)&&t.push(i);return t}},function(e,t,n){(function(t){var i=n(74);e.exports=function(e){return function e(n){if(!n)return!1;if(t.Buffer&&t.Buffer.isBuffer(n)||t.ArrayBuffer&&n instanceof ArrayBuffer||t.Blob&&n instanceof Blob||t.File&&n instanceof File)return!0;if(i(n)){for(var r=0;r<n.length;r++)if(e(n[r]))return!0}else if(n&&\"object\"==typeof n)for(var o in n.toJSON&&(n=n.toJSON()),n)if(Object.prototype.hasOwnProperty.call(n,o)&&e(n[o]))return!0;return!1}(e)}}).call(t,function(){return this}())},function(e,t){e.exports=function(e,t,n){var i=e.byteLength;if(t=t||0,n=n||i,e.slice)return e.slice(t,n);if(t<0&&(t+=i),n<0&&(n+=i),n>i&&(n=i),t>=i||t>=n||0===i)return new ArrayBuffer(0);for(var r=new Uint8Array(e),o=new Uint8Array(n-t),a=t,s=0;a<n;a++,s++)o[s]=r[a];return o.buffer}},function(e,t){!function(e){\"use strict\";t.encode=function(t){var n,i=new Uint8Array(t),r=i.length,o=\"\";for(n=0;n<r;n+=3)o+=e[i[n]>>2],o+=e[(3&i[n])<<4|i[n+1]>>4],o+=e[(15&i[n+1])<<2|i[n+2]>>6],o+=e[63&i[n+2]];return r%3==2?o=o.substring(0,o.length-1)+\"=\":r%3==1&&(o=o.substring(0,o.length-2)+\"==\"),o},t.decode=function(t){var n,i,r,o,a,s=.75*t.length,c=t.length,l=0;\"=\"===t[t.length-1]&&(s--,\"=\"===t[t.length-2]&&s--);var u=new ArrayBuffer(s),d=new Uint8Array(u);for(n=0;n<c;n+=4)i=e.indexOf(t[n]),r=e.indexOf(t[n+1]),o=e.indexOf(t[n+2]),a=e.indexOf(t[n+3]),d[l++]=i<<2|r>>4,d[l++]=(15&r)<<4|o>>2,d[l++]=(3&o)<<6|63&a;return u}}(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\")},function(e,t){function n(){}e.exports=function(e,t,i){function r(e,n){if(r.count<=0)throw new Error(\"after called too many times\");--r.count,e?(o=!0,t(e),t=i):0!==r.count||o||t(null,n)}var o=!1;return i=i||n,r.count=e,0===e?t():r}},function(e,t,n){var i;(function(e,r){!function(r){function o(e){for(var t,n,i=[],r=0,o=e.length;r<o;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<o?56320==(64512&(n=e.charCodeAt(r++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--):i.push(t);return i}function a(e){if(e>=55296&&e<=57343)throw Error(\"Lone surrogate U+\"+e.toString(16).toUpperCase()+\" is not a scalar value\")}function s(e,t){return f(e>>t&63|128)}function c(e){if(0==(4294967168&e))return f(e);var t=\"\";return 0==(4294965248&e)?t=f(e>>6&31|192):0==(4294901760&e)?(a(e),t=f(e>>12&15|224),t+=s(e,6)):0==(4292870144&e)&&(t=f(e>>18&7|240),t+=s(e,12),t+=s(e,6)),t+f(63&e|128)}function l(){if(h>=p)throw Error(\"Invalid byte index\");var e=255&d[h];if(h++,128==(192&e))return 63&e;throw Error(\"Invalid continuation byte\")}function u(){var e,t;if(h>p)throw Error(\"Invalid byte index\");if(h==p)return!1;if(e=255&d[h],h++,0==(128&e))return e;if(192==(224&e)){if((t=(31&e)<<6|l())>=128)return t;throw Error(\"Invalid continuation byte\")}if(224==(240&e)){if((t=(15&e)<<12|l()<<6|l())>=2048)return a(t),t;throw Error(\"Invalid continuation byte\")}if(240==(248&e)&&(t=(15&e)<<18|l()<<12|l()<<6|l())>=65536&&t<=1114111)return t;throw Error(\"Invalid UTF-8 detected\")}var d,p,h,f=String.fromCharCode,m={version:\"2.0.0\",encode:function(e){for(var t=o(e),n=t.length,i=-1,r=\"\";++i<n;)r+=c(t[i]);return r},decode:function(e){d=o(e),p=d.length,h=0;for(var t,n=[];!1!==(t=u());)n.push(t);return function(e){for(var t,n=e.length,i=-1,r=\"\";++i<n;)(t=e[i])>65535&&(r+=f((t-=65536)>>>10&1023|55296),t=56320|1023&t),r+=f(t);return r}(n)}};void 0===(i=(function(){return m}).call(t,n,t,e))||(e.exports=i)}()}).call(t,n(72)(e),function(){return this}())},function(e,t){(function(t){function n(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var i=n.buffer;if(n.byteLength!==i.byteLength){var r=new Uint8Array(n.byteLength);r.set(new Uint8Array(i,n.byteOffset,n.byteLength)),i=r.buffer}e[t]=i}}}var i=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,r=function(){try{return 2===new Blob([\"hi\"]).size}catch(e){return!1}}(),o=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}();e.exports=r?o?t.Blob:function(e,t){return n(e),new Blob(e,t||{})}:i&&i.prototype.append&&i.prototype.getBlob?function(e,t){t=t||{};var r=new i;n(e);for(var o=0;o<e.length;o++)r.append(e[o]);return t.type?r.getBlob(t.type):r.getBlob()}:void 0}).call(t,function(){return this}())},function(e,t){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){i.off(e,n),t.apply(this,arguments)}var i=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var i,r=0;r<n.length;r++)if((i=n[r])===t||i.fn===t){n.splice(r,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n)for(var i=0,r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){t.encode=function(e){var t=\"\";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+=\"&\"),t+=encodeURIComponent(n)+\"=\"+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split(\"&\"),i=0,r=n.length;i<r;i++){var o=n[i].split(\"=\");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){\"use strict\";function n(e){var t=\"\";do{t=o[e%a]+t,e=Math.floor(e/a)}while(e>0);return t}function i(){var e=n(+new Date);return e!==r?(c=0,r=e):e+\".\"+n(c++)}for(var r,o=\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_\".split(\"\"),a=64,s={},c=0,l=0;l<a;l++)s[o[l]]=l;i.encode=n,i.decode=function(e){var t=0;for(l=0;l<e.length;l++)t=t*a+s[e.charAt(l)];return t},e.exports=i},function(e,t,n){(function(t){function i(){}function r(e){o.call(this,e),this.query=this.query||{},s||(t.___eio||(t.___eio=[]),s=t.___eio),this.index=s.length;var n=this;s.push((function(e){n.onData(e)})),this.query.j=this.index,t.document&&t.addEventListener&&t.addEventListener(\"beforeunload\",(function(){n.script&&(n.script.onerror=i)}),!1)}var o=n(86),a=n(98);e.exports=r;var s,c=/\\n/g,l=/\\\\n/g;a(r,o),r.prototype.supportsBinary=!1,r.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o.prototype.doClose.call(this)},r.prototype.doPoll=function(){var e=this,t=document.createElement(\"script\");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError(\"jsonp poll error\",t)};var n=document.getElementsByTagName(\"script\")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,\"undefined\"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement(\"iframe\");document.body.appendChild(e),document.body.removeChild(e)}),100)},r.prototype.doWrite=function(e,t){function n(){i(),t()}function i(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(e){r.onError(\"jsonp polling iframe removal error\",e)}try{var e;o=document.createElement('<iframe src=\"javascript:0\" name=\"'+r.iframeId+'\">')}catch(e){(o=document.createElement(\"iframe\")).name=r.iframeId,o.src=\"javascript:0\"}o.id=r.iframeId,r.form.appendChild(o),r.iframe=o}var r=this;if(!this.form){var o,a=document.createElement(\"form\"),s=document.createElement(\"textarea\"),u=this.iframeId=\"eio_iframe_\"+this.index;a.className=\"socketio\",a.style.position=\"absolute\",a.style.top=\"-1000px\",a.style.left=\"-1000px\",a.target=u,a.method=\"POST\",a.setAttribute(\"accept-charset\",\"utf-8\"),s.name=\"d\",a.appendChild(s),document.body.appendChild(a),this.form=a,this.area=s}this.form.action=this.uri(),i(),e=e.replace(l,\"\\\\\\n\"),this.area.value=e.replace(c,\"\\\\n\");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){\"complete\"==r.iframe.readyState&&n()}:this.iframe.onload=n}}).call(t,function(){return this}())},function(e,t,n){(function(t){function i(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,r.call(this,e)}var r=n(87),o=n(88),a=n(97),s=n(98),c=n(99),l=n(67)(\"engine.io-client:websocket\"),u=t.WebSocket||t.MozWebSocket,d=u;if(!d&&\"undefined\"==typeof window)try{d=n(102)}catch(e){}e.exports=i,s(i,r),i.prototype.name=\"websocket\",i.prototype.supportsBinary=!0,i.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t={agent:this.agent,perMessageDeflate:this.perMessageDeflate};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(t.headers=this.extraHeaders),this.ws=u?new d(e):new d(e,void 0,t),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType=\"buffer\"):this.ws.binaryType=\"arraybuffer\",this.addEventListeners()}},i.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError(\"websocket error\",t)}},\"undefined\"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(i.prototype.onData=function(e){var t=this;setTimeout((function(){r.prototype.onData.call(t,e)}),0)}),i.prototype.write=function(e){var n=this;this.writable=!1;for(var i=e.length,r=0,a=i;r<a;r++)!function(e){o.encodePacket(e,n.supportsBinary,(function(r){if(!u){var o={};e.options&&(o.compress=e.options.compress),n.perMessageDeflate&&(\"string\"==typeof r?t.Buffer.byteLength(r):r.length)<n.perMessageDeflate.threshold&&(o.compress=!1)}try{u?n.ws.send(r):n.ws.send(r,o)}catch(e){l(\"websocket closed before onclose event\")}--i||(n.emit(\"flush\"),setTimeout((function(){n.writable=!0,n.emit(\"drain\")}),0))}))}(e[r])},i.prototype.onClose=function(){r.prototype.onClose.call(this)},i.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},i.prototype.uri=function(){var e=this.query||{},t=this.secure?\"wss\":\"ws\",n=\"\";return this.port&&(\"wss\"==t&&443!=this.port||\"ws\"==t&&80!=this.port)&&(n=\":\"+this.port),this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||(e.b64=1),(e=a.encode(e)).length&&(e=\"?\"+e),t+\"://\"+(-1!==this.hostname.indexOf(\":\")?\"[\"+this.hostname+\"]\":this.hostname)+n+this.path+e},i.prototype.check=function(){return!(!d||\"__initialize\"in d&&this.name===i.prototype.name)}}).call(t,function(){return this}())},function(e,t){},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var i=0;i<e.length;++i)if(e[i]===t)return i;return-1}},function(e,t){(function(t){var n=/^[\\],:{}\\s]*$/,i=/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g,r=/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,o=/(?:^|:|,)(?:\\s*\\[)+/g,a=/^\\s+/,s=/\\s+$/;e.exports=function(e){return\"string\"==typeof e&&e?(e=e.replace(a,\"\").replace(s,\"\"),t.JSON&&JSON.parse?JSON.parse(e):n.test(e.replace(i,\"@\").replace(r,\"]\").replace(o,\"\"))?new Function(\"return \"+e)():void 0):null}}).call(t,function(){return this}())},function(e,t,n){function i(e,t){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.io.autoConnect&&this.open()}var r=n(70),o=n(106),a=n(107),s=n(108),c=n(109),l=n(67)(\"socket.io-client:socket\"),u=n(110);e.exports=i;var d={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},p=o.prototype.emit;o(i.prototype),i.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[s(e,\"open\",c(this,\"onopen\")),s(e,\"packet\",c(this,\"onpacket\")),s(e,\"close\",c(this,\"onclose\"))]}},i.prototype.open=i.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),\"open\"==this.io.readyState&&this.onopen(),this.emit(\"connecting\"),this)},i.prototype.send=function(){var e=a(arguments);return e.unshift(\"message\"),this.emit.apply(this,e),this},i.prototype.emit=function(e){if(d.hasOwnProperty(e))return p.apply(this,arguments),this;var t=a(arguments),n=r.EVENT;u(t)&&(n=r.BINARY_EVENT);var i={type:n,data:t,options:{}};return i.options.compress=!this.flags||!1!==this.flags.compress,\"function\"==typeof t[t.length-1]&&(l(\"emitting packet with ack id %d\",this.ids),this.acks[this.ids]=t.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),delete this.flags,this},i.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},i.prototype.onopen=function(){l(\"transport is open - connecting\"),\"/\"!=this.nsp&&this.packet({type:r.CONNECT})},i.prototype.onclose=function(e){l(\"close (%s)\",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit(\"disconnect\",e)},i.prototype.onpacket=function(e){if(e.nsp==this.nsp)switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit(\"error\",e.data)}},i.prototype.onevent=function(e){var t=e.data||[];l(\"emitting event %j\",t),null!=e.id&&(l(\"attaching ack callback to event\"),t.push(this.ack(e.id))),this.connected?p.apply(this,t):this.receiveBuffer.push(t)},i.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var i=a(arguments);l(\"sending ack %j\",i);var o=u(i)?r.BINARY_ACK:r.ACK;t.packet({type:o,id:e,data:i})}}},i.prototype.onack=function(e){var t=this.acks[e.id];\"function\"==typeof t?(l(\"calling ack %s with %j\",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):l(\"bad ack %s\",e.id)},i.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit(\"connect\"),this.emitBuffered()},i.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)p.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},i.prototype.ondisconnect=function(){l(\"server disconnect (%s)\",this.nsp),this.destroy(),this.onclose(\"io server disconnect\")},i.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},i.prototype.close=i.prototype.disconnect=function(){return this.connected&&(l(\"performing disconnect (%s)\",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose(\"io client disconnect\"),this},i.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},function(e,t){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[\"$\"+e]=this._callbacks[\"$\"+e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[\"$\"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[\"$\"+e],this;for(var i,r=0;r<n.length;r++)if((i=n[r])===t||i.fn===t){n.splice(r,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[\"$\"+e];if(n)for(var i=0,r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[\"$\"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){e.exports=function(e,t){for(var n=[],i=(t=t||0)||0;i<e.length;i++)n[i-t]=e[i];return n}},function(e,t){e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},function(e,t){var n=[].slice;e.exports=function(e,t){if(\"string\"==typeof t&&(t=e[t]),\"function\"!=typeof t)throw new Error(\"bind() requires a function\");var i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}},function(e,t,n){(function(t){var i=n(74);e.exports=function(e){return function e(n){if(!n)return!1;if(t.Buffer&&t.Buffer.isBuffer&&t.Buffer.isBuffer(n)||t.ArrayBuffer&&n instanceof ArrayBuffer||t.Blob&&n instanceof Blob||t.File&&n instanceof File)return!0;if(i(n)){for(var r=0;r<n.length;r++)if(e(n[r]))return!0}else if(n&&\"object\"==typeof n)for(var o in n.toJSON&&\"function\"==typeof n.toJSON&&(n=n.toJSON()),n)if(Object.prototype.hasOwnProperty.call(n,o)&&e(n[o]))return!0;return!1}(e)}}).call(t,function(){return this}())},function(e,t){function n(e){this.ms=(e=e||{}).min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},function(e,t,n){\"use strict\";function i(e,t,n){this.stream=e,this.intervalId=null,this.intervalMilis=t,this.audioLevel=0,this.callback=n}var r=n(32);window.AudioContext=window.AudioContext||window.webkitAudioContext;var o=null;window.AudioContext&&(o=new AudioContext),i.prototype.start=function(){if(o&&!r.isTemasysPluginUsed()){var e=o.createAnalyser();e.smoothingTimeConstant=.8,e.fftSize=2048,o.createMediaStreamSource(this.stream).connect(e);var t=this;this.intervalId=setInterval((function(){var n=new Uint8Array(e.frequencyBinCount);e.getByteTimeDomainData(n);var i=function(e){for(var t=0,n=e.length,i=0;i<n;i++)t<e[i]&&(t=e[i]);return parseFloat(((t-127)/128).toFixed(3))}(n);i!=t.audioLevel&&(t.audioLevel=function(e,t){var n=t-e;return parseFloat((n>.2?t-.2:n<-.4?t+.4:e).toFixed(3))}(i,t.audioLevel),t.callback(t.audioLevel))}),this.intervalMilis)}},i.prototype.stop=function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},e.exports=i},function(e,t,n){(function(t){\"use strict\";function i(e,t){return!t||t<=0||!e||e<=0?0:Math.round(e/t*100)}function r(){this.ssrc2Loss={},this.ssrc2AudioLevel={},this.ssrc2bitrate={download:0,upload:0},this.ssrc2resolution={}}function o(){this.bandwidth={},this.bitrate={},this.packetLoss=null,this.transport=[]}function a(e,t,n,i){this._browserType=u.getBrowserType();var r=p[this._browserType];if(!r)throw\"The browser type '\"+this._browserType+\"' isn't supported!\";this._getStatValue=this._defineGetStatValueMethod(r),this.peerconnection=e,this.baselineAudioLevelsReport=null,this.currentAudioLevelsReport=null,this.currentStatsReport=null,this.baselineStatsReport=null,this.audioLevelsIntervalId=null,this.eventEmitter=i,this.conferenceStats=new o,this.GATHER_INTERVAL=15e3,this.gatherStatsIntervalId=null,this.statsToBeLogged={timestamps:[],stats:{}},this.audioLevelsIntervalMilis=t,this.statsIntervalId=null,this.statsIntervalMilis=n,this.ssrc2stats={}}var s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(60)),c=n(39),l=n(9).getLogger(t),u=n(32),d=u.isChrome()||u.isOpera()||u.isFirefox()||u.isNWJS(),p={};p[u.RTC_BROWSER_FIREFOX]={ssrc:\"ssrc\",packetsReceived:\"packetsReceived\",packetsLost:\"packetsLost\",packetsSent:\"packetsSent\",bytesReceived:\"bytesReceived\",bytesSent:\"bytesSent\"},p[u.RTC_BROWSER_CHROME]={receiveBandwidth:\"googAvailableReceiveBandwidth\",sendBandwidth:\"googAvailableSendBandwidth\",remoteAddress:\"googRemoteAddress\",transportType:\"googTransportType\",localAddress:\"googLocalAddress\",activeConnection:\"googActiveConnection\",ssrc:\"ssrc\",packetsReceived:\"packetsReceived\",packetsSent:\"packetsSent\",packetsLost:\"packetsLost\",bytesReceived:\"bytesReceived\",bytesSent:\"bytesSent\",googFrameHeightReceived:\"googFrameHeightReceived\",googFrameWidthReceived:\"googFrameWidthReceived\",googFrameHeightSent:\"googFrameHeightSent\",googFrameWidthSent:\"googFrameWidthSent\",audioInputLevel:\"audioInputLevel\",audioOutputLevel:\"audioOutputLevel\"},p[u.RTC_BROWSER_OPERA]=p[u.RTC_BROWSER_CHROME],p[u.RTC_BROWSER_NWJS]=p[u.RTC_BROWSER_CHROME],p[u.RTC_BROWSER_IEXPLORER]=p[u.RTC_BROWSER_CHROME],p[u.RTC_BROWSER_SAFARI]=p[u.RTC_BROWSER_CHROME],p[u.RTC_BROWSER_REACT_NATIVE]=p[u.RTC_BROWSER_CHROME],r.prototype.setSsrcLoss=function(e){this.ssrc2Loss=e||{}},r.prototype.setSsrcResolution=function(e){this.ssrc2resolution=e||{}},r.prototype.setSsrcBitrate=function(e){this.ssrc2bitrate.download+=e.download,this.ssrc2bitrate.upload+=e.upload},r.prototype.resetSsrcBitrate=function(){this.ssrc2bitrate.download=0,this.ssrc2bitrate.upload=0},r.prototype.setSsrcAudioLevel=function(e){this.ssrc2AudioLevel=function(e){return Math.min(Math.max(e,0),1)}(e)},e.exports=a,a.prototype.stop=function(){this.audioLevelsIntervalId&&(clearInterval(this.audioLevelsIntervalId),this.audioLevelsIntervalId=null),this.statsIntervalId&&(clearInterval(this.statsIntervalId),this.statsIntervalId=null),this.gatherStatsIntervalId&&(clearInterval(this.gatherStatsIntervalId),this.gatherStatsIntervalId=null)},a.prototype.errorCallback=function(e){c.callErrorHandler(e),l.error(\"Get stats error\",e),this.stop()},a.prototype.start=function(e){var t=this;e&&(this.audioLevelsIntervalId=setInterval((function(){t.peerconnection.getStats((function(e){var n;n=e&&e.result&&\"function\"==typeof e.result?e.result():e,t.currentAudioLevelsReport=n,t.processAudioLevelReport(),t.baselineAudioLevelsReport=t.currentAudioLevelsReport}),t.errorCallback)}),t.audioLevelsIntervalMilis)),d&&(this.statsIntervalId=setInterval((function(){t.peerconnection.getStats((function(e){var n;n=e&&e.result&&\"function\"==typeof e.result?e.result():e,t.currentStatsReport=n;try{t.processStatsReport()}catch(e){c.callErrorHandler(e),l.error(\"Unsupported key:\"+e,e)}t.baselineStatsReport=t.currentStatsReport}),t.errorCallback)}),t.statsIntervalMilis)),d&&this._browserType!==u.RTC_BROWSER_FIREFOX&&(this.gatherStatsIntervalId=setInterval((function(){t.peerconnection.getStats((function(e){t.addStatsToBeLogged(e.result())}),(function(){}))}),this.GATHER_INTERVAL))},a.prototype.addStatsToBeLogged=function(e){var t=this,n=this.statsToBeLogged.timestamps.length;this.statsToBeLogged.timestamps.push((new Date).getTime()),e.forEach((function(e){if(function(e,t){return\"googComponent\"!=t&&\"googCertificate\"!=e.substring(0,15)&&\"googTrack\"!=e.substring(0,9)&&\"googLibjingleSession\"!=e.substring(0,20)}(e.id,e.type)){var i=t.statsToBeLogged.stats[e.id];i||(i=t.statsToBeLogged.stats[e.id]={}),i.type=e.type,e.names().forEach((function(t){if(function(e,t,n){if(\"googCandidatePair\"==t){if(\"googChannelId\"==n)return!1}else if(\"ssrc\"==t&&(\"googTrackId\"==n||\"transportId\"==n||\"ssrc\"==n))return!1;return!0}(0,e.type,t)){var r=i[t];for(r||(r=i[t]=[]);r.length<n;)r.push(null);r.push(e.stat(t))}}))}}))},a.prototype.getCollectedStats=function(){return this.statsToBeLogged},a.prototype.clearCollectedStats=function(){this.statsToBeLogged.stats={},this.statsToBeLogged.timestamps=[]},a.prototype._defineGetStatValueMethod=function(e){var t,n=function(t){var n=e[t];if(n)return n;throw\"The property '\"+t+\"' isn't supported!\"};switch(this._browserType){case u.RTC_BROWSER_CHROME:case u.RTC_BROWSER_OPERA:case u.RTC_BROWSER_NWJS:t=function(e,t){return e.stat(t)};break;case u.RTC_BROWSER_REACT_NATIVE:t=function(e,t){var n;return e.values.some((function(e){return!!e.hasOwnProperty(t)&&(n=e[t],!0)})),n};break;default:t=function(e,t){return e[t]}}return function(e,i){return t(e,n(i))}},a.prototype.processStatsReport=function(){if(this.baselineStatsReport){var e=this._getStatValue,t={};for(var n in this.currentStatsReport){var o=this.currentStatsReport[n];try{var a=e(o,\"receiveBandwidth\"),c=e(o,\"sendBandwidth\");(a||c)&&(this.conferenceStats.bandwidth={download:Math.round(a/1e3),upload:Math.round(c/1e3)})}catch(e){}if(\"googCandidatePair\"!=o.type){if(\"candidatepair\"==o.type){if(\"succeeded\"==o.state)continue;var u=this.currentStatsReport[o.localCandidateId],d=this.currentStatsReport[o.remoteCandidateId];this.conferenceStats.transport.push({ip:d.ipAddress+\":\"+d.portNumber,type:u.transport,localip:u.ipAddress+\":\"+u.portNumber})}if(\"ssrc\"==o.type||\"outboundrtp\"==o.type||\"inboundrtp\"==o.type){var p=this.baselineStatsReport[n],h=e(o,\"ssrc\");if(p){if(h){var f=this.ssrc2stats[h]||(this.ssrc2stats[h]=new r),m=!0,g=\"packetsReceived\",v=e(o,g);if(null!=v&&\"\"!==v||(m=!1,null!=(v=e(o,g=\"packetsSent\")))){(!v||v<0)&&(v=0);var y=e(p,g);(!y||y<0)&&(y=0);var b=v-y;(!b||b<0)&&(b=0);var _=e(o,\"packetsLost\");(!_||_<0)&&(_=0);var E=e(p,\"packetsLost\");(!E||E<0)&&(E=0);var w=_-E;(!w||w<0)&&(w=0),f.setSsrcLoss({packetsTotal:b+w,packetsLost:w,isDownloadStream:m});var T=0,S=0,C=e(o,\"bytesReceived\");C&&(T=C-e(p,\"bytesReceived\")),\"number\"!=typeof(C=e(o,\"bytesSent\"))&&\"string\"!=typeof C||(C=Number(C),isNaN(C)||(t[h]=C,C>0&&(S=C-e(p,\"bytesSent\"))));var A=Math.round((o.timestamp-p.timestamp)/1e3);T=T<=0||A<=0?0:Math.round(8*T/A/1e3),S=S<=0||A<=0?0:Math.round(8*S/A/1e3),T>10&&0===f.ssrc2AudioLevel&&this.eventEmitter.emit(s.AUDIO_NOT_WORKING,h),f.setSsrcBitrate({download:T,upload:S});var R={height:null,width:null};try{var k,D;(k=e(o,\"googFrameHeightReceived\"))&&(D=e(o,\"googFrameWidthReceived\"))?(R.height=k,R.width=D):(k=e(o,\"googFrameHeightSent\"))&&(D=e(o,\"googFrameWidthSent\"))&&(R.height=k,R.width=D)}catch(e){}f.setSsrcResolution(R.height&&R.width?R:null)}else l.warn(\"No packetsReceived nor packetsSent stat found\")}}else l.warn(h+\" not enough data\")}}else{var x,I,O,N;try{x=e(o,\"remoteAddress\"),I=e(o,\"transportType\"),O=e(o,\"localAddress\"),N=e(o,\"activeConnection\")}catch(e){}if(!x||!I||!O||\"true\"!=N)continue;var L=this.conferenceStats.transport;L.some((function(e){return e.ip==x&&e.type==I&&e.localip==O}))||L.push({ip:x,type:I,localip:O})}}var M={download:0,upload:0},P={download:0,upload:0},j=0,F=0,U={};Object.keys(this.ssrc2stats).forEach((function(e){var t=this.ssrc2stats[e],n=t.ssrc2Loss,i=n.isDownloadStream?\"download\":\"upload\";M[i]+=n.packetsTotal,P[i]+=n.packetsLost;var r=t.ssrc2bitrate;j+=r.download,F+=r.upload,t.resetSsrcBitrate(),U[e]=t.ssrc2resolution}),this),this.eventEmitter.emit(s.BYTE_SENT_STATS,t),this.conferenceStats.bitrate={upload:F,download:j},this.conferenceStats.packetLoss={total:i(P.download+P.upload,M.download+M.upload),download:i(P.download,M.download),upload:i(P.upload,M.upload)},this.eventEmitter.emit(s.CONNECTION_STATS,{bandwidth:this.conferenceStats.bandwidth,bitrate:this.conferenceStats.bitrate,packetLoss:this.conferenceStats.packetLoss,resolution:U,transport:this.conferenceStats.transport}),this.conferenceStats.transport=[]}},a.prototype.processAudioLevelReport=function(){if(this.baselineAudioLevelsReport){var e=this._getStatValue;for(var t in this.currentAudioLevelsReport){var n=this.currentAudioLevelsReport[t];if(\"ssrc\"==n.type){var i=this.baselineAudioLevelsReport[t],o=e(n,\"ssrc\");if(i)if(o){var a=this.ssrc2stats[o]||(this.ssrc2stats[o]=new r);try{var c=e(n,\"audioInputLevel\")||e(n,\"audioOutputLevel\")}catch(e){return l.warn(\"Audio Levels are not available in the statistics.\"),void clearInterval(this.audioLevelsIntervalId)}if(c){var u=!e(n,\"packetsReceived\");a.setSsrcAudioLevel(c/=32767),this.eventEmitter.emit(s.AUDIO_LEVEL,o,c,u)}}else Date.now()-n.timestamp<3e3&&l.warn(\"No ssrc: \");else l.warn(o+\" not enough data\")}}}}}).call(t,\"modules/statistics/RTPStatsCollector.js\")},function(e,t,n){\"use strict\";var i=n(115);e.exports={loadScript:function(e,t,n,r,o,a){var s=document,c=\"script\",l=s.createElement(c),u=s.getElementsByTagName(c)[0];if(l.async=t,r){var d=i();if(d){var p=d.src,h=p.substring(0,p.lastIndexOf(\"/\")+1);p&&h&&(e=h+e)}}o&&(l.onload=o),a&&(l.onerror=a),l.src=e,n?u.parentNode.insertBefore(l,u):u.parentNode.appendChild(l)}}},function(e,t,n){var i,r;this||window,void 0===(r=\"function\"==typeof(i=function(){function e(){if(0===r.length)return null;var n,u,d,p,h,f=[],m=e.skipStackDepth||1;for(n=0;n<r.length;n++)a&&o?t.test(r[n].readyState)&&f.push(r[n]):f.push(r[n]);if(u=new Error,c&&(d=u.stack),!d&&l)try{throw u}catch(t){d=t.stack}if(d&&!(h=function(e,t){var n,i=null;if(t=t||r,\"string\"==typeof e&&e)for(n=t.length;n--;)if(t[n].src===e){i=t[n];break}return i}(p=function e(t,n){var i,r=null,o=\"number\"==typeof n;return n=o?Math.round(n):0,\"string\"==typeof t&&t&&(o?i=t.match(/(data:text\\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\\/\\/[\\/]?.+?\\/[^:\\)]*?)(?::\\d+)(?::\\d+)?/):(i=t.match(/^(?:|[^:@]*@|.+\\)@(?=data:text\\/javascript|blob|http[s]?|file)|.+?\\s+(?: at |@)(?:[^:\\(]+ )*[\\(]?)(data:text\\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\\/\\/[\\/]?.+?\\/[^:\\)]*?)(?::\\d+)(?::\\d+)?/))&&i[1]||(i=t.match(/\\)@(data:text\\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\\/\\/[\\/]?.+?\\/[^:\\)]*?)(?::\\d+)(?::\\d+)?/)),i&&i[1]&&(r=n>0?e(t.slice(t.indexOf(i[0])+i[0].length),n-1):i[1])),r}(d,m),f))&&i&&p===i&&(h=function(e){var t,n,i=null;for(t=0,n=(e=e||r).length;t<n;t++)if(!e[t].hasAttribute(\"src\")){if(i){i=null;break}i=e[t]}return i}(f)),h||1===f.length&&(h=f[0]),h||s&&(h=document.currentScript),!h&&a&&o)for(n=f.length;n--;)if(\"interactive\"===f[n].readyState){h=f[n];break}return h||(h=f[f.length-1]||null),h}var t=/^(interactive|loaded|complete)$/,n=window.location?window.location.href:null,i=n&&n.replace(/#.*$/,\"\").replace(/\\?.*$/,\"\")||null,r=document.getElementsByTagName(\"script\"),o=\"readyState\"in(r[0]||document.createElement(\"script\")),a=!window.opera||\"[object Opera]\"!==window.opera.toString(),s=\"currentScript\"in document;\"stackTraceLimit\"in Error&&Error.stackTraceLimit!==1/0&&(Error,Error.stackTraceLimit=1/0);var c=!1,l=!1;!function(){try{var e=new Error;throw c=\"string\"==typeof e.stack&&!!e.stack,e}catch(e){l=\"string\"==typeof e.stack&&!!e.stack}}(),e.skipStackDepth=1;var u=e;return u.near=e,u.far=function(){return null},u.origin=function(){return null},u})?i.apply(t,[]):i)||(e.exports=r)},function(e,t){\"use strict\";e.exports={LOCAL_JID:\"local\"}},function(e,t,n){(function(t){\"use strict\";function i(e,t){e.ondatachannel=this.onDataChannel.bind(this),this.eventEmitter=t,this._dataChannels=[]}var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},o=n(9).getLogger(t),a=n(49),s=n(39);i.prototype.onDataChannel=function(e){var t=e.channel,n=this;t.onopen=function(){o.info(\"Data channel opened by the Videobridge!\",t),n.eventEmitter.emit(a.DATA_CHANNEL_OPEN)},t.onerror=function(e){o.error(\"Data Channel Error:\",e,t)},t.onmessage=function(e){var i,c=e.data;try{i=JSON.parse(c)}catch(e){s.callErrorHandler(e),o.error(\"Failed to parse data channel message as JSON: \",c,t,e)}if(null!=i){var l=i.colibriClass;if(\"DominantSpeakerEndpointChangeEvent\"===l){var u=i.dominantSpeakerEndpoint;o.info(\"Data channel new dominant speaker event: \",u),n.eventEmitter.emit(a.DOMINANTSPEAKER_CHANGED,u)}else if(\"InLastNChangeEvent\"===l){var d,p=i.oldValue,h=i.newValue;\"boolean\"!==(d=void 0===p?\"undefined\":r(p))&&(p=\"string\"===d?\"true\"==p:new Boolean(p).valueOf()),\"boolean\"!==(d=void 0===h?\"undefined\":r(h))&&(h=\"string\"===d?\"true\"==h:new Boolean(h).valueOf()),n.eventEmitter.emit(a.LASTN_CHANGED,p,h)}else if(\"LastNEndpointsChangeEvent\"===l){var f=i.lastNEndpoints,m=i.endpointsEnteringLastN;o.info(\"Data channel new last-n event: \",f,m,i),n.eventEmitter.emit(a.LASTN_ENDPOINT_CHANGED,f,m,i)}else if(\"EndpointMessage\"===l)n.eventEmitter.emit(a.ENDPOINT_MESSAGE_RECEIVED,i.from,i.msgPayload);else if(\"EndpointConnectivityStatusChangeEvent\"===l){var g=i.endpoint,v=\"true\"===i.active;o.info(\"Endpoint connection status changed: \"+g+\" active ? \"+v),n.eventEmitter.emit(a.ENDPOINT_CONN_STATUS_CHANGED,g,v)}else o.debug(\"Data channel JSON-formatted message: \",i),n.eventEmitter.emit(\"rtc.datachannel.\"+l,i)}},t.onclose=function(){o.info(\"The Data Channel closed\",t);var e=n._dataChannels.indexOf(t);e>-1&&(n._dataChannels=n._dataChannels.splice(e,1))},this._dataChannels.push(t)},i.prototype.closeAllChannels=function(){this._dataChannels.forEach((function(e){e.close()}))},i.prototype.sendSelectedEndpointMessage=function(e){this._onXXXEndpointChanged(\"selected\",e)},i.prototype.sendPinnedEndpointMessage=function(e){this._onXXXEndpointChanged(\"pinned\",e)},i.prototype._onXXXEndpointChanged=function(e,t){var n=e.charAt(0),i=e.substring(1),r=n.toLowerCase()+i,a=n.toUpperCase()+i;o.log(\"sending \"+r+\" endpoint changed notification to the bridge: \",t);var s={};s.colibriClass=a+\"EndpointChangedEvent\",s[r+\"Endpoint\"]=t||null,this.send(s),o.log(r+\" endpoint changed: \",t)},i.prototype._some=function(e,t){var n=this._dataChannels;return!(!n||0===n.length)&&(t?n.some(e,t):n.some(e))},i.prototype.send=function(e){if(!this._some((function(t){if(\"open\"==t.readyState)return t.send(JSON.stringify(e)),!0})))throw new Error(\"No opened data channels found!\")},i.prototype.sendDataChannelMessage=function(e,t){this.send({colibriClass:\"EndpointMessage\",to:e,msgPayload:t})},e.exports=i}).call(t,\"modules/RTC/DataChannels.js\")},function(e,t,n){(function(t){\"use strict\";function i(e,t,n,i,r,a,s,c,l){o.call(this,t,i,r,(function(){}),a,s,c),this.rtc=e,this.peerjid=n,this.muted=l,this.hasBeenMuted=l,this.rtc&&this.track&&this._bindMuteHandlers()}var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(8)),o=n(58),a=n(9).getLogger(t),s=n(32),c=n(49),l=n(59),u=!1,d=!1;(i.prototype=Object.create(o.prototype)).constructor=i,i.prototype._bindMuteHandlers=function(){this.track.addEventListener(\"mute\",(function(){a.debug('\"onmute\" event('+Date.now()+\"): \",this.getParticipantId(),this.getType(),this.getSSRC()),this.rtc.eventEmitter.emit(c.REMOTE_TRACK_MUTE,this)}).bind(this)),this.track.addEventListener(\"unmute\",(function(){a.debug('\"onunmute\" event('+Date.now()+\"): \",this.getParticipantId(),this.getType(),this.getSSRC()),this.rtc.eventEmitter.emit(c.REMOTE_TRACK_UNMUTE,this)}).bind(this))},i.prototype.setMute=function(e){this.muted!==e&&(e&&(this.hasBeenMuted=!0),this.stream&&(this.stream.muted=e),this.muted=e,this.eventEmitter.emit(r.TRACK_MUTE_CHANGED,this))},i.prototype.isMuted=function(){return this.muted},i.prototype.getParticipantId=function(){return Strophe.getResourceFromJid(this.peerjid)},i.prototype.isLocal=function(){return!1},i.prototype.getSSRC=function(){return this.ssrc},i.prototype._setVideoType=function(e){this.videoType!==e&&(this.videoType=e,this.eventEmitter.emit(r.TRACK_VIDEOTYPE_CHANGED,e))},i.prototype._playCallback=function(){var e=this.isVideoTrack()?\"video\":\"audio\",t=window.performance.now();console.log(\"(TIME) Render \"+e+\":\\t\",t),this.conference.getConnectionTimes()[e+\".render\"]=t;var n=t-(this.conference.getConnectionTimes()[\"session.initiate\"]-this.conference.getConnectionTimes()[\"muc.joined\"])-(window.connectionTimes[\"obtainPermissions.end\"]-window.connectionTimes[\"obtainPermissions.start\"]);this.conference.getConnectionTimes()[e+\".ttfm\"]=n,console.log(\"(TIME) TTFM \"+e+\":\\t\",n);var i=e+\".ttfm\";this.hasBeenMuted&&(i+=\".muted\"),l.analytics.sendEvent(i,{value:n})},i.prototype._attachTTFMTracker=function(e){u&&this.isAudioTrack()||d&&this.isVideoTrack()||(this.isAudioTrack()&&(u=!0),this.isVideoTrack()&&(d=!0),s.isTemasysPluginUsed()?n(54).addEvent(e,\"play\",this._playCallback.bind(this)):e.addEventListener(\"canplay\",this._playCallback.bind(this)))},e.exports=i}).call(t,\"modules/RTC/JitsiRemoteTrack.js\")},function(e,t,n){var i=n(120),r=n(122);t.write=r,t.parse=i.parse,t.parseFmtpConfig=i.parseFmtpConfig,t.parsePayloads=i.parsePayloads,t.parseRemoteCandidates=i.parseRemoteCandidates},function(e,t,n){var i=function(e){return String(Number(e))===e?Number(e):e},r=function(e,t,n,r){if(r&&!n)t[r]=i(e[1]);else for(var o=0;o<n.length;o+=1)null!=e[o+1]&&(t[n[o]]=i(e[o+1]))},o=function(e,t,n){var i=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:i&&!t[e.name]&&(t[e.name]={});var o=e.push?{}:i?t[e.name]:t;r(n.match(e.reg),o,e.names,e.name),e.push&&t[e.push].push(o)},a=n(121),s=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},n=[],i=t;return e.split(/(\\r\\n|\\r|\\n)/).filter(s).forEach((function(e){var t=e[0],r=e.slice(2);\"m\"===t&&(n.push({rtp:[],fmtp:[]}),i=n[n.length-1]);for(var s=0;s<(a[t]||[]).length;s+=1){var c=a[t][s];if(c.reg.test(r))return o(c,i,r)}})),t.media=n,t};var c=function(e,t){var n=t.split(\"=\");return 2===n.length&&(e[n[0]]=i(n[1])),e};t.parseFmtpConfig=function(e){return e.split(/\\;\\s?/).reduce(c,{})},t.parsePayloads=function(e){return e.split(\" \").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],n=e.split(\" \").map(i),r=0;r<n.length;r+=3)t.push({component:n[r],ip:n[r+1],port:n[r+2]});return t}},function(e,t){var n=e.exports={v:[{name:\"version\",reg:/^(\\d*)$/}],o:[{name:\"origin\",reg:/^(\\S*) (\\d*) (\\d*) (\\S*) IP(\\d) (\\S*)/,names:[\"username\",\"sessionId\",\"sessionVersion\",\"netType\",\"ipVer\",\"address\"],format:\"%s %s %d %s IP%d %s\"}],s:[{name:\"name\"}],i:[{name:\"description\"}],u:[{name:\"uri\"}],e:[{name:\"email\"}],p:[{name:\"phone\"}],z:[{name:\"timezones\"}],r:[{name:\"repeats\"}],t:[{name:\"timing\",reg:/^(\\d*) (\\d*)/,names:[\"start\",\"stop\"],format:\"%d %d\"}],c:[{name:\"connection\",reg:/^IN IP(\\d) (\\S*)/,names:[\"version\",\"ip\"],format:\"IN IP%d %s\"}],b:[{push:\"bandwidth\",reg:/^(TIAS|AS|CT|RR|RS):(\\d*)/,names:[\"type\",\"limit\"],format:\"%s:%s\"}],m:[{reg:/^(\\w*) (\\d*) ([\\w\\/]*)(?: (.*))?/,names:[\"type\",\"port\",\"protocol\",\"payloads\"],format:\"%s %d %s %s\"}],a:[{push:\"rtp\",reg:/^rtpmap:(\\d*) ([\\w\\-]*)(?:\\s*\\/(\\d*)(?:\\s*\\/(\\S*))?)?/,names:[\"payload\",\"codec\",\"rate\",\"encoding\"],format:function(e){return e.encoding?\"rtpmap:%d %s/%s/%s\":e.rate?\"rtpmap:%d %s/%s\":\"rtpmap:%d %s\"}},{push:\"fmtp\",reg:/^fmtp:(\\d*) ([\\S| ]*)/,names:[\"payload\",\"config\"],format:\"fmtp:%d %s\"},{name:\"control\",reg:/^control:(.*)/,format:\"control:%s\"},{name:\"rtcp\",reg:/^rtcp:(\\d*)(?: (\\S*) IP(\\d) (\\S*))?/,names:[\"port\",\"netType\",\"ipVer\",\"address\"],format:function(e){return null!=e.address?\"rtcp:%d %s IP%d %s\":\"rtcp:%d\"}},{push:\"rtcpFbTrrInt\",reg:/^rtcp-fb:(\\*|\\d*) trr-int (\\d*)/,names:[\"payload\",\"value\"],format:\"rtcp-fb:%d trr-int %d\"},{push:\"rtcpFb\",reg:/^rtcp-fb:(\\*|\\d*) ([\\w-_]*)(?: ([\\w-_]*))?/,names:[\"payload\",\"type\",\"subtype\"],format:function(e){return null!=e.subtype?\"rtcp-fb:%s %s %s\":\"rtcp-fb:%s %s\"}},{push:\"ext\",reg:/^extmap:([\\w_\\/]*) (\\S*)(?: (\\S*))?/,names:[\"value\",\"uri\",\"config\"],format:function(e){return null!=e.config?\"extmap:%s %s %s\":\"extmap:%s %s\"}},{push:\"crypto\",reg:/^crypto:(\\d*) ([\\w_]*) (\\S*)(?: (\\S*))?/,names:[\"id\",\"suite\",\"config\",\"sessionConfig\"],format:function(e){return null!=e.sessionConfig?\"crypto:%d %s %s %s\":\"crypto:%d %s %s\"}},{name:\"setup\",reg:/^setup:(\\w*)/,format:\"setup:%s\"},{name:\"mid\",reg:/^mid:([^\\s]*)/,format:\"mid:%s\"},{name:\"msid\",reg:/^msid:(.*)/,format:\"msid:%s\"},{name:\"ptime\",reg:/^ptime:(\\d*)/,format:\"ptime:%d\"},{name:\"maxptime\",reg:/^maxptime:(\\d*)/,format:\"maxptime:%d\"},{name:\"direction\",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:\"icelite\",reg:/^(ice-lite)/},{name:\"iceUfrag\",reg:/^ice-ufrag:(\\S*)/,format:\"ice-ufrag:%s\"},{name:\"icePwd\",reg:/^ice-pwd:(\\S*)/,format:\"ice-pwd:%s\"},{name:\"fingerprint\",reg:/^fingerprint:(\\S*) (\\S*)/,names:[\"type\",\"hash\"],format:\"fingerprint:%s %s\"},{push:\"candidates\",reg:/^candidate:(\\S*) (\\d*) (\\S*) (\\d*) (\\S*) (\\d*) typ (\\S*)(?: raddr (\\S*) rport (\\d*))?(?: tcptype (\\S*))?(?: generation (\\d*))?/,names:[\"foundation\",\"component\",\"transport\",\"priority\",\"ip\",\"port\",\"type\",\"raddr\",\"rport\",\"tcptype\",\"generation\"],format:function(e){var t=\"candidate:%s %d %s %d %s %d typ %s\";return t+=null!=e.raddr?\" raddr %s rport %d\":\"%v%v\",t+=null!=e.tcptype?\" tcptype %s\":\"%v\",null!=e.generation&&(t+=\" generation %d\"),t}},{name:\"endOfCandidates\",reg:/^(end-of-candidates)/},{name:\"remoteCandidates\",reg:/^remote-candidates:(.*)/,format:\"remote-candidates:%s\"},{name:\"iceOptions\",reg:/^ice-options:(\\S*)/,format:\"ice-options:%s\"},{push:\"ssrcs\",reg:/^ssrc:(\\d*) ([\\w_]*):(.*)/,names:[\"id\",\"attribute\",\"value\"],format:\"ssrc:%d %s:%s\"},{push:\"ssrcGroups\",reg:/^ssrc-group:(\\w*) (.*)/,names:[\"semantics\",\"ssrcs\"],format:\"ssrc-group:%s %s\"},{name:\"msidSemantic\",reg:/^msid-semantic:\\s?(\\w*) (\\S*)/,names:[\"semantic\",\"token\"],format:\"msid-semantic: %s %s\"},{push:\"groups\",reg:/^group:(\\w*) (.*)/,names:[\"type\",\"mids\"],format:\"group:%s %s\"},{name:\"rtcpMux\",reg:/^(rtcp-mux)/},{name:\"rtcpRsize\",reg:/^(rtcp-rsize)/},{push:\"invalid\",names:[\"value\"]}]};Object.keys(n).forEach((function(e){n[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format=\"%s\")}))}))},function(e,t,n){var i=n(121),r=/%[sdv%]/g,o=function(e){var t=1,n=arguments,i=n.length;return e.replace(r,(function(e){if(t>=i)return e;var r=n[t];switch(t+=1,e){case\"%%\":return\"%\";case\"%s\":return String(r);case\"%d\":return Number(r);case\"%v\":return\"\"}}))},a=function(e,t,n){var i=[e+\"=\"+(t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format)];if(t.names)for(var r=0;r<t.names.length;r+=1)i.push(t.name?n[t.name][t.names[r]]:n[t.names[r]]);else i.push(n[t.name]);return o.apply(null,i)},s=[\"v\",\"o\",\"s\",\"i\",\"u\",\"e\",\"p\",\"c\",\"b\",\"t\",\"r\",\"z\",\"a\"],c=[\"i\",\"c\",\"b\",\"a\"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=\" \"),e.media.forEach((function(e){null==e.payloads&&(e.payloads=\"\")}));var n=t.innerOrder||c,r=[];return(t.outerOrder||s).forEach((function(t){i[t].forEach((function(n){n.name in e&&null!=e[n.name]?r.push(a(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){r.push(a(t,n,e))}))}))})),e.media.forEach((function(e){r.push(a(\"m\",i.m[0],e)),n.forEach((function(t){i[t].forEach((function(n){n.name in e&&null!=e[n.name]?r.push(a(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){r.push(a(t,n,e))}))}))}))})),r.join(\"\\r\\n\")+\"\\r\\n\"}},function(e,t,n){t.Interop=n(124)},function(e,t,n){\"use strict\";function i(){this.cache={}}var r=n(125),o=n(126);e.exports=i,i.prototype.getFirstSendingIndexFromAnswer=function(e){if(!this.cache.answer)return null;var t=r.parse(this.cache.answer);if(t&&t.media&&Array.isArray(t.media))for(var n=0;n<t.media.length;n++)if(t.media[n].type==e&&(!t.media[n].direction||\"sendrecv\"===t.media[n].direction||\"sendonly\"===t.media[n].direction))return n;return null},i.prototype.toPlanB=function(e){var t=this;if(\"object\"!=typeof e||null===e||\"string\"!=typeof e.sdp)return console.warn(\"An empty description was passed as an argument.\"),e;var n=r.parse(e.sdp);if(void 0===n.media||!Array.isArray(n.media)||0===n.media.length)return console.warn(\"The description has no media.\"),e;if(n.media.length<=3&&n.media.every((function(e){return-1!==[\"video\",\"audio\",\"data\"].indexOf(e.mid)})))return console.warn(\"This description does not look like Unified Plan.\"),e;for(var i=e.sdp,o=!1,a=0;a<n.media.length;a++)n.media[a].rtp.forEach((function(e){if(\"NULL\"===e.codec){o=!0;var n=r.parse(t.cache.offer);e.codec=n.media[a].rtp[0].codec}}));o&&(i=r.write(n)),this.cache[e.type]=i;var s=n.media;n.media=[];var c={},l=[];s.forEach((function(e){if((\"string\"!=typeof e.rtcpMux||\"rtcp-mux\"!==e.rtcpMux)&&\"inactive\"!==e.direction)throw new Error(\"Cannot convert to Plan B because m-lines without the rtcp-mux attribute were found.\");return\"application\"===e.type?(n.media.push(e),void l.push(e.mid)):(void 0===c[e.type]&&(c[e.type]=e),\"object\"==typeof e.sources&&Object.keys(e.sources).forEach((function(t){\"object\"!=typeof c[e.type].sources&&(c[e.type].sources={}),c[e.type].sources[t]=e.sources[t],void 0!==e.msid&&(c[e.type].sources[t].msid=e.msid)})),void 0!==e.ssrcGroups&&Array.isArray(e.ssrcGroups)&&(void 0!==c[e.type].ssrcGroups&&Array.isArray(c[e.type].ssrcGroups)||(c[e.type].ssrcGroups=[]),c[e.type].ssrcGroups=c[e.type].ssrcGroups.concat(e.ssrcGroups)),void(c[e.type]===e&&(e.candidates=s[0].candidates,e.iceUfrag=s[0].iceUfrag,e.icePwd=s[0].icePwd,e.fingerprint=s[0].fingerprint,e.mid=e.type,delete e.bundleOnly,delete e.msid,l.push(e.type),n.media.push(e))))})),n.groups.some((function(e){if(\"BUNDLE\"===e.type)return e.mids=l.join(\" \"),!0})),n.msidSemantic={semantic:\"WMS\",token:\"*\"};var u=r.write(n);return new RTCSessionDescription({type:e.type,sdp:u})},i.prototype.toUnifiedPlan=function(e){var t=this;if(\"object\"!=typeof e||null===e||\"string\"!=typeof e.sdp)return console.warn(\"An empty description was passed as an argument.\"),e;var n=r.parse(e.sdp);if(void 0===n.media||!Array.isArray(n.media)||0===n.media.length)return console.warn(\"The description has no media.\"),e;if(n.media.length>3||!n.media.every((function(e){return-1!==[\"video\",\"audio\",\"data\"].indexOf(e.mid)})))return console.warn(\"This description does not look like Plan B.\"),e;var i=[];n.media.forEach((function(e){i.push(e.mid)}));var a,s=!1;if(void 0!==n.groups&&Array.isArray(n.groups)&&(s=n.groups.every((function(e){return\"BUNDLE\"!==e.type||o.apply(e.mids.sort(),[i.sort()])}))),!s)throw new Error(\"Cannot convert to Unified Plan because m-lines that are not bundled were found.\");void 0!==this.cache[e.type]&&(a=r.parse(this.cache[e.type]));var c={audio:{},video:{}},l={};if(n.media.forEach((function(t){if((\"string\"!=typeof t.rtcpMux||\"rtcp-mux\"!==t.rtcpMux)&&\"inactive\"!==t.direction)throw new Error(\"Cannot convert to Unified Plan because m-lines without the rtcp-mux attribute were found.\");if(\"application\"!==t.type){var n=t.sources,i=t.ssrcGroups,r=t.candidates,o=t.iceUfrag,s=t.icePwd,u=t.fingerprint,d=t.port;delete t.sources,delete t.ssrcGroups,delete t.candidates,delete t.iceUfrag,delete t.icePwd,delete t.fingerprint,delete t.port,delete t.mid;var p={};void 0!==i&&Array.isArray(i)&&i.forEach((function(e){\"SIM\"!==e.semantics&&void 0!==e.ssrcs&&Array.isArray(e.ssrcs)&&e.ssrcs.forEach((function(t){void 0===p[t]&&(p[t]=[]),p[t].push(e)}))}));var h={};\"object\"==typeof n&&Object.keys(n).forEach((function(i){var f;if(\"offer\"!==e.type||n[i].msid)if(void 0!==p[i]&&Array.isArray(p[i])&&p[i].some((function(e){return e.ssrcs.some((function(e){if(\"object\"==typeof h[e])return f=h[e],!0}))})),\"object\"==typeof f)f.sources[i]=n[i],delete n[i].msid;else{if(f=Object.create(t),h[i]=f,void 0!==n[i].msid&&(f.msid=n[i].msid,f.direction=\"sendrecv\",delete n[i].msid),f.sources={},f.sources[i]=n[i],f.ssrcGroups=p[i],void 0!==a&&void 0!==a.media&&Array.isArray(a.media)&&a.media.forEach((function(e){\"object\"==typeof e.sources&&Object.keys(e.sources).forEach((function(t){t===i&&(f.mid=e.mid)}))})),void 0===f.mid){if(\"answer\"===e.type)throw new Error(\"An unmapped SSRC was found.\");f.mid=[t.type,\"-\",i].join(\"\")}f.candidates=r,f.iceUfrag=o,f.icePwd=s,f.fingerprint=u,f.port=d,l[f.mid]=f}else c[t.type][i]=n[i]}))}else l[t.mid]=t})),n.media=[],i=[],\"answer\"===e.type)for(var u=0;u<a.media.length;u++){var d=a.media[u];void 0===l[d.mid]&&(delete d.msid,delete d.sources,delete d.ssrcGroups,d.direction&&\"sendrecv\"!==d.direction?\"sendonly\"===d.direction&&(d.direction=\"inactive\"):d.direction=\"recvonly\"),n.media.push(d),\"string\"==typeof d.mid&&i.push(d.mid)}else void 0!==a&&void 0!==a.media&&Array.isArray(a.media)&&a.media.forEach((function(e){i.push(e.mid),void 0!==l[e.mid]?n.media.push(l[e.mid]):(delete e.msid,delete e.sources,delete e.ssrcGroups,e.direction&&\"sendrecv\"!==e.direction||(e.direction=\"recvonly\"),e.direction&&\"sendonly\"!==e.direction||(e.direction=\"inactive\"),n.media.push(e))})),Object.keys(l).forEach((function(e){-1===i.indexOf(e)&&(i.push(e),\"recvonly\"===l[e].direction?n.media.some((function(t){if((\"sendrecv\"===t.direction||\"sendonly\"===t.direction)&&t.type===l[e].type)return Object.keys(l[e].sources).forEach((function(n){t.sources[n]=l[e].sources[n]})),!0})):n.media.push(l[e]))}));[\"audio\",\"video\"].forEach((function(e){if(n&&n.media&&Array.isArray(n.media)){var i=null;if(Object.keys(c[e]).length>0&&null===(i=t.getFirstSendingIndexFromAnswer(e)))for(var r=0;r<n.media.length;r++)if(n.media[r].type===e){i=r;break}if(i&&n.media.length>i){var o=n.media[i];Object.keys(c[e]).forEach((function(t){o.sources&&o.sources[t]&&console.warn(\"Replacing an existing SSRC.\"),o.sources||(o.sources={}),o.sources[t]=c[e][t]}))}}})),n.groups.some((function(e){if(\"BUNDLE\"===e.type)return e.mids=i.join(\" \"),!0})),n.msidSemantic={semantic:\"WMS\",token:\"*\"};var p=r.write(n);return this.cache[e.type]=p,new RTCSessionDescription({type:e.type,sdp:p})}},function(e,t,n){var i=n(119);t.write=function(e,t){return void 0!==e&&void 0!==e.media&&Array.isArray(e.media)&&e.media.forEach((function(e){void 0!==e.sources&&0!==Object.keys(e.sources).length&&(e.ssrcs=[],Object.keys(e.sources).forEach((function(t){var n=e.sources[t];Object.keys(n).forEach((function(i){e.ssrcs.push({id:t,attribute:i,value:n[i]})}))})),delete e.sources),void 0!==e.ssrcGroups&&Array.isArray(e.ssrcGroups)&&e.ssrcGroups.forEach((function(e){void 0!==e.ssrcs&&Array.isArray(e.ssrcs)&&(e.ssrcs=e.ssrcs.join(\" \"))}))})),void 0!==e&&void 0!==e.groups&&Array.isArray(e.groups)&&e.groups.forEach((function(e){void 0!==e.mids&&Array.isArray(e.mids)&&(e.mids=e.mids.join(\" \"))})),i.write(e,t)},t.parse=function(e){var t=i.parse(e);return void 0!==t&&void 0!==t.media&&Array.isArray(t.media)&&t.media.forEach((function(e){void 0!==e.ssrcs&&Array.isArray(e.ssrcs)&&(e.sources={},e.ssrcs.forEach((function(t){e.sources[t.id]||(e.sources[t.id]={}),e.sources[t.id][t.attribute]=t.value})),delete e.ssrcs),void 0!==e.ssrcGroups&&Array.isArray(e.ssrcGroups)&&e.ssrcGroups.forEach((function(e){\"string\"==typeof e.ssrcs&&(e.ssrcs=e.ssrcs.split(\" \"))}))})),void 0!==t&&void 0!==t.groups&&Array.isArray(t.groups)&&t.groups.forEach((function(e){\"string\"==typeof e.mids&&(e.mids=e.mids.split(\" \"))})),t}},function(e,t){e.exports=function e(t){if(!t)return!1;if(this.length!=t.length)return!1;for(var n=0,i=this.length;n<i;n++)if(this[n]instanceof Array&&t[n]instanceof Array){if(!e.apply(this[n],[t[n]]))return!1}else if(this[n]!=t[n])return!1;return!0}},function(e,t,n){function i(e){this.options=e||{},this.options.numOfLayers||(this.options.numOfLayers=d),this.layers=[]}function r(){return Math.floor(4294967295*Math.random())+0}function o(e,t){null!=e&&Array.isArray(e.media)&&e.media.forEach((function(e){\"video\"===e.type&&t(e)}))}function a(e){return e&&null!=e&&e.type&&\"\"!=e.type&&e.sdp&&\"\"!=e.sdp}var s=n(119),c=n(128),l=c.parseSsrcs,u=c.writeSsrcs,d=3;i.prototype._maybeInitializeLayers=function(e){if(e&&\"video\"===e.type){var t,n=l(e);if(0===Object.keys(n).length)return void(0!==this.layers.length&&(this.layers=[]));var i=n[t=this.layers.length>0&&n[this.layers[0].ssrc]?this.layers[0].ssrc:parseInt(Object.keys(n)[0])];if(this.layers.length>0&&(i.cname!==this.layers[0].cname||t!==this.layers[0].ssrc)&&(this.layers=[]),this.layers.length<1){this.layers.push({ssrc:t,msid:i.msid,cname:i.cname});var o=!1;Array.isArray(e.rtp)&&(o=e.rtp.some((function(e){return\"rtx\"===e.codec}))),o&&(this.layers[0].rtx=r());for(var a=1;a<Math.max(1,this.options.numOfLayers);a++){var s={ssrc:r()};o&&(s.rtx=r()),this.layers.push(s)}}}},i.prototype._restoreSimulcastView=function(e){if(e&&\"video\"===e.type&&0!==this.layers.length){for(var t={},n=this.layers[0].msid,i=this.layers[0].cname,r=[],o=[],a=0;a<this.layers.length;a++){var s=this.layers[a];t[s.ssrc]={msid:n,cname:i},r.push(s.ssrc),s.rtx&&(t[s.rtx]={msid:n,cname:i},o.push({semantics:\"FID\",ssrcs:[s.ssrc,s.rtx].join(\" \")}))}o.push({semantics:\"SIM\",ssrcs:r.join(\" \")}),e.ssrcGroups=o,e.ssrcs=u(t,r)}},i.prototype.isSupported=function(){return window.chrome},i.prototype.mungeRemoteDescription=function(e){if(!a(e))return e;var t=s.parse(e.sdp),n=this;return o(t,(function(e){n.options.explodeRemoteSimulcast?function(e){if(e&&Array.isArray(e.ssrcGroups))for(var t=l(e),n=[],i=e.ssrcGroups.length;i--;)if(\"SIM\"===e.ssrcGroups[i].semantics){for(var r=e.ssrcGroups[i].ssrcs.split(\" \"),o=0;o<r.length;o++){var a=r[o];n.push(a);var s=t[a].msid.split(\" \");t[a].msid=[s[0],\"/\",o,\" \",s[1],\"/\",o].join(\"\"),t[a].cname=[t[a].cname,\"/\",o].join(\"\"),e.ssrcGroups.forEach((function(e){if(\"SIM\"!==e.semantics){var i=e.ssrcs.split(\" \");-1!==i.indexOf(a)&&i.forEach((function(e){t[e].msid=t[a].msid,t[e].cname=t[a].cname,e!==a&&n.push(e)}))}}))}e.ssrcs=u(t,n),e.ssrcGroups.splice(i,1)}}(e):function(e){if(e&&Array.isArray(e.ssrcGroups)){var t=l(e);e.ssrcGroups.forEach((function(n){if(\"SIM\"===n.semantics){console.info(\"Imploding SIM group: \"+n.ssrcs),n.nuke=!0;for(var i=n.ssrcs.split(\" \"),r=1;r<i.length;r++){var o=i[r];delete t[o],e.ssrcGroups.forEach((function(e){if(\"SIM\"!==e.semantics){var n=e.ssrcs.split(\" \");-1!==n.indexOf(o)&&(n.forEach((function(e){delete t[e]})),e.nuke=!0)}}))}}})),e.ssrcs=u(t);for(var n=e.ssrcGroups.length;n--;)e.ssrcGroups[n].nuke&&e.ssrcGroups.splice(n,1)}else console.info(\"Halt: There are no SSRC groups in the remote description.\")}(e),n.layers.length<1?function(e){if(e&&Array.isArray(e.invalid))for(var t=e.invalid.length;t--;)\"x-google-flag:conference\"==e.invalid[t].value&&e.invalid.splice(t,1)}(e):function(e){e&&(Array.isArray(e.invalid)||(e.invalid=[]),e.invalid.some((function(e){return\"x-google-flag:conference\"===e.value}))||e.invalid.push({value:\"x-google-flag:conference\"}))}(e)})),new RTCSessionDescription({type:e.type,sdp:s.write(t)})},i.prototype.mungeLocalDescription=function(e){if(!a(e)||!this.isSupported())return e;var t=s.parse(e.sdp),n=this;return o(t,(function(e){\"recvonly\"!=e.direction&&\"inactive\"!=e.direction&&(n._maybeInitializeLayers(e),n._restoreSimulcastView(e))})),new RTCSessionDescription({type:e.type,sdp:s.write(t)})},e.exports=i},function(e,t){t.writeSsrcs=function(e,t){var n=[];if(void 0!==e&&0!==Object.keys(e).length){Array.isArray(t)||(t=[]);for(var i=0;i<t.length;i++){var r=t[i],o=e[r];Object.keys(o).forEach((function(e){n.push({id:r,attribute:e,value:o[e]})}))}Object.keys(e).forEach((function(i){if(i=parseInt(i),!(t.indexOf(i)>=0)){var r=e[i];Object.keys(r).forEach((function(e){n.push({id:i,attribute:e,value:r[e]})}))}}))}return n},t.parseSsrcs=function(e){var t={};return void 0!==e.ssrcs&&Array.isArray(e.ssrcs)&&e.ssrcs.forEach((function(e){t[e.id]||(t[e.id]={}),t[e.id][e.attribute]=e.value})),t}},function(e,t,n){\"use strict\";function i(e,t){this.mySDP=e,this.otherSDP=t}var r=n(52);i.prototype.getNewMedia=function(){function e(e){if(!e)return!1;if(this.length!=e.length)return!1;for(var t=0,n=this.length;t<n;t++)if(this[t]instanceof Array&&e[t]instanceof Array){if(!this[t].equals(e[t]))return!1}else if(this[t]!=e[t])return!1;return!0}var t=this.mySDP.getMediaSsrcMap(),n=this.otherSDP.getMediaSsrcMap(),i={};return Object.keys(n).forEach((function(r){var o=t[r],a=n[r];return!o&&a?void(i[r]=a):(Object.keys(a.ssrcs).forEach((function(e){-1===Object.keys(o.ssrcs).indexOf(e)&&(i[r]||(i[r]={mediaindex:a.mediaindex,mid:a.mid,ssrcs:{},ssrcGroups:[]}),i[r].ssrcs[e]=a.ssrcs[e])})),void a.ssrcGroups.forEach((function(t){for(var n=!1,s=0;s<o.ssrcGroups.length;s++){var c=o.ssrcGroups[s];if(t.semantics==c.semantics&&e.apply(t.ssrcs,[c.ssrcs])){n=!0;break}}n||(i[r]||(i[r]={mediaindex:a.mediaindex,mid:a.mid,ssrcs:{},ssrcGroups:[]}),i[r].ssrcGroups.push(t))})))})),i},i.prototype.toJingle=function(e){var t=this.getNewMedia(),n=!1;return Object.keys(t).forEach((function(i){n=!0;var o=t[i];e.c(\"content\",{name:o.mid}),e.c(\"description\",{xmlns:\"urn:xmpp:jingle:apps:rtp:1\",media:o.mid}),Object.keys(o.ssrcs).forEach((function(t){var n=o.ssrcs[t];e.c(\"source\",{xmlns:\"urn:xmpp:jingle:apps:rtp:ssma:0\"}),e.attrs({ssrc:n.ssrc}),n.lines.forEach((function(t){var n=t.indexOf(\" \"),i=t.substr(n+1);if(e.c(\"parameter\"),-1==i.indexOf(\":\"))e.attrs({name:i});else{var o=i.split(\":\",2),a=o[0],s=r.filter_special_chars(o[1]);e.attrs({name:a}),e.attrs({value:s})}e.up()})),e.up()})),o.ssrcGroups.forEach((function(t){t.ssrcs.length&&(e.c(\"ssrc-group\",{semantics:t.semantics,xmlns:\"urn:xmpp:jingle:apps:rtp:ssma:0\"}),t.ssrcs.forEach((function(t){e.c(\"source\",{ssrc:t}).up()})),e.up())})),e.up(),e.up()})),n},e.exports=i},function(e,t,n){\"use strict\";function i(e){for(var t=e.split(\"\\r\\nm=\"),n=1,i=t.length;n<i;n++){var r=\"m=\"+t[n];n!=i-1&&(r+=\"\\r\\n\"),t[n]=r}var o=t.shift()+\"\\r\\n\";this.media=t,this.raw=o+t.join(\"\"),this.session=o}var r=n(52);i.prototype.failICE=!1,i.prototype.removeTcpCandidates=!1,i.prototype.removeUdpCandidates=!1,i.prototype.getMediaSsrcMap=function(){for(var e,t=this,n={},i=0;i<t.media.length;i++){e=r.find_lines(t.media[i],\"a=ssrc:\");var o={mediaindex:i,mid:r.parse_mid(r.find_line(t.media[i],\"a=mid:\")),ssrcs:{},ssrcGroups:[]};n[i]=o,e.forEach((function(e){var t=e.substring(7).split(\" \")[0];o.ssrcs[t]||(o.ssrcs[t]={ssrc:t,lines:[]}),o.ssrcs[t].lines.push(e)})),(e=r.find_lines(t.media[i],\"a=ssrc-group:\")).forEach((function(e){var t=e.indexOf(\" \"),n=e.substr(0,t).substr(13),i=e.substr(14+n.length).split(\" \");i.length&&o.ssrcGroups.push({semantics:n,ssrcs:i})}))}return n},i.prototype.containsSSRC=function(e){var t=this.getMediaSsrcMap(),n=!1;return Object.keys(t).forEach((function(i){n||t[i].ssrcs[e]&&(n=!0)})),n},i.prototype.mangle=function(){var e,t,n,i,o,a;for(e=0;e<this.media.length;e++)if((i=this.media[e].split(\"\\r\\n\")).pop(),\"audio\"==(n=r.parse_mline(i.shift())).media){for(a=\"\",n.fmt.length=0,t=0;t<i.length;t++){if(\"a=rtpmap:\"==i[t].substr(0,9)){if(\"CN\"==(o=r.parse_rtpmap(i[t])).name||\"ISAC\"==o.name)continue;n.fmt.push(o.id)}a+=i[t]+\"\\r\\n\"}this.media[e]=r.build_mline(n)+\"\\r\\n\"+a}this.raw=this.session+this.media.join(\"\")},i.prototype.removeSessionLines=function(e){var t=this,n=r.find_lines(this.session,e);return n.forEach((function(e){t.session=t.session.replace(e+\"\\r\\n\",\"\")})),this.raw=this.session+this.media.join(\"\"),n},i.prototype.removeMediaLines=function(e,t){var n=this,i=r.find_lines(this.media[e],t);return i.forEach((function(t){n.media[e]=n.media[e].replace(t+\"\\r\\n\",\"\")})),this.raw=this.session+this.media.join(\"\"),i},i.prototype.toJingle=function(e,t){var n,i,o,a,s,c,l,u;if((u=r.find_lines(this.session,\"a=group:\")).length)for(n=0;n<u.length;n++){var d=(l=u[n].split(\" \")).shift().substr(8);for(e.c(\"group\",{xmlns:\"urn:xmpp:jingle:apps:grouping:0\",semantics:d}),i=0;i<l.length;i++)e.c(\"content\",{name:l[i]}).up();e.up()}for(n=0;n<this.media.length;n++)if(\"audio\"===(a=r.parse_mline(this.media[n].split(\"\\r\\n\")[0])).media||\"video\"===a.media||\"application\"===a.media){var p=r.find_line(this.media[n],\"a=ssrc:\");s=!!p&&p.substring(7).split(\" \")[0],e.c(\"content\",{creator:t,name:a.media});var h=r.find_line(this.media[n],\"a=mid:\");if(h){var f=r.parse_mid(h);e.attrs({name:f})}if(r.find_line(this.media[n],\"a=rtpmap:\").length){for(e.c(\"description\",{xmlns:\"urn:xmpp:jingle:apps:rtp:1\",media:a.media}),s&&e.attrs({ssrc:s}),i=0;i<a.fmt.length;i++){c=r.find_line(this.media[n],\"a=rtpmap:\"+a.fmt[i]),e.c(\"payload-type\",r.parse_rtpmap(c));var m=r.find_line(this.media[n],\"a=fmtp:\"+a.fmt[i]);if(m)for(l=r.parse_fmtp(m),o=0;o<l.length;o++)e.c(\"parameter\",l[o]).up();this.rtcpFbToJingle(n,e,a.fmt[i]),e.up()}var g=r.find_lines(this.media[n],\"a=crypto:\",this.session);if(g.length&&(e.c(\"encryption\",{required:1}),g.forEach((function(t){e.c(\"crypto\",r.parse_crypto(t)).up()})),e.up()),s){e.c(\"source\",{ssrc:s,xmlns:\"urn:xmpp:jingle:apps:rtp:ssma:0\"});var v=r.find_lines(this.media[n],\"a=ssrc:\");if(v.length>0)v.forEach((function(t){var n=t.indexOf(\" \"),i=t.substr(0,n).substr(7);i!=s&&(e.up(),e.c(\"source\",{ssrc:s=i,xmlns:\"urn:xmpp:jingle:apps:rtp:ssma:0\"}));var o=t.substr(n+1);if(e.c(\"parameter\"),-1==o.indexOf(\":\"))e.attrs({name:o});else{var a=o.split(\":\",2)[0];e.attrs({name:a});var c=o.split(\":\",2)[1];c=r.filter_special_chars(c),e.attrs({value:c})}e.up()}));else{e.up(),e.c(\"source\",{ssrc:s,xmlns:\"urn:xmpp:jingle:apps:rtp:ssma:0\"}),e.c(\"parameter\"),e.attrs({name:\"cname\",value:Math.random().toString(36).substring(7)}),e.up();var y=null;null!=(y=\"audio\"==a.media?APP.RTC.localAudio._getId():APP.RTC.localVideo._getId())&&(y=r.filter_special_chars(y),e.c(\"parameter\"),e.attrs({name:\"msid\",value:y}),e.up(),e.c(\"parameter\"),e.attrs({name:\"mslabel\",value:y}),e.up(),e.c(\"parameter\"),e.attrs({name:\"label\",value:y}),e.up())}e.up(),r.find_lines(this.media[n],\"a=ssrc-group:\").forEach((function(t){var n=t.indexOf(\" \"),i=t.substr(0,n).substr(13),r=t.substr(14+i.length).split(\" \");r.length&&(e.c(\"ssrc-group\",{semantics:i,xmlns:\"urn:xmpp:jingle:apps:rtp:ssma:0\"}),r.forEach((function(t){e.c(\"source\",{ssrc:t}).up()})),e.up())}))}if(r.find_line(this.media[n],\"a=rtcp-mux\")&&e.c(\"rtcp-mux\").up(),this.rtcpFbToJingle(n,e,\"*\"),(u=r.find_lines(this.media[n],\"a=extmap:\")).length)for(i=0;i<u.length;i++){if(l=r.parse_extmap(u[i]),e.c(\"rtp-hdrext\",{xmlns:\"urn:xmpp:jingle:apps:rtp:rtp-hdrext:0\",uri:l.uri,id:l.value}),l.hasOwnProperty(\"direction\"))switch(l.direction){case\"sendonly\":e.attrs({senders:\"responder\"});break;case\"recvonly\":e.attrs({senders:\"initiator\"});break;case\"sendrecv\":e.attrs({senders:\"both\"});break;case\"inactive\":e.attrs({senders:\"none\"})}e.up()}e.up()}this.transportToJingle(n,e),r.find_line(this.media[n],\"a=sendrecv\",this.session)?e.attrs({senders:\"both\"}):r.find_line(this.media[n],\"a=sendonly\",this.session)?e.attrs({senders:\"initiator\"}):r.find_line(this.media[n],\"a=recvonly\",this.session)?e.attrs({senders:\"responder\"}):r.find_line(this.media[n],\"a=inactive\",this.session)&&e.attrs({senders:\"none\"}),\"0\"==a.port&&e.attrs({senders:\"rejected\"}),e.up()}return e.up(),e},i.prototype.transportToJingle=function(e,t){var n,i,o,a=this;t.c(\"transport\"),(i=r.find_line(this.media[e],\"a=sctpmap:\",a.session))&&(o=r.parse_sctpmap(i),t.c(\"sctpmap\",{xmlns:\"urn:xmpp:jingle:transports:dtls-sctp:1\",number:o[0],protocol:o[1]}),o.length>2&&t.attrs({streams:o[2]}),t.up()),r.find_lines(this.media[e],\"a=fingerprint:\",this.session).forEach((function(i){(n=r.parse_fingerprint(i)).xmlns=\"urn:xmpp:jingle:apps:dtls:0\",t.c(\"fingerprint\").t(n.fingerprint),delete n.fingerprint,(i=r.find_line(a.media[e],\"a=setup:\",a.session))&&(n.setup=i.substr(8)),t.attrs(n),t.up()})),(n=r.iceparams(this.media[e],this.session))&&(n.xmlns=\"urn:xmpp:jingle:transports:ice-udp:1\",t.attrs(n),r.find_line(this.media[e],\"a=candidate:\",this.session))&&r.find_lines(this.media[e],\"a=candidate:\",this.session).forEach((function(e){var n=r.candidateToJingle(e);a.failICE&&(n.ip=\"1.1.1.1\");var i=n&&\"string\"==typeof n.protocol?n.protocol.toLowerCase():\"\";a.removeTcpCandidates&&(\"tcp\"===i||\"ssltcp\"===i)||a.removeUdpCandidates&&\"udp\"===i||t.c(\"candidate\",n).up()})),t.up()},i.prototype.rtcpFbToJingle=function(e,t,n){r.find_lines(this.media[e],\"a=rtcp-fb:\"+n).forEach((function(e){var n=r.parse_rtcpfb(e);\"trr-int\"==n.type?(t.c(\"rtcp-fb-trr-int\",{xmlns:\"urn:xmpp:jingle:apps:rtp:rtcp-fb:0\",value:n.params[0]}),t.up()):(t.c(\"rtcp-fb\",{xmlns:\"urn:xmpp:jingle:apps:rtp:rtcp-fb:0\",type:n.type}),n.params.length>0&&t.attrs({subtype:n.params[0]}),t.up())}))},i.prototype.rtcpFbFromJingle=function(e,t){var n=\"\",i=e.find('>rtcp-fb-trr-int[xmlns=\"urn:xmpp:jingle:apps:rtp:rtcp-fb:0\"]');return i.length&&(n+=\"a=rtcp-fb:* trr-int \",n+=i.attr(\"value\")?i.attr(\"value\"):\"0\",n+=\"\\r\\n\"),(i=e.find('>rtcp-fb[xmlns=\"urn:xmpp:jingle:apps:rtp:rtcp-fb:0\"]')).each((function(){n+=\"a=rtcp-fb:\"+t+\" \"+$(this).attr(\"type\"),$(this).attr(\"subtype\")&&(n+=\" \"+$(this).attr(\"subtype\")),n+=\"\\r\\n\"})),n},i.prototype.fromJingle=function(e){var t=this;this.raw=\"v=0\\r\\no=- 1923518516 2 IN IP4 0.0.0.0\\r\\ns=-\\r\\nt=0 0\\r\\n\",$(e).find('>group[xmlns=\"urn:xmpp:jingle:apps:grouping:0\"]').length&&$(e).find('>group[xmlns=\"urn:xmpp:jingle:apps:grouping:0\"]').each((function(e,n){var i=$(n).find(\">content\").map((function(e,t){return t.getAttribute(\"name\")})).get();i.length>0&&(t.raw+=\"a=group:\"+(n.getAttribute(\"semantics\")||n.getAttribute(\"type\"))+\" \"+i.join(\" \")+\"\\r\\n\")})),this.session=this.raw,e.find(\">content\").each((function(){var e=t.jingle2media($(this));t.media.push(e)})),this.raw=this.session+this.media.join(\"\")},i.prototype.jingle2media=function(e){var t,n=\"\",i=e.find(\"description\"),o=this,a=e.find('>transport>sctpmap[xmlns=\"urn:xmpp:jingle:transports:dtls-sctp:1\"]');if((t={media:i.attr(\"media\")}).port=\"1\",\"rejected\"==e.attr(\"senders\")&&(t.port=\"0\"),t.proto=e.find(\">transport>fingerprint\").length||i.find(\"encryption\").length?a.length?\"DTLS/SCTP\":\"RTP/SAVPF\":\"RTP/AVPF\",a.length){n+=\"m=application 1 DTLS/SCTP \"+a.attr(\"number\")+\"\\r\\n\",n+=\"a=sctpmap:\"+a.attr(\"number\")+\" \"+a.attr(\"protocol\");var s=a.attr(\"streams\");n+=s?\" \"+s+\"\\r\\n\":\"\\r\\n\"}else t.fmt=i.find(\"payload-type\").map((function(){return this.getAttribute(\"id\")})).get(),n+=r.build_mline(t)+\"\\r\\n\";switch(n+=\"c=IN IP4 0.0.0.0\\r\\n\",a.length||(n+=\"a=rtcp:1 IN IP4 0.0.0.0\\r\\n\"),(t=e.find('>transport[xmlns=\"urn:xmpp:jingle:transports:ice-udp:1\"]')).length&&(t.attr(\"ufrag\")&&(n+=r.build_iceufrag(t.attr(\"ufrag\"))+\"\\r\\n\"),t.attr(\"pwd\")&&(n+=r.build_icepwd(t.attr(\"pwd\"))+\"\\r\\n\"),t.find(\">fingerprint\").each((function(){n+=\"a=fingerprint:\"+this.getAttribute(\"hash\"),n+=\" \"+$(this).text(),n+=\"\\r\\n\",this.getAttribute(\"setup\")&&(n+=\"a=setup:\"+this.getAttribute(\"setup\")+\"\\r\\n\")}))),e.attr(\"senders\")){case\"initiator\":n+=\"a=sendonly\\r\\n\";break;case\"responder\":n+=\"a=recvonly\\r\\n\";break;case\"none\":n+=\"a=inactive\\r\\n\";break;case\"both\":n+=\"a=sendrecv\\r\\n\"}return n+=\"a=mid:\"+e.attr(\"name\")+\"\\r\\n\",i.find(\"rtcp-mux\").length&&(n+=\"a=rtcp-mux\\r\\n\"),i.find(\"encryption\").length&&i.find(\"encryption>crypto\").each((function(){n+=\"a=crypto:\"+this.getAttribute(\"tag\"),n+=\" \"+this.getAttribute(\"crypto-suite\"),n+=\" \"+this.getAttribute(\"key-params\"),this.getAttribute(\"session-params\")&&(n+=\" \"+this.getAttribute(\"session-params\")),n+=\"\\r\\n\"})),i.find(\"payload-type\").each((function(){n+=r.build_rtpmap(this)+\"\\r\\n\",$(this).find(\">parameter\").length&&(n+=\"a=fmtp:\"+this.getAttribute(\"id\")+\" \",n+=$(this).find(\"parameter\").map((function(){return(this.getAttribute(\"name\")?this.getAttribute(\"name\")+\"=\":\"\")+this.getAttribute(\"value\")})).get().join(\"; \"),n+=\"\\r\\n\"),n+=o.rtcpFbFromJingle($(this),this.getAttribute(\"id\"))})),n+=o.rtcpFbFromJingle(i,\"*\"),(t=i.find('>rtp-hdrext[xmlns=\"urn:xmpp:jingle:apps:rtp:rtp-hdrext:0\"]')).each((function(){n+=\"a=extmap:\"+this.getAttribute(\"id\")+\" \"+this.getAttribute(\"uri\")+\"\\r\\n\"})),e.find('>transport[xmlns=\"urn:xmpp:jingle:transports:ice-udp:1\"]>candidate').each((function(){var e=this.getAttribute(\"protocol\");e=\"string\"==typeof e?e.toLowerCase():\"\",o.removeTcpCandidates&&(\"tcp\"===e||\"ssltcp\"===e)||o.removeUdpCandidates&&\"udp\"===e||(o.failICE&&this.setAttribute(\"ip\",\"1.1.1.1\"),n+=r.candidateFromJingle(this))})),e.find('description>ssrc-group[xmlns=\"urn:xmpp:jingle:apps:rtp:ssma:0\"]').each((function(){var e=this.getAttribute(\"semantics\"),t=$(this).find(\">source\").map((function(){return this.getAttribute(\"ssrc\")})).get();t.length&&(n+=\"a=ssrc-group:\"+e+\" \"+t.join(\" \")+\"\\r\\n\")})),(t=e.find('description>source[xmlns=\"urn:xmpp:jingle:apps:rtp:ssma:0\"]')).each((function(){var e=this.getAttribute(\"ssrc\");$(this).find(\">parameter\").each((function(){var t=this.getAttribute(\"name\"),i=this.getAttribute(\"value\");i=r.filter_special_chars(i),n+=\"a=ssrc:\"+e+\" \"+t,i&&i.length&&(n+=\":\"+i),n+=\"\\r\\n\"}))})),n},e.exports=i},function(e,t,n){var i;(function(n,r){!function(){function o(e){var t=!1;return function(){if(t)throw new Error(\"Callback was already called.\");t=!0,e.apply(a,arguments)}}var a,s,c={};null!=(a=this)&&(s=a.async),c.noConflict=function(){return a.async=s,c};var l=Object.prototype.toString,u=Array.isArray||function(e){return\"[object Array]\"===l.call(e)},d=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n+=1)t(e[n],n,e)},p=function(e,t){if(e.map)return e.map(t);var n=[];return d(e,(function(e,i,r){n.push(t(e,i,r))})),n},h=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};void 0!==n&&n.nextTick?(c.nextTick=n.nextTick,c.setImmediate=void 0!==r?function(e){r(e)}:c.nextTick):\"function\"==typeof r?(c.nextTick=function(e){r(e)},c.setImmediate=c.nextTick):(c.nextTick=function(e){setTimeout(e,0)},c.setImmediate=c.nextTick),c.each=function(e,t,n){function i(t){t?(n(t),n=function(){}):(r+=1)>=e.length&&n()}if(n=n||function(){},!e.length)return n();var r=0;d(e,(function(e){t(e,o(i))}))},c.forEach=c.each,c.eachSeries=function(e,t,n){if(n=n||function(){},!e.length)return n();var i=0,r=function(){t(e[i],(function(t){t?(n(t),n=function(){}):(i+=1)>=e.length?n():r()}))};r()},c.forEachSeries=c.eachSeries,c.eachLimit=function(e,t,n,i){f(t).apply(null,[e,n,i])},c.forEachLimit=c.eachLimit;var f=function(e){return function(t,n,i){if(i=i||function(){},!t.length||e<=0)return i();var r=0,o=0,a=0;!function s(){if(r>=t.length)return i();for(;a<e&&o<t.length;)a+=1,n(t[(o+=1)-1],(function(e){e?(i(e),i=function(){}):(a-=1,(r+=1)>=t.length?i():s())}))}()}},m=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[c.each].concat(t))}},g=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[c.eachSeries].concat(t))}},v=function(e,t,n,i){if(t=p(t,(function(e,t){return{index:t,value:e}})),i){var r=[];e(t,(function(e,t){n(e.value,(function(n,i){r[e.index]=i,t(n)}))}),(function(e){i(e,r)}))}else e(t,(function(e,t){n(e.value,(function(e){t(e)}))}))};c.map=m(v),c.mapSeries=g(v),c.mapLimit=function(e,t,n,i){return y(t)(e,n,i)};var y=function(e){return function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[f(e)].concat(n))}}(e,v)};c.reduce=function(e,t,n,i){c.eachSeries(e,(function(e,i){n(t,e,(function(e,n){t=n,i(e)}))}),(function(e){i(e,t)}))},c.inject=c.reduce,c.foldl=c.reduce,c.reduceRight=function(e,t,n,i){var r=p(e,(function(e){return e})).reverse();c.reduce(r,t,n,i)},c.foldr=c.reduceRight;var b=function(e,t,n,i){var r=[];e(t=p(t,(function(e,t){return{index:t,value:e}})),(function(e,t){n(e.value,(function(n){n&&r.push(e),t()}))}),(function(e){i(p(r.sort((function(e,t){return e.index-t.index})),(function(e){return e.value})))}))};c.filter=m(b),c.filterSeries=g(b),c.select=c.filter,c.selectSeries=c.filterSeries;var _=function(e,t,n,i){var r=[];e(t=p(t,(function(e,t){return{index:t,value:e}})),(function(e,t){n(e.value,(function(n){n||r.push(e),t()}))}),(function(e){i(p(r.sort((function(e,t){return e.index-t.index})),(function(e){return e.value})))}))};c.reject=m(_),c.rejectSeries=g(_);var E=function(e,t,n,i){e(t,(function(e,t){n(e,(function(n){n?(i(e),i=function(){}):t()}))}),(function(e){i()}))};c.detect=m(E),c.detectSeries=g(E),c.some=function(e,t,n){c.each(e,(function(e,i){t(e,(function(e){e&&(n(!0),n=function(){}),i()}))}),(function(e){n(!1)}))},c.any=c.some,c.every=function(e,t,n){c.each(e,(function(e,i){t(e,(function(e){e||(n(!1),n=function(){}),i()}))}),(function(e){n(!0)}))},c.all=c.every,c.sortBy=function(e,t,n){c.map(e,(function(e,n){t(e,(function(t,i){t?n(t):n(null,{value:e,criteria:i})}))}),(function(e,t){if(e)return n(e);n(null,p(t.sort((function(e,t){var n=e.criteria,i=t.criteria;return n<i?-1:n>i?1:0})),(function(e){return e.value})))}))},c.auto=function(e,t){t=t||function(){};var n=h(e),i=n.length;if(!i)return t();var r={},o=[],a=function(e){o.unshift(e)},s=function(e){for(var t=0;t<o.length;t+=1)if(o[t]===e)return void o.splice(t,1)},l=function(){i--,d(o.slice(0),(function(e){e()}))};a((function(){if(!i){var e=t;t=function(){},e(null,r)}})),d(n,(function(n){var i=u(e[n])?e[n]:[e[n]],o=function(e){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1&&(i=i[0]),e){var o={};d(h(r),(function(e){o[e]=r[e]})),o[n]=i,t(e,o),t=function(){}}else r[n]=i,c.setImmediate(l)},p=i.slice(0,Math.abs(i.length-1))||[],f=function(){return function(e,t,n){return e.reduce?e.reduce(t,n):(d(e,(function(e,i,r){n=t(n,e)})),n)}(p,(function(e,t){return e&&r.hasOwnProperty(t)}),!0)&&!r.hasOwnProperty(n)};if(f())i[i.length-1](o,r);else{var m=function(){f()&&(s(m),i[i.length-1](o,r))};a(m)}}))},c.retry=function(e,t,n){var i=[];\"function\"==typeof e&&(n=t,t=e,e=5),e=parseInt(e,10)||5;var r=function(r,o){for(var a=function(e,t){return function(n){e((function(e,i){n(!e||t,{err:e,result:i})}),o)}};e;)i.push(a(t,!(e-=1)));c.series(i,(function(e,t){(r||n)((t=t[t.length-1]).err,t.result)}))};return n?r():r},c.waterfall=function(e,t){if(t=t||function(){},!u(e)){var n=new Error(\"First argument to waterfall must be an array of functions\");return t(n)}if(!e.length)return t();var i=function(e){return function(n){if(n)t.apply(null,arguments),t=function(){};else{var r=Array.prototype.slice.call(arguments,1),o=e.next();r.push(o?i(o):t),c.setImmediate((function(){e.apply(null,r)}))}}};i(c.iterator(e))()};var w=function(e,t,n){if(n=n||function(){},u(t))e.map(t,(function(e,t){e&&e((function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)}))}),n);else{var i={};e.each(h(t),(function(e,n){t[e]((function(t){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),i[e]=r,n(t)}))}),(function(e){n(e,i)}))}};c.parallel=function(e,t){w({map:c.map,each:c.each},e,t)},c.parallelLimit=function(e,t,n){w({map:y(t),each:f(t)},e,n)},c.series=function(e,t){if(t=t||function(){},u(e))c.mapSeries(e,(function(e,t){e&&e((function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)}))}),t);else{var n={};c.eachSeries(h(e),(function(t,i){e[t]((function(e){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),n[t]=r,i(e)}))}),(function(e){t(e,n)}))}},c.iterator=function(e){var t=function(n){var i=function(){return e.length&&e[n].apply(null,arguments),i.next()};return i.next=function(){return n<e.length-1?t(n+1):null},i};return t(0)},c.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var T=function(e,t,n,i){var r=[];e(t,(function(e,t){n(e,(function(e,n){r=r.concat(n||[]),t(e)}))}),(function(e){i(e,r)}))};c.concat=m(T),c.concatSeries=g(T),c.whilst=function(e,t,n){e()?t((function(i){return i?n(i):void c.whilst(e,t,n)})):n()},c.doWhilst=function(e,t,n){e((function(i){if(i)return n(i);var r=Array.prototype.slice.call(arguments,1);t.apply(null,r)?c.doWhilst(e,t,n):n()}))},c.until=function(e,t,n){e()?n():t((function(i){return i?n(i):void c.until(e,t,n)}))},c.doUntil=function(e,t,n){e((function(i){if(i)return n(i);var r=Array.prototype.slice.call(arguments,1);t.apply(null,r)?n():c.doUntil(e,t,n)}))},c.queue=function(e,t){function n(e,t,n,i){return e.started||(e.started=!0),u(t)||(t=[t]),0==t.length?c.setImmediate((function(){e.drain&&e.drain()})):void d(t,(function(t){var r={data:t,callback:\"function\"==typeof i?i:null};n?e.tasks.unshift(r):e.tasks.push(r),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),c.setImmediate(e.process)}))}void 0===t&&(t=1);var i=0,r={tasks:[],concurrency:t,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(e,t){n(r,e,!1,t)},kill:function(){r.drain=null,r.tasks=[]},unshift:function(e,t){n(r,e,!0,t)},process:function(){if(!r.paused&&i<r.concurrency&&r.tasks.length){var t=r.tasks.shift();r.empty&&0===r.tasks.length&&r.empty(),i+=1;var n=o((function(){i-=1,t.callback&&t.callback.apply(t,arguments),r.drain&&r.tasks.length+i===0&&r.drain(),r.process()}));e(t.data,n)}},length:function(){return r.tasks.length},running:function(){return i},idle:function(){return r.tasks.length+i===0},pause:function(){!0!==r.paused&&(r.paused=!0,r.process())},resume:function(){!1!==r.paused&&(r.paused=!1,r.process())}};return r},c.priorityQueue=function(e,t){function n(e,t){return e.priority-t.priority}function i(e,t,i,r){return e.started||(e.started=!0),u(t)||(t=[t]),0==t.length?c.setImmediate((function(){e.drain&&e.drain()})):void d(t,(function(t){var o={data:t,priority:i,callback:\"function\"==typeof r?r:null};e.tasks.splice(function(e,t,n){for(var i=-1,r=e.length-1;i<r;){var o=i+(r-i+1>>>1);n(t,e[o])>=0?i=o:r=o-1}return i}(e.tasks,o,n)+1,0,o),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),c.setImmediate(e.process)}))}var r=c.queue(e,t);return r.push=function(e,t,n){i(r,e,t,n)},delete r.unshift,r},c.cargo=function(e,t){var n=!1,i=[],r={tasks:i,payload:t,saturated:null,empty:null,drain:null,drained:!0,push:function(e,n){u(e)||(e=[e]),d(e,(function(e){i.push({data:e,callback:\"function\"==typeof n?n:null}),r.drained=!1,r.saturated&&i.length===t&&r.saturated()})),c.setImmediate(r.process)},process:function o(){if(!n){if(0===i.length)return r.drain&&!r.drained&&r.drain(),void(r.drained=!0);var a=i.splice(0,\"number\"==typeof t?t:i.length),s=p(a,(function(e){return e.data}));r.empty&&r.empty(),n=!0,e(s,(function(){n=!1;var e=arguments;d(a,(function(t){t.callback&&t.callback.apply(null,e)})),o()}))}},length:function(){return i.length},running:function(){return n}};return r};var S=function(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);\"undefined\"!=typeof console&&(t?console.error&&console.error(t):console[e]&&d(n,(function(t){console[e](t)})))}]))}};c.log=S(\"log\"),c.dir=S(\"dir\"),c.memoize=function(e,t){var n={},i={};t=t||function(e){return e};var r=function(){var r=Array.prototype.slice.call(arguments),o=r.pop(),a=t.apply(null,r);a in n?c.nextTick((function(){o.apply(null,n[a])})):a in i?i[a].push(o):(i[a]=[o],e.apply(null,r.concat([function(){n[a]=arguments;var e=i[a];delete i[a];for(var t=0,r=e.length;t<r;t++)e[t].apply(null,arguments)}])))};return r.memo=n,r.unmemoized=e,r},c.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},c.times=function(e,t,n){for(var i=[],r=0;r<e;r++)i.push(r);return c.map(i,t,n)},c.timesSeries=function(e,t,n){for(var i=[],r=0;r<e;r++)i.push(r);return c.mapSeries(i,t,n)},c.seq=function(){var e=arguments;return function(){var t=this,n=Array.prototype.slice.call(arguments),i=n.pop();c.reduce(e,n,(function(e,n,i){n.apply(t,e.concat([function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);i(e,t)}]))}),(function(e,n){i.apply(t,[e].concat(n))}))}},c.compose=function(){return c.seq.apply(null,Array.prototype.reverse.call(arguments))};var C=function(e,t){var n=function(){var n=this,i=Array.prototype.slice.call(arguments),r=i.pop();return e(t,(function(e,t){e.apply(n,i.concat([t]))}),r)};if(arguments.length>2){var i=Array.prototype.slice.call(arguments,2);return n.apply(this,i)}return n};c.applyEach=m(C),c.applyEachSeries=g(C),c.forever=function(e,t){!function n(i){if(i){if(t)return t(i);throw i}e(n)}()},void 0!==e&&e.exports?e.exports=c:void 0===(i=(function(){return c}).apply(t,[]))||(e.exports=i)}()}).call(t,n(132),n(133).setImmediate)},function(e,t){function n(){throw new Error(\"setTimeout has not been defined\")}function i(){throw new Error(\"clearTimeout has not been defined\")}function r(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(){f&&p&&(f=!1,p.length?h=p.concat(h):m=-1,h.length&&a())}function a(){if(!f){var e=r(o);f=!0;for(var t=h.length;t;){for(p=h,h=[];++m<t;)p&&p[m].run();m=-1,t=h.length}p=null,f=!1,function(e){if(u===clearTimeout)return clearTimeout(e);if((u===i||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}(e)}}function s(e,t){this.fun=e,this.array=t}function c(){}var l,u,d=e.exports={};!function(){try{l=\"function\"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{u=\"function\"==typeof clearTimeout?clearTimeout:i}catch(e){u=i}}();var p,h=[],f=!1,m=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new s(e,t)),1!==h.length||f||r(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title=\"browser\",d.browser=!0,d.env={},d.argv=[],d.version=\"\",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(e){throw new Error(\"process.binding is not supported\")},d.cwd=function(){return\"/\"},d.chdir=function(e){throw new Error(\"process.chdir is not supported\")},d.umask=function(){return 0}},function(e,t,n){(function(e,i){function r(e,t){this._id=e,this._clearFn=t}var o=n(132).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,c={},l=0;t.setTimeout=function(){return new r(a.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(a.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},t.setImmediate=\"function\"==typeof e?e:function(e){var n=l++,i=!(arguments.length<2)&&s.call(arguments,1);return c[n]=!0,o((function(){c[n]&&(i?e.apply(null,i):e.call(null),t.clearImmediate(n))})),n},t.clearImmediate=\"function\"==typeof i?i:function(e){delete c[e]}}).call(t,n(133).setImmediate,n(133).clearImmediate)},function(e,t,n){(function(e){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(){Strophe.log=function(e,t){switch(\"string\"==typeof t&&-1!==t.indexOf(\"Request \")&&-1!==t.indexOf(\"timed out (secondary), restarting\")&&(e=Strophe.LogLevel.WARN),e){case Strophe.LogLevel.WARN:o.warn(\"Strophe: \"+t);break;case Strophe.LogLevel.ERROR:case Strophe.LogLevel.FATAL:t=\"Strophe: \"+t,r.default.callErrorHandler(new Error(t)),o.error(t)}},Strophe.getStatusString=function(e){switch(e){case Strophe.Status.ERROR:return\"ERROR\";case Strophe.Status.CONNECTING:return\"CONNECTING\";case Strophe.Status.CONNFAIL:return\"CONNFAIL\";case Strophe.Status.AUTHENTICATING:return\"AUTHENTICATING\";case Strophe.Status.AUTHFAIL:return\"AUTHFAIL\";case Strophe.Status.CONNECTED:return\"CONNECTED\";case Strophe.Status.DISCONNECTED:return\"DISCONNECTED\";case Strophe.Status.DISCONNECTING:return\"DISCONNECTING\";case Strophe.Status.ATTACHED:return\"ATTACHED\";default:return\"unknown\"}}};var i=n(9),r=function(e){return e&&e.__esModule?e:{default:e}}(n(39)),o=(0,i.getLogger)(e)}).call(t,\"modules/xmpp/strophe.util.js\")},function(e,t,n){(function(e){\"use strict\";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.default=function(){Strophe.addConnectionPlugin(\"ping\",new l)};var o=n(9),a=i(n(42)),s=i(n(39)),c=(0,o.getLogger)(e),l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.failedPings=0,e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:\"init\",value:function(e){(function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if(\"value\"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"init\",this).call(this,e),Strophe.addNamespace(\"PING\",\"urn:xmpp:ping\")}},{key:\"ping\",value:function(e,t,n,i){var r=$iq({type:\"get\",to:e});r.c(\"ping\",{xmlns:Strophe.NS.PING}),this.connection.sendIQ(r,t,n,i)}},{key:\"hasPingSupport\",value:function(e,t){var n=this.connection.disco;n&&n.info(e,null,(function(e){var n=$(e).find('>>feature[var=\"urn:xmpp:ping\"]');t(n.length>0)}),(function(e){var n=\"Ping feature discovery error\";s.default.callErrorHandler(new Error(n+\": \"+e)),c.error(n,e),t(!1)}))}},{key:\"startInterval\",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;if(this.intervalId){var i=\"Ping task scheduled already\";return s.default.callErrorHandler(new Error(i)),void c.error(i)}this.intervalId=window.setInterval((function(){t.ping(e,(function(){t.failedPings=0}),(function(e){t.failedPings+=1;var n=\"Ping \"+(e?\"error\":\"timeout\");t.failedPings>=3?(s.default.callErrorHandler(new Error(n)),c.error(n,e)):c.warn(n,e)}),15e3)}),n),c.info(\"XMPP pings will be sent every \"+n+\" ms\")}},{key:\"stopInterval\",value:function(){this.intervalId&&(window.clearInterval(this.intervalId),this.intervalId=null,this.failedPings=0,c.info(\"Ping interval cleared\"))}}]),t}(a.default)}).call(t,\"modules/xmpp/strophe.ping.js\")},function(e,t,n){(function(e){\"use strict\";function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function r(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.default=function(){Strophe.addConnectionPlugin(\"rayo\",new u)};var a=n(9),s=function(e){return e&&e.__esModule?e:{default:e}}(n(42)),c=(0,a.getLogger)(e),l=\"urn:xmpp:rayo:1\",u=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:\"init\",value:function(e){(function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if(\"value\"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"init\",this).call(this,e);var n=this.connection.disco;n&&n.addFeature(\"urn:xmpp:rayo:client:1\"),this.connection.addHandler(this.onRayo.bind(this),l,\"iq\",\"set\",null,null)}},{key:\"onRayo\",value:function(e){c.info(\"Rayo IQ\",e)}},{key:\"dial\",value:function(e,t,n,i,r){var o=this;return new Promise((function(a,s){if(r){var u=$iq({type:\"set\",to:r});u.c(\"dial\",{xmlns:l,to:e,from:t}),u.c(\"header\",{name:\"JvbRoomName\",value:n}).up(),i&&i.length&&u.c(\"header\",{name:\"JvbRoomPassword\",value:i}).up(),o.connection.sendIQ(u,(function(e){c.info(\"Dial result \",e);var t=$(e).find(\"ref\").attr(\"uri\");o.call_resource=t.substr(\"xmpp:\".length),c.info(\"Received call resource: \"+o.call_resource),a()}),(function(e){c.info(\"Dial error \",e),s(e)}))}else s(new Error(\"Internal error!\"))}))}},{key:\"hangup\",value:function(){var e=this;return new Promise((function(t,n){if(!e.call_resource)return n(new Error(\"No call in progress\")),void c.warn(\"No call in progress\");var i=$iq({type:\"set\",to:e.call_resource});i.c(\"hangup\",{xmlns:l}),e.connection.sendIQ(i,(function(n){c.info(\"Hangup result \",n),e.call_resource=null,t()}),(function(t){c.info(\"Hangup error \",t),e.call_resource=null,n(new Error(\"Hangup error \"))}))}))}}]),t}(s.default)}).call(t,\"modules/xmpp/strophe.rayo.js\")},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.default=function(){Strophe.addConnectionPlugin(\"logger\",new r)};var r=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.log=[],e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:\"init\",value:function(e){(function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if(\"value\"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"init\",this).call(this,e),this.connection.rawInput=this.log_incoming.bind(this),this.connection.rawOutput=this.log_outgoing.bind(this)}},{key:\"log_incoming\",value:function(e){this.log.push([(new Date).getTime(),\"incoming\",e])}},{key:\"log_outgoing\",value:function(e){this.log.push([(new Date).getTime(),\"outgoing\",e])}}]),t}(function(e){return e&&e.__esModule?e:{default:e}}(n(42)).default)},function(e,t,n){(function(t){\"use strict\";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){if(!e.name||e.name.toLowerCase()!==e.name){var t=\"Invalid conference name (no conference name passed or it contains invalid characters like capital letters)!\";throw h.error(t),new Error(t)}this.eventEmitter=new g,this.settings=new b,this.options=e,this.eventManager=new w(this),this._init(e),this.componentsVersions=new _(this),this.participants={},this.lastDominantSpeaker=null,this.dtmfManager=null,this.somebodySupportsDTMF=!1,this.authEnabled=!1,this.startAudioMuted=!1,this.startVideoMuted=!1,this.startMutedPolicy={audio:!1,video:!1},this.availableDevices={audio:void 0,video:void 0},this.isMutedByFocus=!1,this.reportedAudioSSRCs={},this.wasStopped=!1}var a=r(n(1)),s=r(n(2)),c=i(n(139)),l=i(n(6)),u=r(n(7)),d=r(n(8)),p=i(n(140)),h=n(9).getLogger(t),f=n(48),m=n(35),g=n(14),v=n(59),y=n(141),b=n(142),_=n(144),E=n(39),w=n(145),T=n(55),S=n(147),C=n(153);o.prototype._init=function(e){var t=this;e||(e={}),e.connection&&(this.connection=e.connection,this.xmpp=this.connection.xmpp,this.eventManager.setupXMPPListeners()),this.room=this.xmpp.createRoom(this.options.name,this.options.config,this.settings),this.room.updateDeviceAvailability(f.getDeviceAvailability()),this.rtc||(this.rtc=new f(this,e),this.eventManager.setupRTCListeners()),this.participantConnectionStatus=new C(this.rtc,this,e.config.peerDisconnectedThroughRtcTimeout),this.participantConnectionStatus.init(),this.statistics||(this.statistics=new v(this.xmpp,{callStatsID:this.options.config.callStatsID,callStatsSecret:this.options.config.callStatsSecret,callStatsCustomScriptUrl:this.options.config.callStatsCustomScriptUrl,roomName:this.options.name})),this.eventManager.setupChatRoomListeners(),this.eventManager.setupStatisticsListeners(),this.options.config.enableTalkWhileMuted&&new p.default(this,(function(){t.eventEmitter.emit(s.TALK_WHILE_MUTED)}))},o.prototype.join=function(e){this.room&&this.room.join(e)},o.prototype.isJoined=function(){return this.room&&this.room.joined},o.prototype.leave=function(){var e=this;if(this.participantConnectionStatus&&(this.participantConnectionStatus.dispose(),this.participantConnectionStatus=null),this.getLocalTracks().forEach((function(t){return e.onTrackRemoved(t)})),this.rtc.closeAllDataChannels(),this.statistics&&this.statistics.dispose(),this.room){var t=this.room;return this.room=null,t.leave().catch((function(){e.getParticipants().forEach((function(t){return e.onMemberLeft(t.getJid())}))}))}return Promise.reject(new Error(\"The conference is has been already left\"))},o.prototype.getName=function(){return this.options.name},o.prototype.isAuthEnabled=function(){return this.authEnabled},o.prototype.isLoggedIn=function(){return!!this.authIdentity},o.prototype.getAuthLogin=function(){return this.authIdentity},o.prototype.isExternalAuthEnabled=function(){return this.room&&this.room.moderator.isExternalAuthEnabled()},o.prototype.getExternalAuthUrl=function(e){return new Promise((function(t,n){return this.isExternalAuthEnabled()?void(e?this.room.moderator.getPopupLoginUrl(t,n):this.room.moderator.getLoginUrl(t,n)):void n()}).bind(this))},o.prototype.getLocalTracks=function(){return this.rtc?this.rtc.localTracks.slice():[]},o.prototype.on=function(e,t){this.eventEmitter&&this.eventEmitter.on(e,t)},o.prototype.off=function(e,t){this.eventEmitter&&this.eventEmitter.removeListener(e,t)},o.prototype.addEventListener=o.prototype.on,o.prototype.removeEventListener=o.prototype.off,o.prototype.addCommandListener=function(e,t){this.room&&this.room.addPresenceListener(e,t)},o.prototype.removeCommandListener=function(e){this.room&&this.room.removePresenceListener(e)},o.prototype.sendTextMessage=function(e){this.room&&this.room.sendMessage(e)},o.prototype.sendCommand=function(e,t){this.room&&(this.room.addToPresence(e,t),this.room.sendPresence())},o.prototype.sendCommandOnce=function(e,t){this.sendCommand(e,t),this.removeCommand(e)},o.prototype.removeCommand=function(e){this.room&&this.room.removeFromPresence(e)},o.prototype.setDisplayName=function(e){this.room&&(this.room.removeFromPresence(\"nick\"),this.room.addToPresence(\"nick\",{attributes:{xmlns:\"http://jabber.org/protocol/nick\"},value:e}),this.room.sendPresence())},o.prototype.setSubject=function(e){this.room&&this.isModerator()&&this.room.setSubject(e)},o.prototype.getTranscriber=function(){return void 0===this.transcriber&&(this.transcriber=new S,this.rtc.localTracks.forEach((function(e){e.isAudioTrack()&&this.transcriber.addTrack(e)}).bind(this)),this.rtc.remoteTracks.forEach((function(e){e.isAudioTrack()&&this.transcriber.addTrack(e)}).bind(this))),this.transcriber},o.prototype.addTrack=function(e){if(e.disposed)return Promise.reject(new l.default(u.TRACK_IS_DISPOSED));if(e.isVideoTrack()){var t=this.rtc.getLocalVideoTrack();if(t)return e===t?Promise.resolve(e):Promise.reject(new Error(\"cannot add second video track to the conference\"))}if(e.ssrcHandler=(function(e,t){t[this.getMSID()]&&(this._setSSRC(t[this.getMSID()]),e.room.removeListener(m.SENDRECV_STREAMS_CHANGED,this.ssrcHandler))}).bind(e,this),this.room.addListener(m.SENDRECV_STREAMS_CHANGED,e.ssrcHandler),e.isAudioTrack()||e.isVideoTrack()&&e.videoType!==T.DESKTOP){var n=f.getCurrentlyAvailableMediaDevices().find((function(t){return t.kind===e.getTrack().kind+\"input\"&&t.label===e.getTrack().label}));n&&v.sendActiveDeviceListEvent(f.getEventDataForActiveDevice(n))}return new Promise((function(t,n){this.room.addStream(e.getOriginalStream(),(function(){e.isVideoTrack()&&(this.removeCommand(\"videoType\"),this.sendCommand(\"videoType\",{value:e.videoType,attributes:{xmlns:\"http://jitsi.org/jitmeet/video\"}})),this.rtc.addLocalTrack(e),e.startMuted&&e.mute(),e.isAudioTrack()?this.room.setAudioMute(e.isMuted()):this.room.setVideoMute(e.isMuted()),e.muteHandler=this._fireMuteChangeEvent.bind(this,e),e.audioLevelHandler=this._fireAudioLevelChangeEvent.bind(this),e.addEventListener(d.TRACK_MUTE_CHANGED,e.muteHandler),e.addEventListener(d.TRACK_AUDIO_LEVEL_CHANGED,e.audioLevelHandler),e._setConference(this),e.isVideoTrack()&&e.videoType===T.DESKTOP&&this.statistics.sendScreenSharingEvent(!0),this.eventEmitter.emit(s.TRACK_ADDED,e),t(e)}).bind(this),(function(e){n(e)}))}).bind(this))},o.prototype._fireAudioLevelChangeEvent=function(e){this.eventEmitter.emit(s.TRACK_AUDIO_LEVEL_CHANGED,this.myUserId(),e)},o.prototype._fireMuteChangeEvent=function(e){this.isMutedByFocus&&e.isAudioTrack()&&!e.isMuted()&&(this.isMutedByFocus=!1,this.room.muteParticipant(this.room.myroomjid,!1)),this.eventEmitter.emit(s.TRACK_MUTE_CHANGED,e)},o.prototype.onTrackRemoved=function(e){e._setSSRC(null),e._setConference(null),this.rtc.removeLocalTrack(e),e.removeEventListener(d.TRACK_MUTE_CHANGED,e.muteHandler),e.removeEventListener(d.TRACK_AUDIO_LEVEL_CHANGED,e.audioLevelHandler),this.room.removeListener(m.SENDRECV_STREAMS_CHANGED,e.ssrcHandler),e.isVideoTrack()&&e.videoType===T.DESKTOP&&this.statistics.sendScreenSharingEvent(!1),this.eventEmitter.emit(s.TRACK_REMOVED,e)},o.prototype.removeTrack=function(e){return e.disposed?Promise.reject(new l.default(u.TRACK_IS_DISPOSED)):this.room?new Promise((function(t,n){this.room.removeStream(e.getOriginalStream(),(function(){this.onTrackRemoved(e),t()}).bind(this),(function(e){n(e)}),{mtype:e.getType(),type:\"remove\",ssrc:e.ssrc})}).bind(this)):(this.rtc&&this.onTrackRemoved(e),Promise.resolve())},o.prototype.getRole=function(){return this.room.role},o.prototype.isModerator=function(){return this.room?this.room.isModerator():null},o.prototype.lock=function(e){if(!this.isModerator())return Promise.reject();var t=this;return new Promise((function(n,i){t.room.lockRoom(e||\"\",(function(){n()}),(function(e){i(e)}),(function(){i(a.PASSWORD_NOT_SUPPORTED)}))}))},o.prototype.unlock=function(){return this.lock()},o.prototype.selectParticipant=function(e){this.rtc.selectEndpoint(e)},o.prototype.pinParticipant=function(e){this.rtc.pinEndpoint(e)},o.prototype.getParticipants=function(){return Object.keys(this.participants).map((function(e){return this.participants[e]}),this)},o.prototype.getParticipantById=function(e){return this.participants[e]},o.prototype.kickParticipant=function(e){var t=this.getParticipantById(e);t&&this.room.kick(t.getJid())},o.prototype.muteParticipant=function(e){var t=this.getParticipantById(e);t&&this.room.muteParticipant(t.getJid(),!0)},o.prototype.onMemberJoined=function(e,t,n,i){var r=Strophe.getResourceFromJid(e);if(\"focus\"!==r&&this.myUserId()!==r){var o=new c.default(e,this,t,i);o._role=n,this.participants[r]=o,this.eventEmitter.emit(s.USER_JOINED,r,o);var a=this.xmpp.connection.disco;a&&a.info(e,\"node\",(function(e){o._supportsDTMF=$(e).find('>query>feature[var=\"urn:xmpp:jingle:dtmf:0\"]').length>0,this.updateDTMFSupport()}).bind(this))}},o.prototype.onMemberLeft=function(e){var t=Strophe.getResourceFromJid(e);if(\"focus\"!==t&&this.myUserId()!==t){var n=this.participants[t];delete this.participants[t],this.rtc.removeRemoteTracks(t).forEach((function(e){this.eventEmitter.emit(s.TRACK_REMOVED,e)}).bind(this)),n&&this.eventEmitter.emit(s.USER_LEFT,t,n)}},o.prototype.onUserRoleChanged=function(e,t){var n=Strophe.getResourceFromJid(e),i=this.getParticipantById(n);i&&(i._role=t,this.eventEmitter.emit(s.USER_ROLE_CHANGED,n,t))},o.prototype.onDisplayNameChanged=function(e,t){var n=Strophe.getResourceFromJid(e),i=this.getParticipantById(n);i&&i._displayName!==t&&(i._displayName=t,this.eventEmitter.emit(s.DISPLAY_NAME_CHANGED,n,t))},o.prototype.onTrackAdded=function(e){var t=e.getParticipantId(),n=this.getParticipantById(t);if(n){n._tracks.push(e),this.transcriber&&this.transcriber.addTrack(e);var i=this.eventEmitter;e.addEventListener(d.TRACK_MUTE_CHANGED,(function(){i.emit(s.TRACK_MUTE_CHANGED,e)})),e.addEventListener(d.TRACK_AUDIO_LEVEL_CHANGED,(function(e){i.emit(s.TRACK_AUDIO_LEVEL_CHANGED,t,e)})),i.emit(s.TRACK_ADDED,e)}},o.prototype.onIncomingCall=function(e,t,n){if(!this.room.isFocus(e.peerjid)){var i=\"Rejecting session-initiate from non-focus user: \"+e.peerjid;return E.callErrorHandler(new Error(i)),h.error(i),void e.terminate(\"security-error\",\"Only focus can start new sessions\",null,(function(e){h.warn(\"An error occurred while trying to terminate invalid Jingle session\",e)}))}this.room.setJingleSession(e),this.room.connectionTimes[\"session.initiate\"]=n,this.wasStopped&&v.sendEventToAll(\"session.restart\");var r=null;window.jitsiRegionInfo&&(r=window.jitsiRegionInfo.CrossRegion),v.analytics.sendEvent(\"session.initiate\",{value:n-this.room.connectionTimes[\"muc.joined\"],label:r});try{e.initialize(!1,this.room)}catch(e){E.callErrorHandler(e)}this.rtc.onIncommingCall(e),this.rtc.localTracks.forEach((function(e){var t=null;e.isVideoTrack()&&e.isMuted()&&(e._setSSRC(this.room.generateNewStreamSSRCInfo()),t={mtype:e.getType(),type:\"addMuted\",ssrc:e.ssrc,msid:e.initialMSID});try{this.room.addStream(e.getOriginalStream(),(function(){}),(function(){}),t,!0)}catch(e){E.callErrorHandler(e),h.error(e)}}).bind(this)),e.acceptOffer(t,null,(function(e){E.callErrorHandler(e),h.error(\"Failed to accept incoming Jingle session\",e)})),this.statistics.startCallStats(e,this.settings),this.statistics.startRemoteStats(e.peerconnection)},o.prototype.onCallEnded=function(e,t,n){h.info(\"Call ended: \"+t+\" - \"+n),this.wasStopped=!0,v.sendEventToAll(\"session.terminate\"),this.statistics&&(this.statistics.stopRemoteStats(),this.statistics.stopCallStats()),this.room.setJingleSession(null),this.rtc.onCallEnded();var i=this;this.rtc.localTracks.forEach((function(e){e._setSSRC(null),i.room.addListener(m.SENDRECV_STREAMS_CHANGED,e.ssrcHandler)}))},o.prototype.updateDTMFSupport=function(){for(var e=!1,t=this.getParticipants(),n=0;n<t.length;n+=1)if(t[n].supportsDTMF()){e=!0;break}e!==this.somebodySupportsDTMF&&(this.somebodySupportsDTMF=e,this.eventEmitter.emit(s.DTMF_SUPPORT_CHANGED,e))},o.prototype.isDTMFSupported=function(){return this.somebodySupportsDTMF},o.prototype.myUserId=function(){return this.room&&this.room.myroomjid?Strophe.getResourceFromJid(this.room.myroomjid):null},o.prototype.sendTones=function(e,t,n){if(!this.dtmfManager){var i=this.xmpp.connection.jingle.activecall.peerconnection;if(!i)return void h.warn(\"cannot sendTones: no conneciton\");var r=this.getLocalTracks().filter((function(e){return e.isAudioTrack()}));if(!r.length)return void h.warn(\"cannot sendTones: no local audio stream\");this.dtmfManager=new y(r[0],i)}this.dtmfManager.sendTones(e,t,n)},o.prototype.isRecordingSupported=function(){return!!this.room&&this.room.isRecordingSupported()},o.prototype.getRecordingState=function(){return this.room?this.room.getRecordingState():void 0},o.prototype.getRecordingURL=function(){return this.room?this.room.getRecordingURL():null},o.prototype.toggleRecording=function(e){return this.room?this.room.toggleRecording(e,(function(e,t){this.eventEmitter.emit(s.RECORDER_STATE_CHANGED,e,t)}).bind(this)):void this.eventEmitter.emit(s.RECORDER_STATE_CHANGED,\"error\",new Error(\"The conference is not created yet!\"))},o.prototype.isSIPCallingSupported=function(){return!!this.room&&this.room.isSIPCallingSupported()},o.prototype.dial=function(e){return this.room?this.room.dial(e):new Promise((function(e,t){t(new Error(\"The conference is not created yet!\"))}))},o.prototype.hangup=function(){return this.room?this.room.hangup():new Promise((function(e,t){t(new Error(\"The conference is not created yet!\"))}))},o.prototype.getPhoneNumber=function(){return this.room?this.room.getPhoneNumber():null},o.prototype.getPhonePin=function(){return this.room?this.room.getPhonePin():null},o.prototype.getConnectionState=function(){return this.room?this.room.getConnectionState():null},o.prototype.setStartMutedPolicy=function(e){this.isModerator()&&(this.startMutedPolicy=e,this.room.removeFromPresence(\"startmuted\"),this.room.addToPresence(\"startmuted\",{attributes:{audio:e.audio,video:e.video,xmlns:\"http://jitsi.org/jitmeet/start-muted\"}}),this.room.sendPresence())},o.prototype.getStartMutedPolicy=function(){return this.startMutedPolicy},o.prototype.isStartAudioMuted=function(){return this.startAudioMuted},o.prototype.isStartVideoMuted=function(){return this.startVideoMuted},o.prototype.getLogs=function(){var e=this.xmpp.getJingleLog(),t={};t.time=new Date,t.url=window.location.href,t.ua=navigator.userAgent;var n=this.xmpp.getXmppLog();return n&&(t.xmpp=n),e.metadata=t,e},o.prototype.getConnectionTimes=function(){return this.room.connectionTimes},o.prototype.setLocalParticipantProperty=function(e,t){this.sendCommand(\"jitsi_participant_\"+e,{value:t})},o.prototype.sendFeedback=function(e,t){this.statistics.sendFeedback(e,t)},o.prototype.isCallstatsEnabled=function(){return this.statistics.isCallstatsEnabled()},o.prototype._onTrackAttach=function(e,t){var n=e.getSSRC();t.id&&n&&this.statistics.associateStreamWithVideoTag(n,e.isLocal(),e.getUsageLabel(),t.id)},o.prototype._reportAudioProblem=function(e){if(!this.reportedAudioSSRCs[e]){var t=this.rtc.getRemoteTrackBySSRC(e);if(t&&t.isAudioTrack()){var n=t.getParticipantId(),i=null;if(n){var r=this.getParticipantById(n);r&&(i=r.getDisplayName())}this.reportedAudioSSRCs[e]=!0;var o={errMsg:\"The audio is received but not played\",ssrc:e,jid:n,displayName:i};h.log(\"=================The audio is received but not played======================\"),h.log(\"ssrc: \",e),h.log(\"jid: \",n),h.log(\"displayName: \",i);var a=t.stream,s=t.track;a&&(h.log(\"MediaStream:\"),o.MediaStream={active:a.active,id:a.id},h.log(\"active: \",a.active),h.log(\"id: \",a.id)),s&&(h.log(\"MediaStreamTrack:\"),o.MediaStreamTrack={enabled:s.enabled,id:s.id,label:s.label,muted:s.muted},h.log(\"enabled: \",s.enabled),h.log(\"id: \",s.id),h.log(\"label: \",s.label),h.log(\"muted: \",s.muted)),t.containers&&(o.containers=[],h.log(\"Containers:\"),t.containers.forEach((function(e){h.log(\"Container:\"),o.containers.push({autoplay:e.autoplay,muted:e.muted,src:e.src,volume:e.volume,id:e.id,ended:e.ended,paused:e.paused,readyState:e.readyState}),h.log(\"autoplay: \",e.autoplay),h.log(\"muted: \",e.muted),h.log(\"src: \",e.src),h.log(\"volume: \",e.volume),h.log(\"id: \",e.id),h.log(\"ended: \",e.ended),h.log(\"paused: \",e.paused),h.log(\"readyState: \",e.readyState)}))),h.error(\"Audio problem detected. The audio is received but not played\",o),delete o.displayName,this.statistics.sendDetectedAudioProblem(new Error(JSON.stringify(o)))}}},o.prototype.sendApplicationLog=function(e){v.sendLog(e)},o.prototype._isFocus=function(e){return this.room?this.room.isFocus(e):null},o.prototype._fireIncompatibleVersionsEvent=function(){this.eventEmitter.emit(s.CONFERENCE_FAILED,a.INCOMPATIBLE_SERVER_VERSIONS)},o.prototype.sendEndpointMessage=function(e,t){this.rtc.sendDataChannelMessage(e,t)},o.prototype.broadcastEndpointMessage=function(e){this.sendEndpointMessage(\"\",e)},e.exports=o}).call(t,\"JitsiConference.js\")},function(e,t,n){\"use strict\";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=i(n(2)),a=i(n(36)),s=function(){function e(t,n,i,r){(function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")})(this,e),this._jid=t,this._id=Strophe.getResourceFromJid(t),this._conference=n,this._displayName=i,this._supportsDTMF=!1,this._tracks=[],this._role=\"none\",this._status=null,this._availableDevices={audio:void 0,video:void 0},this._hidden=r,this._isConnectionActive=!0,this._properties={}}return r(e,[{key:\"getConference\",value:function(){return this._conference}},{key:\"getProperty\",value:function(e){return this._properties[e]}},{key:\"_setIsConnectionActive\",value:function(e){this._isConnectionActive=e}},{key:\"isConnectionActive\",value:function(){return this._isConnectionActive}},{key:\"setProperty\",value:function(e,t){var n=this._properties[e];t!==n&&(this._properties[e]=t,this._conference.eventEmitter.emit(o.PARTICIPANT_PROPERTY_CHANGED,this,e,n,t))}},{key:\"getTracks\",value:function(){return this._tracks.slice()}},{key:\"getId\",value:function(){return this._id}},{key:\"getJid\",value:function(){return this._jid}},{key:\"getDisplayName\",value:function(){return this._displayName}},{key:\"getStatus\",value:function(){return this._status}},{key:\"isModerator\",value:function(){return\"moderator\"===this._role}},{key:\"isHidden\",value:function(){return this._hidden}},{key:\"isAudioMuted\",value:function(){return this._isMediaTypeMuted(a.AUDIO)}},{key:\"_isMediaTypeMuted\",value:function(e){return this.getTracks().reduce((function(t,n){return t&&(n.getType()!==e||n.isMuted())}),!0)}},{key:\"isVideoMuted\",value:function(){return this._isMediaTypeMuted(a.VIDEO)}},{key:\"getLatestStats\",value:function(){}},{key:\"getRole\",value:function(){return this._role}},{key:\"isFocus\",value:function(){}},{key:\"isRecorder\",value:function(){}},{key:\"isSipGateway\",value:function(){}},{key:\"isScreenSharing\",value:function(){}},{key:\"getUserAgent\",value:function(){}},{key:\"kick\",value:function(){}},{key:\"askToMute\",value:function(){}},{key:\"supportsDTMF\",value:function(){return this._supportsDTMF}}]),e}();t.default=s},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),o=function(){function e(t,n){(function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")})(this,e),this._callback=n,this._eventFired=!1,t.statistics.addAudioLevelListener(this._audioLevel.bind(this)),t.on(r.TRACK_MUTE_CHANGED,this._trackMuteChanged.bind(this)),t.on(r.TRACK_ADDED,this._trackAdded.bind(this))}return i(e,[{key:\"_audioLevel\",value:function(e,t,n){n&&this.audioTrack&&!this._eventFired&&this.audioTrack.isMuted()&&t>.6&&(this._eventFired=!0,this._callback())}},{key:\"_isLocalAudioTrack\",value:function(e){return e.isAudioTrack()&&e.isLocal()}},{key:\"_trackAdded\",value:function(e){this._isLocalAudioTrack(e)&&(this.audioTrack=e)}},{key:\"_trackMuteChanged\",value:function(e){this._isLocalAudioTrack(e)&&e.isMuted()&&(this._eventFired=!1)}}]),e}();t.default=o},function(e,t,n){(function(e){\"use strict\";n(9).getLogger(e)}).call(t,\"modules/DTMF/JitsiDTMFManager.js\")},function(e,t,n){(function(t){\"use strict\";function i(){return(\"undefined\"==typeof window?this:window).localStorage}function r(){var e=function(){function e(){return(Math.random().toString(16)+\"000000000\").substr(2,8)}return e()+e()+e()+e()}();return s.log(\"generated id\",e),e}function o(){var e=c.generateUsername();return s.log(\"generated callstats uid\",e),e}function a(){var e=i();e?(this.userId=e.getItem(\"jitsiMeetId\")||r(),this.callStatsUserName=e.getItem(\"callStatsUserName\")||o(),this.save()):(s.log(\"localStorage is not supported\"),this.userId=r(),this.callStatsUserName=o())}var s=n(9).getLogger(t),c=n(143);a.prototype.save=function(){var e=i();e&&(e.setItem(\"jitsiMeetId\",this.userId),e.setItem(\"callStatsUserName\",this.callStatsUserName))},a.prototype.getUserId=function(){return this.userId},a.prototype.getCallStatsUserName=function(){return this.callStatsUserName},a.prototype.setSessionId=function(e){var t=i();t&&(e?t.setItem(\"sessionId\",e):t.removeItem(\"sessionId\"))},a.prototype.clearSessionId=function(){this.setSessionId(void 0)},a.prototype.getSessionId=function(){var e=i();return e?e.getItem(\"sessionId\"):void 0},e.exports=a}).call(t,\"modules/settings/Settings.js\")},function(e,t,n){\"use strict\";var i=n(31),r=[\"Aaliyah\",\"Aaron\",\"Abagail\",\"Abbey\",\"Abbie\",\"Abbigail\",\"Abby\",\"Abdiel\",\"Abdul\",\"Abdullah\",\"Abe\",\"Abel\",\"Abelardo\",\"Abigail\",\"Abigale\",\"Abigayle\",\"Abner\",\"Abraham\",\"Ada\",\"Adah\",\"Adalberto\",\"Adaline\",\"Adam\",\"Adan\",\"Addie\",\"Addison\",\"Adela\",\"Adelbert\",\"Adele\",\"Adelia\",\"Adeline\",\"Adell\",\"Adella\",\"Adelle\",\"Aditya\",\"Adolf\",\"Adolfo\",\"Adolph\",\"Adolphus\",\"Adonis\",\"Adrain\",\"Adrian\",\"Adriana\",\"Adrianna\",\"Adriel\",\"Adrien\",\"Adrienne\",\"Afton\",\"Aglae\",\"Agnes\",\"Agustin\",\"Agustina\",\"Ahmad\",\"Ahmed\",\"Aida\",\"Aidan\",\"Aiden\",\"Aileen\",\"Aimee\",\"Aisha\",\"Aiyana\",\"Akeem\",\"Al\",\"Alaina\",\"Alan\",\"Alana\",\"Alanis\",\"Alanna\",\"Alayna\",\"Alba\",\"Albert\",\"Alberta\",\"Albertha\",\"Alberto\",\"Albin\",\"Albina\",\"Alda\",\"Alden\",\"Alec\",\"Aleen\",\"Alejandra\",\"Alejandrin\",\"Alek\",\"Alena\",\"Alene\",\"Alessandra\",\"Alessandro\",\"Alessia\",\"Aletha\",\"Alex\",\"Alexa\",\"Alexander\",\"Alexandra\",\"Alexandre\",\"Alexandrea\",\"Alexandria\",\"Alexandrine\",\"Alexandro\",\"Alexane\",\"Alexanne\",\"Alexie\",\"Alexis\",\"Alexys\",\"Alexzander\",\"Alf\",\"Alfonso\",\"Alfonzo\",\"Alford\",\"Alfred\",\"Alfreda\",\"Alfredo\",\"Ali\",\"Alia\",\"Alice\",\"Alicia\",\"Alisa\",\"Alisha\",\"Alison\",\"Alivia\",\"Aliya\",\"Aliyah\",\"Aliza\",\"Alize\",\"Allan\",\"Allen\",\"Allene\",\"Allie\",\"Allison\",\"Ally\",\"Alphonso\",\"Alta\",\"Althea\",\"Alva\",\"Alvah\",\"Alvena\",\"Alvera\",\"Alverta\",\"Alvina\",\"Alvis\",\"Alyce\",\"Alycia\",\"Alysa\",\"Alysha\",\"Alyson\",\"Alysson\",\"Amalia\",\"Amanda\",\"Amani\",\"Amara\",\"Amari\",\"Amaya\",\"Amber\",\"Ambrose\",\"Amelia\",\"Amelie\",\"Amely\",\"America\",\"Americo\",\"Amie\",\"Amina\",\"Amir\",\"Amira\",\"Amiya\",\"Amos\",\"Amparo\",\"Amy\",\"Amya\",\"Ana\",\"Anabel\",\"Anabelle\",\"Anahi\",\"Anais\",\"Anastacio\",\"Anastasia\",\"Anderson\",\"Andre\",\"Andreane\",\"Andreanne\",\"Andres\",\"Andrew\",\"Andy\",\"Angel\",\"Angela\",\"Angelica\",\"Angelina\",\"Angeline\",\"Angelita\",\"Angelo\",\"Angie\",\"Angus\",\"Anibal\",\"Anika\",\"Anissa\",\"Anita\",\"Aniya\",\"Aniyah\",\"Anjali\",\"Anna\",\"Annabel\",\"Annabell\",\"Annabelle\",\"Annalise\",\"Annamae\",\"Annamarie\",\"Anne\",\"Annetta\",\"Annette\",\"Annie\",\"Ansel\",\"Ansley\",\"Anthony\",\"Antoinette\",\"Antone\",\"Antonetta\",\"Antonette\",\"Antonia\",\"Antonietta\",\"Antonina\",\"Antonio\",\"Antwan\",\"Antwon\",\"Anya\",\"April\",\"Ara\",\"Araceli\",\"Aracely\",\"Arch\",\"Archibald\",\"Ardella\",\"Arden\",\"Ardith\",\"Arely\",\"Ari\",\"Ariane\",\"Arianna\",\"Aric\",\"Ariel\",\"Arielle\",\"Arjun\",\"Arlene\",\"Arlie\",\"Arlo\",\"Armand\",\"Armando\",\"Armani\",\"Arnaldo\",\"Arne\",\"Arno\",\"Arnold\",\"Arnoldo\",\"Arnulfo\",\"Aron\",\"Art\",\"Arthur\",\"Arturo\",\"Arvel\",\"Arvid\",\"Arvilla\",\"Aryanna\",\"Asa\",\"Asha\",\"Ashlee\",\"Ashleigh\",\"Ashley\",\"Ashly\",\"Ashlynn\",\"Ashton\",\"Ashtyn\",\"Asia\",\"Assunta\",\"Astrid\",\"Athena\",\"Aubree\",\"Aubrey\",\"Audie\",\"Audra\",\"Audreanne\",\"Audrey\",\"August\",\"Augusta\",\"Augustine\",\"Augustus\",\"Aurelia\",\"Aurelie\",\"Aurelio\",\"Aurore\",\"Austen\",\"Austin\",\"Austyn\",\"Autumn\",\"Ava\",\"Avery\",\"Avis\",\"Axel\",\"Ayana\",\"Ayden\",\"Ayla\",\"Aylin\",\"Baby\",\"Bailee\",\"Bailey\",\"Barbara\",\"Barney\",\"Baron\",\"Barrett\",\"Barry\",\"Bart\",\"Bartholome\",\"Barton\",\"Baylee\",\"Beatrice\",\"Beau\",\"Beaulah\",\"Bell\",\"Bella\",\"Belle\",\"Ben\",\"Benedict\",\"Benjamin\",\"Bennett\",\"Bennie\",\"Benny\",\"Benton\",\"Berenice\",\"Bernadette\",\"Bernadine\",\"Bernard\",\"Bernardo\",\"Berneice\",\"Bernhard\",\"Bernice\",\"Bernie\",\"Berniece\",\"Bernita\",\"Berry\",\"Bert\",\"Berta\",\"Bertha\",\"Bertram\",\"Bertrand\",\"Beryl\",\"Bessie\",\"Beth\",\"Bethany\",\"Bethel\",\"Betsy\",\"Bette\",\"Bettie\",\"Betty\",\"Bettye\",\"Beulah\",\"Beverly\",\"Bianka\",\"Bill\",\"Billie\",\"Billy\",\"Birdie\",\"Blair\",\"Blaise\",\"Blake\",\"Blanca\",\"Blanche\",\"Blaze\",\"Bo\",\"Bobbie\",\"Bobby\",\"Bonita\",\"Bonnie\",\"Boris\",\"Boyd\",\"Brad\",\"Braden\",\"Bradford\",\"Bradley\",\"Bradly\",\"Brady\",\"Braeden\",\"Brain\",\"Brandi\",\"Brando\",\"Brandon\",\"Brandt\",\"Brandy\",\"Brandyn\",\"Brannon\",\"Branson\",\"Brant\",\"Braulio\",\"Braxton\",\"Brayan\",\"Breana\",\"Breanna\",\"Breanne\",\"Brenda\",\"Brendan\",\"Brenden\",\"Brendon\",\"Brenna\",\"Brennan\",\"Brennon\",\"Brent\",\"Bret\",\"Brett\",\"Bria\",\"Brian\",\"Briana\",\"Brianne\",\"Brice\",\"Bridget\",\"Bridgette\",\"Bridie\",\"Brielle\",\"Brigitte\",\"Brionna\",\"Brisa\",\"Britney\",\"Brittany\",\"Brock\",\"Broderick\",\"Brody\",\"Brook\",\"Brooke\",\"Brooklyn\",\"Brooks\",\"Brown\",\"Bruce\",\"Bryana\",\"Bryce\",\"Brycen\",\"Bryon\",\"Buck\",\"Bud\",\"Buddy\",\"Buford\",\"Bulah\",\"Burdette\",\"Burley\",\"Burnice\",\"Buster\",\"Cade\",\"Caden\",\"Caesar\",\"Caitlyn\",\"Cale\",\"Caleb\",\"Caleigh\",\"Cali\",\"Calista\",\"Callie\",\"Camden\",\"Cameron\",\"Camila\",\"Camilla\",\"Camille\",\"Camren\",\"Camron\",\"Camryn\",\"Camylle\",\"Candace\",\"Candelario\",\"Candice\",\"Candida\",\"Candido\",\"Cara\",\"Carey\",\"Carissa\",\"Carlee\",\"Carleton\",\"Carley\",\"Carli\",\"Carlie\",\"Carlo\",\"Carlos\",\"Carlotta\",\"Carmel\",\"Carmela\",\"Carmella\",\"Carmelo\",\"Carmen\",\"Carmine\",\"Carol\",\"Carolanne\",\"Carole\",\"Carolina\",\"Caroline\",\"Carolyn\",\"Carolyne\",\"Carrie\",\"Carroll\",\"Carson\",\"Carter\",\"Cary\",\"Casandra\",\"Casey\",\"Casimer\",\"Casimir\",\"Casper\",\"Cassandra\",\"Cassandre\",\"Cassidy\",\"Cassie\",\"Catalina\",\"Caterina\",\"Catharine\",\"Catherine\",\"Cathrine\",\"Cathryn\",\"Cathy\",\"Cayla\",\"Ceasar\",\"Cecelia\",\"Cecil\",\"Cecile\",\"Cecilia\",\"Cedrick\",\"Celestine\",\"Celestino\",\"Celia\",\"Celine\",\"Cesar\",\"Chad\",\"Chadd\",\"Chadrick\",\"Chaim\",\"Chance\",\"Chandler\",\"Chanel\",\"Chanelle\",\"Charity\",\"Charlene\",\"Charles\",\"Charley\",\"Charlie\",\"Charlotte\",\"Chase\",\"Chasity\",\"Chauncey\",\"Chaya\",\"Chaz\",\"Chelsea\",\"Chelsey\",\"Chelsie\",\"Chesley\",\"Chester\",\"Chet\",\"Cheyanne\",\"Cheyenne\",\"Chloe\",\"Chris\",\"Christ\",\"Christa\",\"Christelle\",\"Christian\",\"Christiana\",\"Christina\",\"Christine\",\"Christop\",\"Christophe\",\"Christopher\",\"Christy\",\"Chyna\",\"Ciara\",\"Cicero\",\"Cielo\",\"Cierra\",\"Cindy\",\"Citlalli\",\"Clair\",\"Claire\",\"Clara\",\"Clarabelle\",\"Clare\",\"Clarissa\",\"Clark\",\"Claud\",\"Claude\",\"Claudia\",\"Claudie\",\"Claudine\",\"Clay\",\"Clemens\",\"Clement\",\"Clementina\",\"Clementine\",\"Clemmie\",\"Cleo\",\"Cleora\",\"Cleta\",\"Cletus\",\"Cleve\",\"Cleveland\",\"Clifford\",\"Clifton\",\"Clint\",\"Clinton\",\"Clotilde\",\"Clovis\",\"Cloyd\",\"Clyde\",\"Coby\",\"Cody\",\"Colby\",\"Cole\",\"Coleman\",\"Colin\",\"Colleen\",\"Collin\",\"Colt\",\"Colten\",\"Colton\",\"Columbus\",\"Concepcion\",\"Conner\",\"Connie\",\"Connor\",\"Conor\",\"Conrad\",\"Constance\",\"Constantin\",\"Consuelo\",\"Cooper\",\"Cora\",\"Coralie\",\"Corbin\",\"Cordelia\",\"Cordell\",\"Cordia\",\"Cordie\",\"Corene\",\"Corine\",\"Cornelius\",\"Cornell\",\"Corrine\",\"Cortez\",\"Cortney\",\"Cory\",\"Coty\",\"Courtney\",\"Coy\",\"Craig\",\"Crawford\",\"Creola\",\"Cristal\",\"Cristian\",\"Cristina\",\"Cristobal\",\"Cristopher\",\"Cruz\",\"Crystal\",\"Crystel\",\"Cullen\",\"Curt\",\"Curtis\",\"Cydney\",\"Cynthia\",\"Cyril\",\"Cyrus\",\"Dagmar\",\"Dahlia\",\"Daija\",\"Daisha\",\"Daisy\",\"Dakota\",\"Dale\",\"Dallas\",\"Dallin\",\"Dalton\",\"Damaris\",\"Dameon\",\"Damian\",\"Damien\",\"Damion\",\"Damon\",\"Dan\",\"Dana\",\"Dandre\",\"Dane\",\"D'angelo\",\"Dangelo\",\"Danial\",\"Daniela\",\"Daniella\",\"Danielle\",\"Danika\",\"Dannie\",\"Danny\",\"Dante\",\"Danyka\",\"Daphne\",\"Daphnee\",\"Daphney\",\"Darby\",\"Daren\",\"Darian\",\"Dariana\",\"Darien\",\"Dario\",\"Darion\",\"Darius\",\"Darlene\",\"Daron\",\"Darrel\",\"Darrell\",\"Darren\",\"Darrick\",\"Darrin\",\"Darrion\",\"Darron\",\"Darryl\",\"Darwin\",\"Daryl\",\"Dashawn\",\"Dasia\",\"Dave\",\"David\",\"Davin\",\"Davion\",\"Davon\",\"Davonte\",\"Dawn\",\"Dawson\",\"Dax\",\"Dayana\",\"Dayna\",\"Dayne\",\"Dayton\",\"Dean\",\"Deangelo\",\"Deanna\",\"Deborah\",\"Declan\",\"Dedric\",\"Dedrick\",\"Dee\",\"Deion\",\"Deja\",\"Dejah\",\"Dejon\",\"Dejuan\",\"Delaney\",\"Delbert\",\"Delfina\",\"Delia\",\"Delilah\",\"Dell\",\"Della\",\"Delmer\",\"Delores\",\"Delpha\",\"Delphia\",\"Delphine\",\"Delta\",\"Demarco\",\"Demarcus\",\"Demario\",\"Demetris\",\"Demetrius\",\"Demond\",\"Dena\",\"Denis\",\"Dennis\",\"Deon\",\"Deondre\",\"Deontae\",\"Deonte\",\"Dereck\",\"Derek\",\"Derick\",\"Deron\",\"Derrick\",\"Deshaun\",\"Deshawn\",\"Desiree\",\"Desmond\",\"Dessie\",\"Destany\",\"Destin\",\"Destinee\",\"Destiney\",\"Destini\",\"Destiny\",\"Devan\",\"Devante\",\"Deven\",\"Devin\",\"Devon\",\"Devonte\",\"Devyn\",\"Dewayne\",\"Dewitt\",\"Dexter\",\"Diamond\",\"Diana\",\"Dianna\",\"Diego\",\"Dillan\",\"Dillon\",\"Dimitri\",\"Dina\",\"Dino\",\"Dion\",\"Dixie\",\"Dock\",\"Dolly\",\"Dolores\",\"Domenic\",\"Domenica\",\"Domenick\",\"Domenico\",\"Domingo\",\"Dominic\",\"Dominique\",\"Don\",\"Donald\",\"Donato\",\"Donavon\",\"Donna\",\"Donnell\",\"Donnie\",\"Donny\",\"Dora\",\"Dorcas\",\"Dorian\",\"Doris\",\"Dorothea\",\"Dorothy\",\"Dorris\",\"Dortha\",\"Dorthy\",\"Doug\",\"Douglas\",\"Dovie\",\"Doyle\",\"Drake\",\"Drew\",\"Duane\",\"Dudley\",\"Dulce\",\"Duncan\",\"Durward\",\"Dustin\",\"Dusty\",\"Dwight\",\"Dylan\",\"Earl\",\"Earlene\",\"Earline\",\"Earnest\",\"Earnestine\",\"Easter\",\"Easton\",\"Ebba\",\"Ebony\",\"Ed\",\"Eda\",\"Edd\",\"Eddie\",\"Eden\",\"Edgar\",\"Edgardo\",\"Edison\",\"Edmond\",\"Edmund\",\"Edna\",\"Eduardo\",\"Edward\",\"Edwardo\",\"Edwin\",\"Edwina\",\"Edyth\",\"Edythe\",\"Effie\",\"Efrain\",\"Efren\",\"Eileen\",\"Einar\",\"Eino\",\"Eladio\",\"Elaina\",\"Elbert\",\"Elda\",\"Eldon\",\"Eldora\",\"Eldred\",\"Eldridge\",\"Eleanora\",\"Eleanore\",\"Eleazar\",\"Electa\",\"Elena\",\"Elenor\",\"Elenora\",\"Eleonore\",\"Elfrieda\",\"Eli\",\"Elian\",\"Eliane\",\"Elias\",\"Eliezer\",\"Elijah\",\"Elinor\",\"Elinore\",\"Elisa\",\"Elisabeth\",\"Elise\",\"Eliseo\",\"Elisha\",\"Elissa\",\"Eliza\",\"Elizabeth\",\"Ella\",\"Ellen\",\"Ellie\",\"Elliot\",\"Elliott\",\"Ellis\",\"Ellsworth\",\"Elmer\",\"Elmira\",\"Elmo\",\"Elmore\",\"Elna\",\"Elnora\",\"Elody\",\"Eloisa\",\"Eloise\",\"Elouise\",\"Eloy\",\"Elroy\",\"Elsa\",\"Else\",\"Elsie\",\"Elta\",\"Elton\",\"Elva\",\"Elvera\",\"Elvie\",\"Elvis\",\"Elwin\",\"Elwyn\",\"Elyse\",\"Elyssa\",\"Elza\",\"Emanuel\",\"Emelia\",\"Emelie\",\"Emely\",\"Emerald\",\"Emerson\",\"Emery\",\"Emie\",\"Emil\",\"Emile\",\"Emilia\",\"Emiliano\",\"Emilie\",\"Emilio\",\"Emily\",\"Emma\",\"Emmalee\",\"Emmanuel\",\"Emmanuelle\",\"Emmet\",\"Emmett\",\"Emmie\",\"Emmitt\",\"Emmy\",\"Emory\",\"Ena\",\"Enid\",\"Enoch\",\"Enola\",\"Enos\",\"Enrico\",\"Enrique\",\"Ephraim\",\"Era\",\"Eriberto\",\"Eric\",\"Erica\",\"Erich\",\"Erick\",\"Ericka\",\"Erik\",\"Erika\",\"Erin\",\"Erling\",\"Erna\",\"Ernest\",\"Ernestina\",\"Ernestine\",\"Ernesto\",\"Ernie\",\"Ervin\",\"Erwin\",\"Eryn\",\"Esmeralda\",\"Esperanza\",\"Esta\",\"Esteban\",\"Estefania\",\"Estel\",\"Estell\",\"Estella\",\"Estelle\",\"Estevan\",\"Esther\",\"Estrella\",\"Etha\",\"Ethan\",\"Ethel\",\"Ethelyn\",\"Ethyl\",\"Ettie\",\"Eudora\",\"Eugene\",\"Eugenia\",\"Eula\",\"Eulah\",\"Eulalia\",\"Euna\",\"Eunice\",\"Eusebio\",\"Eva\",\"Evalyn\",\"Evan\",\"Evangeline\",\"Evans\",\"Eve\",\"Eveline\",\"Evelyn\",\"Everardo\",\"Everett\",\"Everette\",\"Evert\",\"Evie\",\"Ewald\",\"Ewell\",\"Ezekiel\",\"Ezequiel\",\"Ezra\",\"Fabian\",\"Fabiola\",\"Fae\",\"Fannie\",\"Fanny\",\"Fatima\",\"Faustino\",\"Fausto\",\"Favian\",\"Fay\",\"Faye\",\"Federico\",\"Felicia\",\"Felicita\",\"Felicity\",\"Felipa\",\"Felipe\",\"Felix\",\"Felton\",\"Fermin\",\"Fern\",\"Fernando\",\"Ferne\",\"Fidel\",\"Filiberto\",\"Filomena\",\"Finn\",\"Fiona\",\"Flavie\",\"Flavio\",\"Fleta\",\"Fletcher\",\"Flo\",\"Florence\",\"Florencio\",\"Florian\",\"Florida\",\"Florine\",\"Flossie\",\"Floy\",\"Floyd\",\"Ford\",\"Forest\",\"Forrest\",\"Foster\",\"Frances\",\"Francesca\",\"Francesco\",\"Francis\",\"Francisca\",\"Francisco\",\"Franco\",\"Frank\",\"Frankie\",\"Franz\",\"Fred\",\"Freda\",\"Freddie\",\"Freddy\",\"Frederic\",\"Frederick\",\"Frederik\",\"Frederique\",\"Fredrick\",\"Fredy\",\"Freeda\",\"Freeman\",\"Freida\",\"Frida\",\"Frieda\",\"Friedrich\",\"Fritz\",\"Furman\",\"Gabe\",\"Gabriel\",\"Gabriella\",\"Gabrielle\",\"Gaetano\",\"Gage\",\"Gail\",\"Gardner\",\"Garett\",\"Garfield\",\"Garland\",\"Garnet\",\"Garnett\",\"Garret\",\"Garrett\",\"Garrick\",\"Garrison\",\"Garry\",\"Garth\",\"Gaston\",\"Gavin\",\"Gay\",\"Gayle\",\"Gaylord\",\"Gene\",\"General\",\"Genesis\",\"Genevieve\",\"Gennaro\",\"Genoveva\",\"Geo\",\"Geoffrey\",\"George\",\"Georgette\",\"Georgiana\",\"Georgianna\",\"Geovanni\",\"Geovanny\",\"Geovany\",\"Gerald\",\"Geraldine\",\"Gerard\",\"Gerardo\",\"Gerda\",\"Gerhard\",\"Germaine\",\"German\",\"Gerry\",\"Gerson\",\"Gertrude\",\"Gia\",\"Gianni\",\"Gideon\",\"Gilbert\",\"Gilberto\",\"Gilda\",\"Giles\",\"Gillian\",\"Gina\",\"Gino\",\"Giovani\",\"Giovanna\",\"Giovanni\",\"Giovanny\",\"Gisselle\",\"Giuseppe\",\"Gladyce\",\"Gladys\",\"Glen\",\"Glenda\",\"Glenna\",\"Glennie\",\"Gloria\",\"Godfrey\",\"Golda\",\"Golden\",\"Gonzalo\",\"Gordon\",\"Grace\",\"Gracie\",\"Graciela\",\"Grady\",\"Graham\",\"Grant\",\"Granville\",\"Grayce\",\"Grayson\",\"Green\",\"Greg\",\"Gregg\",\"Gregoria\",\"Gregorio\",\"Gregory\",\"Greta\",\"Gretchen\",\"Greyson\",\"Griffin\",\"Grover\",\"Guadalupe\",\"Gudrun\",\"Guido\",\"Guillermo\",\"Guiseppe\",\"Gunnar\",\"Gunner\",\"Gus\",\"Gussie\",\"Gust\",\"Gustave\",\"Guy\",\"Gwen\",\"Gwendolyn\",\"Hadley\",\"Hailee\",\"Hailey\",\"Hailie\",\"Hal\",\"Haleigh\",\"Haley\",\"Halie\",\"Halle\",\"Hallie\",\"Hank\",\"Hanna\",\"Hannah\",\"Hans\",\"Hardy\",\"Harley\",\"Harmon\",\"Harmony\",\"Harold\",\"Harrison\",\"Harry\",\"Harvey\",\"Haskell\",\"Hassan\",\"Hassie\",\"Hattie\",\"Haven\",\"Hayden\",\"Haylee\",\"Hayley\",\"Haylie\",\"Hazel\",\"Hazle\",\"Heath\",\"Heather\",\"Heaven\",\"Heber\",\"Hector\",\"Heidi\",\"Helen\",\"Helena\",\"Helene\",\"Helga\",\"Hellen\",\"Helmer\",\"Heloise\",\"Henderson\",\"Henri\",\"Henriette\",\"Henry\",\"Herbert\",\"Herman\",\"Hermann\",\"Hermina\",\"Herminia\",\"Herminio\",\"Hershel\",\"Herta\",\"Hertha\",\"Hester\",\"Hettie\",\"Hilario\",\"Hilbert\",\"Hilda\",\"Hildegard\",\"Hillard\",\"Hillary\",\"Hilma\",\"Hilton\",\"Hipolito\",\"Hiram\",\"Hobart\",\"Holden\",\"Hollie\",\"Hollis\",\"Holly\",\"Hope\",\"Horace\",\"Horacio\",\"Hortense\",\"Hosea\",\"Houston\",\"Howard\",\"Howell\",\"Hoyt\",\"Hubert\",\"Hudson\",\"Hugh\",\"Hulda\",\"Humberto\",\"Hunter\",\"Hyman\",\"Ian\",\"Ibrahim\",\"Icie\",\"Ida\",\"Idell\",\"Idella\",\"Ignacio\",\"Ignatius\",\"Ike\",\"Ila\",\"Ilene\",\"Iliana\",\"Ima\",\"Imani\",\"Imelda\",\"Immanuel\",\"Imogene\",\"Ines\",\"Irma\",\"Irving\",\"Irwin\",\"Isaac\",\"Isabel\",\"Isabell\",\"Isabella\",\"Isabelle\",\"Isac\",\"Isadore\",\"Isai\",\"Isaiah\",\"Isaias\",\"Isidro\",\"Ismael\",\"Isobel\",\"Isom\",\"Israel\",\"Issac\",\"Itzel\",\"Iva\",\"Ivah\",\"Ivory\",\"Ivy\",\"Izabella\",\"Izaiah\",\"Jabari\",\"Jace\",\"Jacey\",\"Jacinthe\",\"Jacinto\",\"Jack\",\"Jackeline\",\"Jackie\",\"Jacklyn\",\"Jackson\",\"Jacky\",\"Jaclyn\",\"Jacquelyn\",\"Jacques\",\"Jacynthe\",\"Jada\",\"Jade\",\"Jaden\",\"Jadon\",\"Jadyn\",\"Jaeden\",\"Jaida\",\"Jaiden\",\"Jailyn\",\"Jaime\",\"Jairo\",\"Jakayla\",\"Jake\",\"Jakob\",\"Jaleel\",\"Jalen\",\"Jalon\",\"Jalyn\",\"Jamaal\",\"Jamal\",\"Jamar\",\"Jamarcus\",\"Jamel\",\"Jameson\",\"Jamey\",\"Jamie\",\"Jamil\",\"Jamir\",\"Jamison\",\"Jammie\",\"Jan\",\"Jana\",\"Janae\",\"Jane\",\"Janelle\",\"Janessa\",\"Janet\",\"Janice\",\"Janick\",\"Janie\",\"Janis\",\"Janiya\",\"Jannie\",\"Jany\",\"Jaquan\",\"Jaquelin\",\"Jaqueline\",\"Jared\",\"Jaren\",\"Jarod\",\"Jaron\",\"Jarred\",\"Jarrell\",\"Jarret\",\"Jarrett\",\"Jarrod\",\"Jarvis\",\"Jasen\",\"Jasmin\",\"Jason\",\"Jasper\",\"Jaunita\",\"Javier\",\"Javon\",\"Javonte\",\"Jay\",\"Jayce\",\"Jaycee\",\"Jayda\",\"Jayde\",\"Jayden\",\"Jaydon\",\"Jaylan\",\"Jaylen\",\"Jaylin\",\"Jaylon\",\"Jayme\",\"Jayne\",\"Jayson\",\"Jazlyn\",\"Jazmin\",\"Jazmyn\",\"Jazmyne\",\"Jean\",\"Jeanette\",\"Jeanie\",\"Jeanne\",\"Jed\",\"Jedediah\",\"Jedidiah\",\"Jeff\",\"Jefferey\",\"Jeffery\",\"Jeffrey\",\"Jeffry\",\"Jena\",\"Jenifer\",\"Jennie\",\"Jennifer\",\"Jennings\",\"Jennyfer\",\"Jensen\",\"Jerad\",\"Jerald\",\"Jeramie\",\"Jeramy\",\"Jerel\",\"Jeremie\",\"Jeremy\",\"Jermain\",\"Jermaine\",\"Jermey\",\"Jerod\",\"Jerome\",\"Jeromy\",\"Jerrell\",\"Jerrod\",\"Jerrold\",\"Jerry\",\"Jess\",\"Jesse\",\"Jessica\",\"Jessie\",\"Jessika\",\"Jessy\",\"Jessyca\",\"Jesus\",\"Jett\",\"Jettie\",\"Jevon\",\"Jewel\",\"Jewell\",\"Jillian\",\"Jimmie\",\"Jimmy\",\"Jo\",\"Joan\",\"Joana\",\"Joanie\",\"Joanne\",\"Joannie\",\"Joanny\",\"Joany\",\"Joaquin\",\"Jocelyn\",\"Jodie\",\"Jody\",\"Joe\",\"Joel\",\"Joelle\",\"Joesph\",\"Joey\",\"Johan\",\"Johann\",\"Johanna\",\"Johathan\",\"John\",\"Johnathan\",\"Johnathon\",\"Johnnie\",\"Johnny\",\"Johnpaul\",\"Johnson\",\"Jolie\",\"Jon\",\"Jonas\",\"Jonatan\",\"Jonathan\",\"Jonathon\",\"Jordan\",\"Jordane\",\"Jordi\",\"Jordon\",\"Jordy\",\"Jordyn\",\"Jorge\",\"Jose\",\"Josefa\",\"Josefina\",\"Joseph\",\"Josephine\",\"Josh\",\"Joshua\",\"Joshuah\",\"Josiah\",\"Josiane\",\"Josianne\",\"Josie\",\"Josue\",\"Jovan\",\"Jovani\",\"Jovanny\",\"Jovany\",\"Joy\",\"Joyce\",\"Juana\",\"Juanita\",\"Judah\",\"Judd\",\"Jude\",\"Judge\",\"Judson\",\"Judy\",\"Jules\",\"Julia\",\"Julian\",\"Juliana\",\"Julianne\",\"Julie\",\"Julien\",\"Juliet\",\"Julio\",\"Julius\",\"June\",\"Junior\",\"Junius\",\"Justen\",\"Justice\",\"Justina\",\"Justine\",\"Juston\",\"Justus\",\"Justyn\",\"Juvenal\",\"Juwan\",\"Kacey\",\"Kaci\",\"Kacie\",\"Kade\",\"Kaden\",\"Kadin\",\"Kaela\",\"Kaelyn\",\"Kaia\",\"Kailee\",\"Kailey\",\"Kailyn\",\"Kaitlin\",\"Kaitlyn\",\"Kale\",\"Kaleb\",\"Kaleigh\",\"Kaley\",\"Kali\",\"Kallie\",\"Kameron\",\"Kamille\",\"Kamren\",\"Kamron\",\"Kamryn\",\"Kane\",\"Kara\",\"Kareem\",\"Karelle\",\"Karen\",\"Kari\",\"Kariane\",\"Karianne\",\"Karina\",\"Karine\",\"Karl\",\"Karlee\",\"Karley\",\"Karli\",\"Karlie\",\"Karolann\",\"Karson\",\"Kasandra\",\"Kasey\",\"Kassandra\",\"Katarina\",\"Katelin\",\"Katelyn\",\"Katelynn\",\"Katharina\",\"Katherine\",\"Katheryn\",\"Kathleen\",\"Kathlyn\",\"Kathryn\",\"Kathryne\",\"Katlyn\",\"Katlynn\",\"Katrina\",\"Katrine\",\"Kattie\",\"Kavon\",\"Kay\",\"Kaya\",\"Kaycee\",\"Kayden\",\"Kayla\",\"Kaylah\",\"Kaylee\",\"Kayleigh\",\"Kayley\",\"Kayli\",\"Kaylie\",\"Kaylin\",\"Keagan\",\"Keanu\",\"Keara\",\"Keaton\",\"Keegan\",\"Keeley\",\"Keely\",\"Keenan\",\"Keira\",\"Keith\",\"Kellen\",\"Kelley\",\"Kelli\",\"Kellie\",\"Kelly\",\"Kelsi\",\"Kelsie\",\"Kelton\",\"Kelvin\",\"Ken\",\"Kendall\",\"Kendra\",\"Kendrick\",\"Kenna\",\"Kennedi\",\"Kennedy\",\"Kenneth\",\"Kennith\",\"Kenny\",\"Kenton\",\"Kenya\",\"Kenyatta\",\"Kenyon\",\"Keon\",\"Keshaun\",\"Keshawn\",\"Keven\",\"Kevin\",\"Kevon\",\"Keyon\",\"Keyshawn\",\"Khalid\",\"Khalil\",\"Kian\",\"Kiana\",\"Kianna\",\"Kiara\",\"Kiarra\",\"Kiel\",\"Kiera\",\"Kieran\",\"Kiley\",\"Kim\",\"Kimberly\",\"King\",\"Kip\",\"Kira\",\"Kirk\",\"Kirsten\",\"Kirstin\",\"Kitty\",\"Kobe\",\"Koby\",\"Kody\",\"Kolby\",\"Kole\",\"Korbin\",\"Korey\",\"Kory\",\"Kraig\",\"Kris\",\"Krista\",\"Kristian\",\"Kristin\",\"Kristina\",\"Kristofer\",\"Kristoffer\",\"Kristopher\",\"Kristy\",\"Krystal\",\"Krystel\",\"Krystina\",\"Kurt\",\"Kurtis\",\"Kyla\",\"Kyle\",\"Kylee\",\"Kyleigh\",\"Kyler\",\"Kylie\",\"Kyra\",\"Lacey\",\"Lacy\",\"Ladarius\",\"Lafayette\",\"Laila\",\"Laisha\",\"Lamar\",\"Lambert\",\"Lamont\",\"Lance\",\"Landen\",\"Lane\",\"Laney\",\"Larissa\",\"Laron\",\"Larry\",\"Larue\",\"Laura\",\"Laurel\",\"Lauren\",\"Laurence\",\"Lauretta\",\"Lauriane\",\"Laurianne\",\"Laurie\",\"Laurine\",\"Laury\",\"Lauryn\",\"Lavada\",\"Lavern\",\"Laverna\",\"Laverne\",\"Lavina\",\"Lavinia\",\"Lavon\",\"Lavonne\",\"Lawrence\",\"Lawson\",\"Layla\",\"Layne\",\"Lazaro\",\"Lea\",\"Leann\",\"Leanna\",\"Leanne\",\"Leatha\",\"Leda\",\"Lee\",\"Leif\",\"Leila\",\"Leilani\",\"Lela\",\"Lelah\",\"Leland\",\"Lelia\",\"Lempi\",\"Lemuel\",\"Lenna\",\"Lennie\",\"Lenny\",\"Lenora\",\"Lenore\",\"Leo\",\"Leola\",\"Leon\",\"Leonard\",\"Leonardo\",\"Leone\",\"Leonel\",\"Leonie\",\"Leonor\",\"Leonora\",\"Leopold\",\"Leopoldo\",\"Leora\",\"Lera\",\"Lesley\",\"Leslie\",\"Lesly\",\"Lessie\",\"Lester\",\"Leta\",\"Letha\",\"Letitia\",\"Levi\",\"Lew\",\"Lewis\",\"Lexi\",\"Lexie\",\"Lexus\",\"Lia\",\"Liam\",\"Liana\",\"Libbie\",\"Libby\",\"Lila\",\"Lilian\",\"Liliana\",\"Liliane\",\"Lilla\",\"Lillian\",\"Lilliana\",\"Lillie\",\"Lilly\",\"Lily\",\"Lilyan\",\"Lina\",\"Lincoln\",\"Linda\",\"Lindsay\",\"Lindsey\",\"Linnea\",\"Linnie\",\"Linwood\",\"Lionel\",\"Lisa\",\"Lisandro\",\"Lisette\",\"Litzy\",\"Liza\",\"Lizeth\",\"Lizzie\",\"Llewellyn\",\"Lloyd\",\"Logan\",\"Lois\",\"Lola\",\"Lolita\",\"Loma\",\"Lon\",\"London\",\"Lonie\",\"Lonnie\",\"Lonny\",\"Lonzo\",\"Lora\",\"Loraine\",\"Loren\",\"Lorena\",\"Lorenz\",\"Lorenza\",\"Lorenzo\",\"Lori\",\"Lorine\",\"Lorna\",\"Lottie\",\"Lou\",\"Louie\",\"Louisa\",\"Lourdes\",\"Louvenia\",\"Lowell\",\"Loy\",\"Loyal\",\"Loyce\",\"Lucas\",\"Luciano\",\"Lucie\",\"Lucienne\",\"Lucile\",\"Lucinda\",\"Lucio\",\"Lucious\",\"Lucius\",\"Lucy\",\"Ludie\",\"Ludwig\",\"Lue\",\"Luella\",\"Luigi\",\"Luis\",\"Luisa\",\"Lukas\",\"Lula\",\"Lulu\",\"Luna\",\"Lupe\",\"Lura\",\"Lurline\",\"Luther\",\"Luz\",\"Lyda\",\"Lydia\",\"Lyla\",\"Lynn\",\"Lyric\",\"Lysanne\",\"Mabel\",\"Mabelle\",\"Mable\",\"Mac\",\"Macey\",\"Maci\",\"Macie\",\"Mack\",\"Mackenzie\",\"Macy\",\"Madaline\",\"Madalyn\",\"Maddison\",\"Madeline\",\"Madelyn\",\"Madelynn\",\"Madge\",\"Madie\",\"Madilyn\",\"Madisen\",\"Madison\",\"Madisyn\",\"Madonna\",\"Madyson\",\"Mae\",\"Maegan\",\"Maeve\",\"Mafalda\",\"Magali\",\"Magdalen\",\"Magdalena\",\"Maggie\",\"Magnolia\",\"Magnus\",\"Maia\",\"Maida\",\"Maiya\",\"Major\",\"Makayla\",\"Makenna\",\"Makenzie\",\"Malachi\",\"Malcolm\",\"Malika\",\"Malinda\",\"Mallie\",\"Mallory\",\"Malvina\",\"Mandy\",\"Manley\",\"Manuel\",\"Manuela\",\"Mara\",\"Marc\",\"Marcel\",\"Marcelina\",\"Marcelino\",\"Marcella\",\"Marcelle\",\"Marcellus\",\"Marcelo\",\"Marcia\",\"Marco\",\"Marcos\",\"Marcus\",\"Margaret\",\"Margarete\",\"Margarett\",\"Margaretta\",\"Margarette\",\"Margarita\",\"Marge\",\"Margie\",\"Margot\",\"Margret\",\"Marguerite\",\"Maria\",\"Mariah\",\"Mariam\",\"Marian\",\"Mariana\",\"Mariane\",\"Marianna\",\"Marianne\",\"Mariano\",\"Maribel\",\"Marie\",\"Mariela\",\"Marielle\",\"Marietta\",\"Marilie\",\"Marilou\",\"Marilyne\",\"Marina\",\"Mario\",\"Marion\",\"Marisa\",\"Marisol\",\"Maritza\",\"Marjolaine\",\"Marjorie\",\"Marjory\",\"Mark\",\"Markus\",\"Marlee\",\"Marlen\",\"Marlene\",\"Marley\",\"Marlin\",\"Marlon\",\"Marques\",\"Marquis\",\"Marquise\",\"Marshall\",\"Marta\",\"Martin\",\"Martina\",\"Martine\",\"Marty\",\"Marvin\",\"Mary\",\"Maryam\",\"Maryjane\",\"Maryse\",\"Mason\",\"Mateo\",\"Mathew\",\"Mathias\",\"Mathilde\",\"Matilda\",\"Matilde\",\"Matt\",\"Matteo\",\"Mattie\",\"Maud\",\"Maude\",\"Maudie\",\"Maureen\",\"Maurice\",\"Mauricio\",\"Maurine\",\"Maverick\",\"Mavis\",\"Max\",\"Maxie\",\"Maxime\",\"Maximilian\",\"Maximillia\",\"Maximillian\",\"Maximo\",\"Maximus\",\"Maxine\",\"Maxwell\",\"May\",\"Maya\",\"Maybell\",\"Maybelle\",\"Maye\",\"Maymie\",\"Maynard\",\"Mayra\",\"Mazie\",\"Mckayla\",\"Mckenna\",\"Mckenzie\",\"Meagan\",\"Meaghan\",\"Meda\",\"Megane\",\"Meggie\",\"Meghan\",\"Mekhi\",\"Melany\",\"Melba\",\"Melisa\",\"Melissa\",\"Mellie\",\"Melody\",\"Melvin\",\"Melvina\",\"Melyna\",\"Melyssa\",\"Mercedes\",\"Meredith\",\"Merl\",\"Merle\",\"Merlin\",\"Merritt\",\"Mertie\",\"Mervin\",\"Meta\",\"Mia\",\"Micaela\",\"Micah\",\"Michael\",\"Michaela\",\"Michale\",\"Micheal\",\"Michel\",\"Michele\",\"Michelle\",\"Miguel\",\"Mikayla\",\"Mike\",\"Mikel\",\"Milan\",\"Miles\",\"Milford\",\"Miller\",\"Millie\",\"Milo\",\"Milton\",\"Mina\",\"Minerva\",\"Minnie\",\"Miracle\",\"Mireille\",\"Mireya\",\"Misael\",\"Missouri\",\"Misty\",\"Mitchel\",\"Mitchell\",\"Mittie\",\"Modesta\",\"Modesto\",\"Mohamed\",\"Mohammad\",\"Mohammed\",\"Moises\",\"Mollie\",\"Molly\",\"Mona\",\"Monica\",\"Monique\",\"Monroe\",\"Monserrat\",\"Monserrate\",\"Montana\",\"Monte\",\"Monty\",\"Morgan\",\"Moriah\",\"Morris\",\"Mortimer\",\"Morton\",\"Mose\",\"Moses\",\"Moshe\",\"Mossie\",\"Mozell\",\"Mozelle\",\"Muhammad\",\"Muriel\",\"Murl\",\"Murphy\",\"Murray\",\"Mustafa\",\"Mya\",\"Myah\",\"Mylene\",\"Myles\",\"Myra\",\"Myriam\",\"Myrl\",\"Myrna\",\"Myron\",\"Myrtice\",\"Myrtie\",\"Myrtis\",\"Myrtle\",\"Nadia\",\"Nakia\",\"Name\",\"Nannie\",\"Naomi\",\"Naomie\",\"Napoleon\",\"Narciso\",\"Nash\",\"Nasir\",\"Nat\",\"Natalia\",\"Natalie\",\"Natasha\",\"Nathan\",\"Nathanael\",\"Nathanial\",\"Nathaniel\",\"Nathen\",\"Nayeli\",\"Neal\",\"Ned\",\"Nedra\",\"Neha\",\"Neil\",\"Nelda\",\"Nella\",\"Nelle\",\"Nellie\",\"Nels\",\"Nelson\",\"Neoma\",\"Nestor\",\"Nettie\",\"Neva\",\"Newell\",\"Newton\",\"Nia\",\"Nicholas\",\"Nicholaus\",\"Nichole\",\"Nick\",\"Nicklaus\",\"Nickolas\",\"Nico\",\"Nicola\",\"Nicolas\",\"Nicole\",\"Nicolette\",\"Nigel\",\"Nikita\",\"Nikki\",\"Nikko\",\"Niko\",\"Nikolas\",\"Nils\",\"Nina\",\"Noah\",\"Noble\",\"Noe\",\"Noel\",\"Noelia\",\"Noemi\",\"Noemie\",\"Noemy\",\"Nola\",\"Nolan\",\"Nona\",\"Nora\",\"Norbert\",\"Norberto\",\"Norene\",\"Norma\",\"Norris\",\"Norval\",\"Norwood\",\"Nova\",\"Novella\",\"Nya\",\"Nyah\",\"Nyasia\",\"Obie\",\"Oceane\",\"Ocie\",\"Octavia\",\"Oda\",\"Odell\",\"Odessa\",\"Odie\",\"Ofelia\",\"Okey\",\"Ola\",\"Olaf\",\"Ole\",\"Olen\",\"Oleta\",\"Olga\",\"Olin\",\"Oliver\",\"Ollie\",\"Oma\",\"Omari\",\"Omer\",\"Ona\",\"Onie\",\"Opal\",\"Ophelia\",\"Ora\",\"Oral\",\"Oran\",\"Oren\",\"Orie\",\"Orin\",\"Orion\",\"Orland\",\"Orlando\",\"Orlo\",\"Orpha\",\"Orrin\",\"Orval\",\"Orville\",\"Osbaldo\",\"Osborne\",\"Oscar\",\"Osvaldo\",\"Oswald\",\"Oswaldo\",\"Otha\",\"Otho\",\"Otilia\",\"Otis\",\"Ottilie\",\"Ottis\",\"Otto\",\"Ova\",\"Owen\",\"Ozella\",\"Pablo\",\"Paige\",\"Palma\",\"Pamela\",\"Pansy\",\"Paolo\",\"Paris\",\"Parker\",\"Pascale\",\"Pasquale\",\"Pat\",\"Patience\",\"Patricia\",\"Patrick\",\"Patsy\",\"Pattie\",\"Paul\",\"Paula\",\"Pauline\",\"Paxton\",\"Payton\",\"Pearl\",\"Pearlie\",\"Pearline\",\"Pedro\",\"Peggie\",\"Penelope\",\"Percival\",\"Percy\",\"Perry\",\"Pete\",\"Peter\",\"Petra\",\"Peyton\",\"Philip\",\"Phoebe\",\"Phyllis\",\"Pierce\",\"Pierre\",\"Pietro\",\"Pink\",\"Pinkie\",\"Piper\",\"Polly\",\"Porter\",\"Precious\",\"Presley\",\"Preston\",\"Price\",\"Prince\",\"Princess\",\"Priscilla\",\"Providenci\",\"Prudence\",\"Queen\",\"Queenie\",\"Quentin\",\"Quincy\",\"Quinn\",\"Quinten\",\"Quinton\",\"Rachael\",\"Rachel\",\"Rachelle\",\"Rae\",\"Raegan\",\"Rafael\",\"Rafaela\",\"Raheem\",\"Rahsaan\",\"Rahul\",\"Raina\",\"Raleigh\",\"Ralph\",\"Ramiro\",\"Ramon\",\"Ramona\",\"Randal\",\"Randall\",\"Randi\",\"Randy\",\"Ransom\",\"Raoul\",\"Raphael\",\"Raphaelle\",\"Raquel\",\"Rashad\",\"Rashawn\",\"Rasheed\",\"Raul\",\"Raven\",\"Ray\",\"Raymond\",\"Raymundo\",\"Reagan\",\"Reanna\",\"Reba\",\"Rebeca\",\"Rebecca\",\"Rebeka\",\"Rebekah\",\"Reece\",\"Reed\",\"Reese\",\"Regan\",\"Reggie\",\"Reginald\",\"Reid\",\"Reilly\",\"Reina\",\"Reinhold\",\"Remington\",\"Rene\",\"Renee\",\"Ressie\",\"Reta\",\"Retha\",\"Retta\",\"Reuben\",\"Reva\",\"Rex\",\"Rey\",\"Reyes\",\"Reymundo\",\"Reyna\",\"Reynold\",\"Rhea\",\"Rhett\",\"Rhianna\",\"Rhiannon\",\"Rhoda\",\"Ricardo\",\"Richard\",\"Richie\",\"Richmond\",\"Rick\",\"Rickey\",\"Rickie\",\"Ricky\",\"Rico\",\"Rigoberto\",\"Riley\",\"Rita\",\"River\",\"Robb\",\"Robbie\",\"Robert\",\"Roberta\",\"Roberto\",\"Robin\",\"Robyn\",\"Rocio\",\"Rocky\",\"Rod\",\"Roderick\",\"Rodger\",\"Rodolfo\",\"Rodrick\",\"Rodrigo\",\"Roel\",\"Rogelio\",\"Roger\",\"Rogers\",\"Rolando\",\"Rollin\",\"Roma\",\"Romaine\",\"Roman\",\"Ron\",\"Ronaldo\",\"Ronny\",\"Roosevelt\",\"Rory\",\"Rosa\",\"Rosalee\",\"Rosalia\",\"Rosalind\",\"Rosalinda\",\"Rosalyn\",\"Rosamond\",\"Rosanna\",\"Rosario\",\"Roscoe\",\"Rose\",\"Rosella\",\"Roselyn\",\"Rosemarie\",\"Rosemary\",\"Rosendo\",\"Rosetta\",\"Rosie\",\"Rosina\",\"Roslyn\",\"Ross\",\"Rossie\",\"Rowan\",\"Rowena\",\"Rowland\",\"Roxane\",\"Roxanne\",\"Roy\",\"Royal\",\"Royce\",\"Rozella\",\"Ruben\",\"Rubie\",\"Ruby\",\"Rubye\",\"Rudolph\",\"Rudy\",\"Rupert\",\"Russ\",\"Russel\",\"Russell\",\"Rusty\",\"Ruth\",\"Ruthe\",\"Ruthie\",\"Ryan\",\"Ryann\",\"Ryder\",\"Rylan\",\"Rylee\",\"Ryleigh\",\"Ryley\",\"Sabina\",\"Sabrina\",\"Sabryna\",\"Sadie\",\"Sadye\",\"Sage\",\"Saige\",\"Sallie\",\"Sally\",\"Salma\",\"Salvador\",\"Salvatore\",\"Sam\",\"Samanta\",\"Samantha\",\"Samara\",\"Samir\",\"Sammie\",\"Sammy\",\"Samson\",\"Sandra\",\"Sandrine\",\"Sandy\",\"Sanford\",\"Santa\",\"Santiago\",\"Santina\",\"Santino\",\"Santos\",\"Sarah\",\"Sarai\",\"Sarina\",\"Sasha\",\"Saul\",\"Savanah\",\"Savanna\",\"Savannah\",\"Savion\",\"Scarlett\",\"Schuyler\",\"Scot\",\"Scottie\",\"Scotty\",\"Seamus\",\"Sean\",\"Sebastian\",\"Sedrick\",\"Selena\",\"Selina\",\"Selmer\",\"Serena\",\"Serenity\",\"Seth\",\"Shad\",\"Shaina\",\"Shakira\",\"Shana\",\"Shane\",\"Shanel\",\"Shanelle\",\"Shania\",\"Shanie\",\"Shaniya\",\"Shanna\",\"Shannon\",\"Shanny\",\"Shanon\",\"Shany\",\"Sharon\",\"Shaun\",\"Shawn\",\"Shawna\",\"Shaylee\",\"Shayna\",\"Shayne\",\"Shea\",\"Sheila\",\"Sheldon\",\"Shemar\",\"Sheridan\",\"Sherman\",\"Sherwood\",\"Shirley\",\"Shyann\",\"Shyanne\",\"Sibyl\",\"Sid\",\"Sidney\",\"Sienna\",\"Sierra\",\"Sigmund\",\"Sigrid\",\"Sigurd\",\"Silas\",\"Sim\",\"Simeon\",\"Simone\",\"Sincere\",\"Sister\",\"Skye\",\"Skyla\",\"Skylar\",\"Sofia\",\"Soledad\",\"Solon\",\"Sonia\",\"Sonny\",\"Sonya\",\"Sophia\",\"Sophie\",\"Spencer\",\"Stacey\",\"Stacy\",\"Stan\",\"Stanford\",\"Stanley\",\"Stanton\",\"Stefan\",\"Stefanie\",\"Stella\",\"Stephan\",\"Stephania\",\"Stephanie\",\"Stephany\",\"Stephen\",\"Stephon\",\"Sterling\",\"Steve\",\"Stevie\",\"Stewart\",\"Stone\",\"Stuart\",\"Summer\",\"Sunny\",\"Susan\",\"Susana\",\"Susanna\",\"Susie\",\"Suzanne\",\"Sven\",\"Syble\",\"Sydnee\",\"Sydney\",\"Sydni\",\"Sydnie\",\"Sylvan\",\"Sylvester\",\"Sylvia\",\"Tabitha\",\"Tad\",\"Talia\",\"Talon\",\"Tamara\",\"Tamia\",\"Tania\",\"Tanner\",\"Tanya\",\"Tara\",\"Taryn\",\"Tate\",\"Tatum\",\"Tatyana\",\"Taurean\",\"Tavares\",\"Taya\",\"Taylor\",\"Teagan\",\"Ted\",\"Telly\",\"Terence\",\"Teresa\",\"Terrance\",\"Terrell\",\"Terrence\",\"Terrill\",\"Terry\",\"Tess\",\"Tessie\",\"Tevin\",\"Thad\",\"Thaddeus\",\"Thalia\",\"Thea\",\"Thelma\",\"Theo\",\"Theodora\",\"Theodore\",\"Theresa\",\"Therese\",\"Theresia\",\"Theron\",\"Thomas\",\"Thora\",\"Thurman\",\"Tia\",\"Tiana\",\"Tianna\",\"Tiara\",\"Tierra\",\"Tiffany\",\"Tillman\",\"Timmothy\",\"Timmy\",\"Timothy\",\"Tina\",\"Tito\",\"Titus\",\"Tobin\",\"Toby\",\"Tod\",\"Tom\",\"Tomas\",\"Tomasa\",\"Tommie\",\"Toney\",\"Toni\",\"Tony\",\"Torey\",\"Torrance\",\"Torrey\",\"Toy\",\"Trace\",\"Tracey\",\"Tracy\",\"Travis\",\"Travon\",\"Tre\",\"Tremaine\",\"Tremayne\",\"Trent\",\"Trenton\",\"Tressa\",\"Tressie\",\"Treva\",\"Trever\",\"Trevion\",\"Trevor\",\"Trey\",\"Trinity\",\"Trisha\",\"Tristian\",\"Tristin\",\"Triston\",\"Troy\",\"Trudie\",\"Trycia\",\"Trystan\",\"Turner\",\"Twila\",\"Tyler\",\"Tyra\",\"Tyree\",\"Tyreek\",\"Tyrel\",\"Tyrell\",\"Tyrese\",\"Tyrique\",\"Tyshawn\",\"Tyson\",\"Ubaldo\",\"Ulices\",\"Ulises\",\"Una\",\"Unique\",\"Urban\",\"Uriah\",\"Uriel\",\"Ursula\",\"Vada\",\"Valentin\",\"Valentina\",\"Valentine\",\"Valerie\",\"Vallie\",\"Van\",\"Vance\",\"Vanessa\",\"Vaughn\",\"Veda\",\"Velda\",\"Vella\",\"Velma\",\"Velva\",\"Vena\",\"Verda\",\"Verdie\",\"Vergie\",\"Verla\",\"Verlie\",\"Vern\",\"Verna\",\"Verner\",\"Vernice\",\"Vernie\",\"Vernon\",\"Verona\",\"Veronica\",\"Vesta\",\"Vicenta\",\"Vicente\",\"Vickie\",\"Vicky\",\"Victor\",\"Victoria\",\"Vida\",\"Vidal\",\"Vilma\",\"Vince\",\"Vincent\",\"Vincenza\",\"Vincenzo\",\"Vinnie\",\"Viola\",\"Violet\",\"Violette\",\"Virgie\",\"Virgil\",\"Virginia\",\"Virginie\",\"Vita\",\"Vito\",\"Viva\",\"Vivian\",\"Viviane\",\"Vivianne\",\"Vivien\",\"Vivienne\",\"Vladimir\",\"Wade\",\"Waino\",\"Waldo\",\"Walker\",\"Wallace\",\"Walter\",\"Walton\",\"Wanda\",\"Ward\",\"Warren\",\"Watson\",\"Wava\",\"Waylon\",\"Wayne\",\"Webster\",\"Weldon\",\"Wellington\",\"Wendell\",\"Wendy\",\"Werner\",\"Westley\",\"Weston\",\"Whitney\",\"Wilber\",\"Wilbert\",\"Wilburn\",\"Wiley\",\"Wilford\",\"Wilfred\",\"Wilfredo\",\"Wilfrid\",\"Wilhelm\",\"Wilhelmine\",\"Will\",\"Willa\",\"Willard\",\"William\",\"Willie\",\"Willis\",\"Willow\",\"Willy\",\"Wilma\",\"Wilmer\",\"Wilson\",\"Wilton\",\"Winfield\",\"Winifred\",\"Winnifred\",\"Winona\",\"Winston\",\"Woodrow\",\"Wyatt\",\"Wyman\",\"Xander\",\"Xavier\",\"Xzavier\",\"Yadira\",\"Yasmeen\",\"Yasmin\",\"Yasmine\",\"Yazmin\",\"Yesenia\",\"Yessenia\",\"Yolanda\",\"Yoshiko\",\"Yvette\",\"Yvonne\",\"Zachariah\",\"Zachary\",\"Zachery\",\"Zack\",\"Zackary\",\"Zackery\",\"Zakary\",\"Zander\",\"Zane\",\"Zaria\",\"Zechariah\",\"Zelda\",\"Zella\",\"Zelma\",\"Zena\",\"Zetta\",\"Zion\",\"Zita\",\"Zoe\",\"Zoey\",\"Zoie\",\"Zoila\",\"Zola\",\"Zora\",\"Zula\"];e.exports={generateUsername:function(){return i.randomElement(r)+\"-\"+i.randomAlphanumStr(3)}}},function(e,t,n){(function(t){\"use strict\";function i(e){this.versions={},this.conference=e,this.conference.addCommandListener(\"versions\",this.processPresence.bind(this))}var r=n(9).getLogger(t),o=n(59);i.FOCUS_COMPONENT=\"focus\",i.VIDEOBRIDGE_COMPONENT=\"videobridge\",i.XMPP_SERVER_COMPONENT=\"xmpp\",i.prototype.processPresence=function(e,t,n){if(\"http://jitsi.org/jitmeet\"===e.attributes.xmlns)if(this.conference._isFocus(n)){var a=[];e.children.forEach((function(e){var t=e.attributes.name;if(t===i.FOCUS_COMPONENT||t===i.XMPP_SERVER_COMPONENT||t===i.VIDEOBRIDGE_COMPONENT){var n=e.value;this.versions[t]!==n&&(this.versions[t]=n,r.info(\"Got \"+t+\" version: \"+n),a.push({id:\"component_version\",component:t,version:n}))}else r.warn(\"Received version for not supported component name: \"+t)}).bind(this)),a.length>0&&o.sendLog(JSON.stringify(a))}else r.warn(\"Received versions not from the focus user: \"+e,n);else r.warn(\"Ignored presence versions node - invalid xmlns\",e)},i.prototype.getComponentVersion=function(e){return this.versions[e]},e.exports=i}).call(t,\"modules/version/ComponentsVersions.js\")},function(e,t,n){(function(t){\"use strict\";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){this.conference=e,e.on(a.TRACK_MUTE_CHANGED,(function(t){t.isLocal()&&e.statistics&&e.statistics.sendMuteEvent(t.isMuted(),t.getType())}))}var o=i(n(1)),a=i(n(2)),s=n(9).getLogger(t),c=n(146),l=n(35),u=n(49),d=n(38),p=n(59),h=n(36);r.prototype.setupChatRoomListeners=function(){var e=this.conference,t=e.room;this.chatRoomForwarder=new c(t,this.conference.eventEmitter),t.addListener(l.ICE_RESTARTING,(function(){e.rtc.closeAllDataChannels()})),t.addListener(l.REMOTE_TRACK_ADDED,(function(t){var n=e.rtc.createRemoteTrack(t);n&&e.onTrackAdded(n)})),t.addListener(l.REMOTE_TRACK_REMOVED,(function(t,n){e.getParticipants().forEach((function(i){for(var r=i.getTracks(),o=0;o<r.length;o++)if(r[o]&&r[o].getStreamId()==t&&r[o].getTrackId()==n){var s=i._tracks.splice(o,1)[0];return e.rtc.removeRemoteTrack(i.getId(),s.getType()),e.eventEmitter.emit(a.TRACK_REMOVED,s),void(e.transcriber&&e.transcriber.removeTrack(s))}}))})),t.addListener(l.AUDIO_MUTED_BY_FOCUS,(function(t){e.rtc.setAudioMute(t).then((function(){e.isMutedByFocus=!0}),(function(){s.warn(\"Error while audio muting due to focus request\")}))})),this.chatRoomForwarder.forward(l.SUBJECT_CHANGED,a.SUBJECT_CHANGED),this.chatRoomForwarder.forward(l.MUC_JOINED,a.CONFERENCE_JOINED),t.addListener(l.MUC_JOINED,(function(){for(var e in t.connectionTimes)p.analytics.sendEvent(\"conference.\"+e,{value:t.connectionTimes[e]});for(var n in t.xmpp.connectionTimes)p.analytics.sendEvent(\"xmpp.\"+n,{value:t.xmpp.connectionTimes[n]})})),this.chatRoomForwarder.forward(l.ROOM_JOIN_ERROR,a.CONFERENCE_FAILED,o.CONNECTION_ERROR),this.chatRoomForwarder.forward(l.ROOM_CONNECT_ERROR,a.CONFERENCE_FAILED,o.CONNECTION_ERROR),this.chatRoomForwarder.forward(l.ROOM_CONNECT_NOT_ALLOWED_ERROR,a.CONFERENCE_FAILED,o.NOT_ALLOWED_ERROR),this.chatRoomForwarder.forward(l.ROOM_MAX_USERS_ERROR,a.CONFERENCE_FAILED,o.CONFERENCE_MAX_USERS),this.chatRoomForwarder.forward(l.PASSWORD_REQUIRED,a.CONFERENCE_FAILED,o.PASSWORD_REQUIRED),this.chatRoomForwarder.forward(l.AUTHENTICATION_REQUIRED,a.CONFERENCE_FAILED,o.AUTHENTICATION_REQUIRED),this.chatRoomForwarder.forward(l.BRIDGE_DOWN,a.CONFERENCE_FAILED,o.VIDEOBRIDGE_NOT_AVAILABLE),t.addListener(l.BRIDGE_DOWN,(function(){p.analytics.sendEvent(\"conference.bridgeDown\")})),this.chatRoomForwarder.forward(l.RESERVATION_ERROR,a.CONFERENCE_FAILED,o.RESERVATION_ERROR),this.chatRoomForwarder.forward(l.GRACEFUL_SHUTDOWN,a.CONFERENCE_FAILED,o.GRACEFUL_SHUTDOWN),t.addListener(l.JINGLE_FATAL_ERROR,(function(t,n){e.eventEmitter.emit(a.CONFERENCE_FAILED,o.JINGLE_FATAL_ERROR,n)})),t.addListener(l.CONNECTION_ICE_FAILED,(function(){t.eventEmitter.emit(l.CONFERENCE_SETUP_FAILED,new Error(\"ICE fail\"))})),this.chatRoomForwarder.forward(l.MUC_DESTROYED,a.CONFERENCE_FAILED,o.CONFERENCE_DESTROYED),this.chatRoomForwarder.forward(l.CHAT_ERROR_RECEIVED,a.CONFERENCE_ERROR,o.CHAT_ERROR),this.chatRoomForwarder.forward(l.FOCUS_DISCONNECTED,a.CONFERENCE_FAILED,o.FOCUS_DISCONNECTED),t.addListener(l.FOCUS_LEFT,(function(){p.analytics.sendEvent(\"conference.focusLeft\"),e.eventEmitter.emit(a.CONFERENCE_FAILED,o.FOCUS_LEFT)})),t.addListener(l.SESSION_ACCEPT_TIMEOUT,(function(e){p.sendEventToAll(\"conference.error.\"+e)}).bind(null,\"sessionAcceptTimeout\")),this.chatRoomForwarder.forward(l.CONNECTION_INTERRUPTED,a.CONNECTION_INTERRUPTED),t.addListener(l.CONNECTION_INTERRUPTED,(function(){p.sendEventToAll(\"connection.interrupted\")})),this.chatRoomForwarder.forward(l.RECORDER_STATE_CHANGED,a.RECORDER_STATE_CHANGED),this.chatRoomForwarder.forward(l.PHONE_NUMBER_CHANGED,a.PHONE_NUMBER_CHANGED),this.chatRoomForwarder.forward(l.CONNECTION_RESTORED,a.CONNECTION_RESTORED),t.addListener(l.CONNECTION_RESTORED,(function(){p.sendEventToAll(\"connection.restored\")})),this.chatRoomForwarder.forward(l.CONFERENCE_SETUP_FAILED,a.CONFERENCE_FAILED,o.SETUP_FAILED),t.setParticipantPropertyListener((function(t,n){var i=e.getParticipantById(n);i&&i.setProperty(t.tagName.substring(\"jitsi_participant_\".length),t.value)})),this.chatRoomForwarder.forward(l.KICKED,a.KICKED),t.addListener(l.KICKED,(function(){e.room=null,e.leave.bind(e)})),this.chatRoomForwarder.forward(l.MUC_LOCK_CHANGED,a.LOCK_STATE_CHANGED),t.addListener(l.MUC_MEMBER_JOINED,e.onMemberJoined.bind(e)),t.addListener(l.MUC_MEMBER_LEFT,e.onMemberLeft.bind(e)),this.chatRoomForwarder.forward(l.MUC_LEFT,a.CONFERENCE_LEFT),t.addListener(l.DISPLAY_NAME_CHANGED,e.onDisplayNameChanged.bind(e)),t.addListener(l.LOCAL_ROLE_CHANGED,(function(t){e.eventEmitter.emit(a.USER_ROLE_CHANGED,e.myUserId(),t),e.statistics&&e.isModerator()&&e.on(a.RECORDER_STATE_CHANGED,(function(e,t){var n={id:\"recorder_status\",status:e};t&&(n.error=t),p.sendLog(JSON.stringify(n))}))})),t.addListener(l.MUC_ROLE_CHANGED,e.onUserRoleChanged.bind(e)),t.addListener(d.IDENTITY_UPDATED,(function(t,n){e.authEnabled=t,e.authIdentity=n,e.eventEmitter.emit(a.AUTH_STATUS_CHANGED,t,n)})),t.addListener(l.MESSAGE_RECEIVED,(function(t,n,i,r,o){var s=Strophe.getResourceFromJid(t);e.eventEmitter.emit(a.MESSAGE_RECEIVED,s,i,o)})),t.addListener(l.PRESENCE_STATUS,(function(t,n){var i=Strophe.getResourceFromJid(t),r=e.getParticipantById(i);r&&r._status!==n&&(r._status=n,e.eventEmitter.emit(a.USER_STATUS_CHANGED,i,n))})),e.room.addListener(l.LOCAL_UFRAG_CHANGED,(function(e){p.sendLog(JSON.stringify({id:\"local_ufrag\",value:e}))})),e.room.addListener(l.REMOTE_UFRAG_CHANGED,(function(e){p.sendLog(JSON.stringify({id:\"remote_ufrag\",value:e}))})),t.addPresenceListener(\"startmuted\",(function(t,n){var i=!1;if(e.myUserId()===n&&e.isModerator())i=!0;else{var r=e.getParticipantById(n);r&&r.isModerator()&&(i=!0)}if(i){var o=\"true\"===t.attributes.audio,s=\"true\"===t.attributes.video,c=!1;o!==e.startMutedPolicy.audio&&(e.startMutedPolicy.audio=o,c=!0),s!==e.startMutedPolicy.video&&(e.startMutedPolicy.video=s,c=!0),c&&e.eventEmitter.emit(a.START_MUTED_POLICY_CHANGED,e.startMutedPolicy)}})),t.addPresenceListener(\"videomuted\",(function(t,n){e.rtc.handleRemoteTrackMute(h.VIDEO,\"true\"==t.value,n)})),t.addPresenceListener(\"audiomuted\",(function(t,n){e.rtc.handleRemoteTrackMute(h.AUDIO,\"true\"==t.value,n)})),t.addPresenceListener(\"videoType\",(function(t,n){e.rtc.handleRemoteTrackVideoTypeChanged(t.value,n)})),t.addPresenceListener(\"devices\",(function(t,n){var i,r=!1,o=!1;if(t.children.forEach((function(e){\"audio\"===e.tagName&&(r=\"true\"===e.value),\"video\"===e.tagName&&(o=\"true\"===e.value)})),e.myUserId()===n)i=e.availableDevices;else{var s=e.getParticipantById(n);if(!s)return;i=s._availableDevices}var c=!1;i.audio!==r&&(c=!0,i.audio=r),i.video!==o&&(c=!0,i.video=o),c&&e.eventEmitter.emit(a.AVAILABLE_DEVICES_CHANGED,n,i)})),e.statistics&&(t.addListener(l.CONNECTION_ICE_FAILED,(function(t){e.statistics.sendIceConnectionFailedEvent(t)})),t.addListener(l.CREATE_OFFER_FAILED,(function(t,n){e.statistics.sendCreateOfferFailed(t,n)})),t.addListener(l.CREATE_ANSWER_FAILED,(function(t,n){e.statistics.sendCreateAnswerFailed(t,n)})),t.addListener(l.SET_LOCAL_DESCRIPTION_FAILED,(function(t,n){e.statistics.sendSetLocalDescFailed(t,n)})),t.addListener(l.SET_REMOTE_DESCRIPTION_FAILED,(function(t,n){e.statistics.sendSetRemoteDescFailed(t,n)})),t.addListener(l.ADD_ICE_CANDIDATE_FAILED,(function(t,n){e.statistics.sendAddIceCandidateFailed(t,n)})))},r.prototype.setupRTCListeners=function(){var e=this.conference;this.rtcForwarder=new c(e.rtc,this.conference.eventEmitter),e.rtc.addListener(u.DOMINANTSPEAKER_CHANGED,(function(t){e.lastDominantSpeaker!==t&&e.room&&(e.lastDominantSpeaker=t,e.eventEmitter.emit(a.DOMINANT_SPEAKER_CHANGED,t)),e.statistics&&e.myUserId()===t&&e.statistics.sendDominantSpeakerEvent()})),e.rtc.addListener(u.DATA_CHANNEL_OPEN,(function(){var t=window.performance.now();s.log(\"(TIME) data channel opened \",t),e.room.connectionTimes[\"data.channel.opened\"]=t,p.analytics.sendEvent(\"conference.dataChannel.open\",{value:t})})),this.rtcForwarder.forward(u.LASTN_CHANGED,a.IN_LAST_N_CHANGED),this.rtcForwarder.forward(u.LASTN_ENDPOINT_CHANGED,a.LAST_N_ENDPOINTS_CHANGED),e.rtc.addListener(u.AVAILABLE_DEVICES_CHANGED,(function(t){e.room.updateDeviceAvailability(t)})),e.rtc.addListener(u.ENDPOINT_MESSAGE_RECEIVED,(function(t,n){e.eventEmitter.emit(a.ENDPOINT_MESSAGE_RECEIVED,e.getParticipantById(t),n)}))},r.prototype.setupXMPPListeners=function(){var e=this.conference;e.xmpp.addListener(l.CALL_INCOMING,e.onIncomingCall.bind(e)),e.xmpp.addListener(l.CALL_ENDED,e.onCallEnded.bind(e)),e.xmpp.addListener(l.START_MUTED_FROM_FOCUS,(function(t,n){e.startAudioMuted=t,e.startVideoMuted=n,e.getLocalTracks().forEach((function(t){switch(t.getType()){case h.AUDIO:e.startAudioMuted&&t.mute();break;case h.VIDEO:e.startVideoMuted&&t.mute()}})),e.eventEmitter.emit(a.STARTED_MUTED)}))},r.prototype.setupStatisticsListeners=function(){var e=this.conference;e.statistics&&(e.statistics.addAudioLevelListener((function(t,n){var i=e.rtc.getResourceBySSRC(t);i&&e.rtc.setAudioLevel(i,n)})),e.statistics.addConnectionStatsListener((function(t){var n=t.resolution,i={};Object.keys(n).forEach((function(t){var r=n[t];if(r.width&&r.height&&-1!=r.width&&-1!=r.height){var o=e.rtc.getResourceBySSRC(t);if(o){var a=i[o]||{};a[t]=r,i[o]=a}}})),t.resolution=i,e.eventEmitter.emit(a.CONNECTION_STATS,t)})),e.statistics.addAudioProblemListener((function(t){e._reportAudioProblem(t)})),e.statistics.addByteSentStatsListener((function(t){e.getLocalTracks().forEach((function(e){var n=e.getSSRC();e.isAudioTrack()&&n&&t.hasOwnProperty(n)&&e._setByteSent(t[n])}))})))},e.exports=r}).call(t,\"JitsiConferenceEventManager.js\")},function(e,t){\"use strict\";function n(e,t){if(!e||!t||\"function\"!=typeof e.addListener||\"function\"!=typeof t.emit)throw new Error(\"Invalid arguments passed to EventEmitterForwarder\");this.src=e,this.dest=t}n.prototype.forward=function(){var e=arguments,t=e[0];e[0]=this.dest,this.src.addListener(t,Function.prototype.bind.apply(this.dest.emit,e))},e.exports=n},function(e,t,n){\"use strict\";var i=n(148),r=n(150),o=\"before\",a=\"recording\",s=\"transcribing\",c=\"finished\",l=function(){this.audioRecorder=new i,this.transcriptionService=new r,this.counter=null,this.startTime=null,this.transcription=null,this.callback=null,this.results=[],this.state=o,this.lineLength=0};l.prototype.start=function(){if(this.state!==o)throw new Error(\"The transcription can only start when it's in the\\\"\"+o+'\" state. It\\'s currently in the \"'+this.state+'\" state');this.state=a,this.audioRecorder.start(),this.startTime=new Date},l.prototype.stop=function(e){if(this.state!==a)throw new Error(\"The transcription can only stop when it's in the\\\"\"+a+'\" state. It\\'s currently in the \"'+this.state+'\" state');console.log(\"stopping recording and sending audio files\"),this.audioRecorder.stop();var t=this,n=u.bind(this);this.audioRecorder.getRecordingResults().forEach((function(e){t.transcriptionService.send(e,n),t.counter++})),this.state=s,this.callback=e};var u=function(e){if(console.log(\"retrieved an answer from the transcription service. The answer has an array of length: \"+e.wordArray.length),e.wordArray.length>0){var t=e.startTime.getUTCMilliseconds()-this.startTime.getUTCMilliseconds();t<0&&(t=0);var n=\"[\";e.wordArray.forEach((function(e){e.begin+=t,e.end+=t,n+=e.word+\",\"})),n+=\"]\",console.log(n),e.wordArray.name=e.name}this.results.push(e.wordArray),this.counter--,console.log(\"current counter: \"+this.counter),this.maybeMerge()};l.prototype.maybeMerge=function(){this.state===s&&0===this.counter&&this.merge()},l.prototype.merge=function(){console.log(\"starting merge process!\\n The length of the array: \"+this.results.length),this.transcription=\"\";var e,t,n,i=this.results,r=[];for(d(i),i.forEach((function(e){p(r,e)}));d(i);)for(e=i[0],i.forEach((function(t){t[0].begin<e[0].begin&&(e=t)})),t=e.shift(),this.updateTranscription(t,e.name);!n&&e.length>0;)i.forEach((function(t){t[0].begin<e[0].begin&&(n=!0)})),n||(t=e.shift(),this.updateTranscription(t,null));this.state=c,this.callback&&this.callback(this.transcription)},l.prototype.updateTranscription=function(e,t){null!=t&&(this.transcription+=\"\\n\"+t+\":\",this.lineLength=t.length+1),this.lineLength+e.word.length>80&&(this.transcription+=\"\\n    \",this.lineLength=4),this.transcription+=\" \"+e.word,this.lineLength+=e.word.length+1};var d=function(e){var t;for(t=0;t<e.length;t++)0===e[t].length&&e.splice(t,1);return e.length>0},p=function(e,t){if(0===e.length)e.push(t);else{if(e[e.length-1].begin<=t.begin)return void e.push(t);var n;for(n=0;n<e.length;n++)if(t.begin<e[n].begin)return void e.splice(n,0,t);e.push(t)}};l.prototype.addTrack=function(e){this.audioRecorder.addTrack(e)},l.prototype.removeTrack=function(e){this.audioRecorder.removeTrack(e)},l.prototype.getTranscription=function(){if(this.state!==c)throw new Error(\"The transcription can only be retrieved when it's in the\\\"\"+c+'\" state. It\\'s currently in the \"'+this.state+'\" state');return this.transcription},l.prototype.getState=function(){return this.state},l.prototype.reset=function(){this.state=o,this.counter=null,this.transcription=null,this.startTime=null,this.callback=null,this.results=[],this.lineLength=0},e.exports=l},function(e,t,n){\"use strict\";function i(e){if(void 0===e.recorder)throw new Error(\"Passed an object to startRecorder which is not a TrackRecorder object\");e.recorder.start(),e.startTime=new Date}function r(e){if(void 0===e.recorder)throw new Error(\"Passed an object to stopRecorder which is not a TrackRecorder object\");e.recorder.stop()}function o(){if(MediaRecorder.isTypeSupported(s))return s;if(MediaRecorder.isTypeSupported(c))return c;throw new Error(\"unable to create a MediaRecorder with theright mimetype!\")}var a=n(149),s=\"audio/webm\",c=\"audio/ogg\",l=function(e){this.track=e,this.recorder=null,this.data=null,this.name=null,this.startTime=null},u=function(e){this.recorders=[],this.fileType=o(),this.isRecording=!1,this.jitsiConference=e};u.determineCorrectFileType=o,u.prototype.addTrack=function(e){if(e.isAudioTrack()){var t=function(e){var t=new l(e),n=t.track.getOriginalStream(),i=function(){if(\"undefined\"!=typeof MediaStream)return new MediaStream;if(\"undefined\"!=typeof webkitMediaStream)return new webkitMediaStream;throw new Error(\"cannot create a clean mediaStream\")}();return n.getAudioTracks().forEach((function(e){i.addTrack(e)})),t.recorder=new MediaRecorder(i,{mimeType:u.fileType}),t.data=[],t.recorder.ondataavailable=function(e){e.data.size>0&&t.data.push(e.data)},t}(e);this.recorders.push(t),this.updateNames(),this.isRecording&&i(t)}},u.prototype.removeTrack=function(e){if(!e.isVideoTrack()){var t,n=this.recorders;for(t=0;t<n.length;t++)n[t].track.getParticipantId()===e.getParticipantId()&&(this.isRecording?r(n[t]):n.splice(t,1));this.updateNames()}},u.prototype.updateNames=function(){var e=this.jitsiConference;this.recorders.forEach((function(t){if(t.track.isLocal())t.name=\"the transcriber\";else{var n=t.track.getParticipantId(),i=e.getParticipantById(n).getDisplayName();\"undefined\"!==i&&(t.name=i)}}))},u.prototype.start=function(){if(this.isRecording)throw new Error(\"audiorecorder is already recording\");this.isRecording=!0,this.recorders.forEach((function(e){i(e)})),console.log(\"Started the recording of the audio. There are currently \"+this.recorders.length+\" recorders active.\")},u.prototype.stop=function(){this.isRecording=!1,this.recorders.forEach((function(e){r(e)})),console.log(\"stopped recording\")},u.prototype.download=function(){var e=this;this.recorders.forEach((function(t){var n=new Blob(t.data,{type:e.fileType}),i=URL.createObjectURL(n),r=document.createElement(\"a\");document.body.appendChild(r),r.style=\"display: none\",r.href=i,r.download=\"test.\"+e.fileType.split(\"/\")[1],r.click(),window.URL.revokeObjectURL(i)}))},u.prototype.getRecordingResults=function(){if(this.isRecording)throw new Error(\"cannot get blobs because the AudioRecorder is stillrecording!\");this.updateNames();var e=[],t=this;return this.recorders.forEach((function(n){e.push(new a(new Blob(n.data,{type:t.fileType}),n.name,n.startTime))})),e},u.prototype.getFileType=function(){return this.fileType},e.exports=u},function(e,t){\"use strict\";e.exports=function(e,t,n,i){this.blob=e,this.name=t,this.startTime=n,this.wordArray=i}},function(e,t,n){\"use strict\";var i=n(151),r=n(152),o=n(148),a=function(){this.url=function(){var e=\"config does not contain an url to a Sphinx4 https server\";if(void 0===config.sphinxURL)console.log(e);else{var t=config.sphinxURL;if(void 0!==t.includes&&t.includes(\"https://\"))return t;console.log(e)}}()};a.prototype=Object.create(i.prototype),a.constructor=a,a.prototype.sendRequest=function(e,t){console.log(\"sending an audio file  to \"+this.url),console.log(\"the audio file being sent: \"+e);var n=new XMLHttpRequest;n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE&&200===n.status)t(n.responseText);else if(n.readyState===XMLHttpRequest.DONE)throw new Error(\"unable to accept response from sphinx server.status: \"+n.status)},n.open(\"POST\",this.url),n.setRequestHeader(\"Content-Type\",o.determineCorrectFileType()),n.send(e),console.log(\"send \"+e)},a.prototype.formatResponse=function(e){var t=JSON.parse(e).objects;t.shift();var n=[];return t.forEach((function(e){e.filler||n.push(new r(e.word,e.start,e.end))})),n},a.prototype.verify=function(e){if(console.log(\"response from server:\"+e.toString()),\"string\"!=typeof e)return!1;var t;try{t=JSON.parse(e)}catch(e){return console.log(e),!1}if(void 0===t.objects)return!1;var n=t.objects;return!(!n[0]||!n[0][\"session-id\"])},e.exports=a},function(e,t){\"use strict\";var n=function(){throw new Error(\"TranscriptionService is abstract and cannot becreated\")};n.prototype.send=function(e,t){var n=this;this.sendRequest(e.blob,(function(i){n.verify(i)?(e.wordArray=n.formatResponse(i),t(e)):(console.log(\"the retrieved response from the server is not valid!\"),e.wordArray=[],t(e))}))},n.prototype.sendRequest=function(e,t){throw new Error(\"TranscriptionService.sendRequest is abstract\")},n.prototype.formatResponse=function(e){throw new Error(\"TranscriptionService.format is abstract\")},n.prototype.verify=function(e){throw new Error(\"TranscriptionService.verify is abstract\")},e.exports=n},function(e,t){\"use strict\";var n=function(e,t,n){this.word=e,this.begin=t,this.end=n};n.prototype.getWord=function(){return this.word},n.prototype.getBeginTime=function(){return this.begin},n.prototype.getEndTime=function(){return this.end},e.exports=n},function(e,t,n){(function(t){\"use strict\";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t,n){this.rtc=e,this.conference=t,this.trackTimers={},this.rtcMuteTimeout=\"number\"==typeof n?n:p,c.info(\"RtcMuteTimeout set to: \"+this.rtcMuteTimeout)}var o=i(n(2)),a=i(n(8)),s=function(e){return e&&e.__esModule?e:{default:e}}(n(59)),c=n(9).getLogger(t),l=n(36),u=n(32),d=n(49),p=2e3;r.prototype.init=function(){this._onEndpointConnStatusChanged=this.onEndpointConnStatusChanged.bind(this),this.rtc.addListener(d.ENDPOINT_CONN_STATUS_CHANGED,this._onEndpointConnStatusChanged),u.isVideoMuteOnConnInterruptedSupported()&&(this._onTrackRtcMuted=this.onTrackRtcMuted.bind(this),this.rtc.addListener(d.REMOTE_TRACK_MUTE,this._onTrackRtcMuted),this._onTrackRtcUnmuted=this.onTrackRtcUnmuted.bind(this),this.rtc.addListener(d.REMOTE_TRACK_UNMUTE,this._onTrackRtcUnmuted),this._onRemoteTrackAdded=this.onRemoteTrackAdded.bind(this),this.conference.on(o.TRACK_ADDED,this._onRemoteTrackAdded),this._onRemoteTrackRemoved=this.onRemoteTrackRemoved.bind(this),this.conference.on(o.TRACK_REMOVED,this._onRemoteTrackRemoved),this._onSignallingMuteChanged=this.onSignallingMuteChanged.bind(this))},r.prototype.dispose=function(){this.rtc.removeListener(d.ENDPOINT_CONN_STATUS_CHANGED,this._onEndpointConnStatusChanged),u.isVideoMuteOnConnInterruptedSupported()&&(this.rtc.removeListener(d.REMOTE_TRACK_MUTE,this._onTrackRtcMuted),this.rtc.removeListener(d.REMOTE_TRACK_UNMUTE,this._onTrackRtcUnmuted),this.conference.off(o.TRACK_ADDED,this._onRemoteTrackAdded),this.conference.off(o.TRACK_REMOVED,this._onRemoteTrackRemoved)),Object.keys(this.trackTimers).forEach((function(e){this.clearTimeout(e)}).bind(this))},r.prototype.onEndpointConnStatusChanged=function(e,t){if(c.debug(\"Detector RTCEvents.ENDPOINT_CONN_STATUS_CHANGED(\"+Date.now()+\"): \"+e+\": \"+t),e!==this.conference.myUserId()){var n=this.conference.getParticipantById(e);t&&u.isVideoMuteOnConnInterruptedSupported()&&n&&function(e){return e.getTracks().some((function(e){var t=e.getTrack();return e.getType()===l.VIDEO&&t&&!0===t.muted}))}(n)&&!n.isVideoMuted()?c.debug(\"Ignoring RTCEvents.ENDPOINT_CONN_STATUS_CHANGED - will wait for unmute event\"):this._changeConnectionStatus(e,t)}},r.prototype._changeConnectionStatus=function(e,t){var n=this.conference.getParticipantById(e);return n?void(n.isConnectionActive()!==t&&(n._setIsConnectionActive(t),c.debug(\"Emit endpoint conn status(\"+Date.now()+\"): \",e,t),s.default.sendLog(JSON.stringify({id:\"peer.conn.status\",participant:e,status:t})),s.default.analytics.sendEvent(\"peer.conn.status\",{label:t}),this.conference.eventEmitter.emit(o.PARTICIPANT_CONN_STATUS_CHANGED,e,t))):void c.warn(\"Missed participant connection status update - no participant for endpoint: \"+e)},r.prototype.clearTimeout=function(e){this.trackTimers[e]&&(window.clearTimeout(this.trackTimers[e]),this.trackTimers[e]=null)},r.prototype.onRemoteTrackAdded=function(e){e.isLocal()||e.getType()!==l.VIDEO||(c.debug(\"Detector on remote track added: \",e.getParticipantId()),e.on(a.TRACK_MUTE_CHANGED,this._onSignallingMuteChanged))},r.prototype.onRemoteTrackRemoved=function(e){e.isLocal()||e.getType()!==l.VIDEO||(c.debug(\"Detector on remote track removed: \",e.getParticipantId()),e.off(a.TRACK_MUTE_CHANGED,this._onSignallingMuteChanged),this.clearTimeout(e.getParticipantId()))},r.prototype.onTrackRtcMuted=function(e){var t=e.getParticipantId(),n=this.conference.getParticipantById(t);return c.debug(\"Detector track RTC muted: \",t),n?void(n.isVideoMuted()||(this.trackTimers[t]=window.setTimeout((function(){!e.isMuted()&&n.isConnectionActive()&&(c.info(\"Connection interrupted through the RTC mute: \"+t,Date.now()),this._changeConnectionStatus(t,!1)),this.clearTimeout(t)}).bind(this),this.rtcMuteTimeout))):void c.error(\"No participant for id: \"+t)},r.prototype.onTrackRtcUnmuted=function(e){c.debug(\"Detector track RTC unmuted: \",e);var t=e.getParticipantId();e.isMuted()||this.conference.getParticipantById(t).isConnectionActive()||(c.info(\"Detector connection restored through the RTC unmute: \"+t,Date.now()),this._changeConnectionStatus(t,!0)),this.clearTimeout(t)},r.prototype.onSignallingMuteChanged=function(e){c.debug(\"Detector on track signalling mute changed: \",e,e.isMuted());var t=e.isMuted(),n=e.getParticipantId(),i=this.conference.getParticipantById(n);if(i){var r=i.isConnectionActive();t&&r&&this.trackTimers[n]&&(c.debug(\"Signalling got in sync - cancelling task for: \"+n),this.clearTimeout(n))}else c.error(\"No participant for id: \"+n)},e.exports=r}).call(t,\"modules/connectivity/ParticipantConnectionStatus.js\")},function(e,t,n){\"use strict\";function i(e,t){var n=t.find((function(t){return\"audiooutput\"===t.kind&&t.deviceId===e}));n&&l.sendActiveDeviceListEvent(s.getEventDataForActiveDevice(n))}var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5)),o=n(14),a=n(49),s=n(48),c=n(36),l=n(59),u=new o;s.addListener(a.DEVICE_LIST_CHANGED,(function(e){u.emit(r.DEVICE_LIST_CHANGED,e)})),s.addListener(a.DEVICE_LIST_AVAILABLE,(function(e){i(d.getAudioOutputDevice(),e)}));var d={enumerateDevices:function(e){s.enumerateDevices(e)},isDeviceListAvailable:function(){return s.isDeviceListAvailable()},isDeviceChangeAvailable:function(e){return s.isDeviceChangeAvailable(e)},isDevicePermissionGranted:function(e){var t=s.getDeviceAvailability();switch(e){case c.VIDEO:return!0===t.video;case c.AUDIO:return!0===t.audio;default:return!0===t.video&&!0===t.audio}},getAudioOutputDevice:function(){return s.getAudioOutputDevice()},setAudioOutputDevice:function(e){var t=s.getCurrentlyAvailableMediaDevices();return t&&t.length>0&&i(e,s.getCurrentlyAvailableMediaDevices()),s.setAudioOutputDevice(e)},addEventListener:function(e,t){u.addListener(e,t)},removeEventListener:function(e,t){u.removeListener(e,t)},emitEvent:function(e){u.emit.apply(u,arguments)}};e.exports=d},function(e,t,n){(function(t){\"use strict\";var i=n(9).getLogger(t),r=n(32),o={getVideoElementName:function(){return r.isTemasysPluginUsed()?\"object\":\"video\"},findVideoElement:function(e){var t=o.getVideoElementName();if(!r.isTemasysPluginUsed())return $(e).find(t)[0];var n=$(e).find(\" \"+t+'>param[value=\"video\"]');return n.length?(n.length>1&&i.warn(\"Container with more than one video elements: \",e),n.parent()[0]):void 0},setVolume:function(e,t){r.isIExplorer()||(e.volume=t)},setAutoPlay:function(e,t){r.isIExplorer()||(e.autoplay=t)}};e.exports=o}).call(t,\"modules/RTC/RTCUIHelper.js\")}]),window.JitsiMeetJS};\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define([],n):\"object\"==typeof exports?exports.JitsiMeetJS=n():e.JitsiMeetJS=n()}(this);","extractedComments":[]}